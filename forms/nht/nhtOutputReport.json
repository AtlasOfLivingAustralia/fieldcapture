{
  "id": "64bf6c1ac9126a73736284ff",
  "dateCreated": "2023-07-25T06:30:50Z",
  "minOptionalSectionsCompleted": 0,
  "supportsSites": true,
  "lastUpdated": "2023-10-04T11:46:09Z",
  "createdUserId": "1493",
  "external": false,
  "activationDate": null,
  "supportsPhotoPoints": false,
  "publicationStatus": "published",
  "externalIds": null,
  "gmsId": null,
  "name": "NHT Output Report",
  "sections": [
    {
      "collapsedByDefault": false,
      "template": {
        "name": "NHT - Communications",
        "title": "Communications",
        "dataModel": [
          {
            "name": "nhtCommunications",
            "dataType": "text",
            "description": "This <u>does not</u> include communication activities undertaken under the 'Communication Materials' Project Service or regional capacity service. Refer to the Project Services  and Overheads (PS&O) service summary to clarify what type of communications activity is paid under the PS&O service. All Communication Materials must correctly acknowledge Australian Government funding.",
            "validate": "required",
            "constraints": [
              "Yes",
              "No"
            ]
          },
          {
            "name": "yesCommunicationsMaterial",
            "dataType": "text",
            "validate": "required,maxSize[300]",
            "description": "Upload documents by clicking onto the 'Attach Document' button or provide a link in the free text field.",
            "behaviour": [
              {
                "condition": "nhtCommunications == \"Yes\"",
                "type": "enable"
              }
            ]
          },
          {
            "dataType": "document",
            "name": "attachments",
            "description": "Please attach any Evidence of Service Delivery here."
          }
        ],
        "viewModel": [
          {
            "type": "row",
            "items": [
              {
                "css": "span6",
                "type": "selectOne",
                "source": "nhtCommunications",
                "preLabel": "During this reporting period was any communication material developed and published?"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "type": "textarea",
                "source": "yesCommunicationsMaterial",
                "preLabel": "If yes, please provide link or copy of the material."
              }
            ]
          },
          {
            "type": "row",
            "behaviour": [
              {
                "type": "if_expression",
                "condition": "nhtCommunications == \"Yes\""
              }
            ],
            "items": [
              {
                "type": "col",
                "items": [
                  {
                    "title": "Attached documents",
                    "source": "attachments",
                    "type": "document"
                  }
                ]
              }
            ]
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtOutputCommunications",
      "optional": false,
      "optionalQuestionText": null,
      "title": "NHT - Communications",
      "collapsibleHeading": null,
      "name": "NHT - Communications",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "title": "Engagement activities or events, to the Community, which are directly relevant to delivery of Project",
        "modelName": "NHT - Project Engagements",
        "dataModel": [
          {
            "dataType": "list",
            "name": "engagementDetails",
            "columns": [
              {
                "dataType": "stringList",
                "name": "engagementType",
                "constraints": [
                  "One-on-one technical advice",
                  "Negotiations with the community, etc.",
                  "Facilitating/Hosting on-ground trials/demos",
                  "Hosting workshops",
                  "Facilitating/Hosting conferences/seminars"
                ],
                "validate": "required"
              },
              {
                "dataType": "text",
                "name": "engagementTitle",
                "validate": "required"
              },
              {
                "dataType": "text",
                "name": "engagementPurpose",
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "engagementNoParticipants",
                "validate": "required"
              },
              {
                "dataType": "date",
                "name": "activityDateFrom",
                "validate": "required"
              },
              {
                "dataType": "date",
                "name": "activityDateTo",
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "future",
                    "param": {
                      "expression": "formatDateForValidation(activityDateFrom)",
                      "type": "computed"
                    }
                  }
                ]
              }
            ]
          },
          {
            "dataType": "text",
            "name": "comments",
            "validate": "maxSize[1500]"
          },
          {
            "dataType": "boolean",
            "name": "dataUploaded",
            "description": ""
          },
          {
            "name": "projectAssuranceDetails",
            "dataType": "text",
            "validate": "required,maxSize[5000]"
          },
          {
            "dataType": "list",
            "name": "assuranceDocuments",
            "columns": [
              {
                "dataType": "document",
                "name": "attachments",
                "description": "Please attach any Evidence of Service Delivery here."
              }
            ]
          }
        ],
        "viewModel": [
          {
            "items": [
              {
                "type": "table",
                "source": "engagementDetails",
                "title": "<b>Please list community engagement activities undertaken, including the title, description, and the number of participants for each activity undertaken in this reporting period, if any.</b><br><br><b>Each activity must be reported in a separate row.</b><br>This does not include engagement activities undertaken in community/stakeholder engagement service or regional capacity service. The Register of Engagement must be retained as evidence.",
                "preLabel": "If yes, please provide link or copy of the material.",
                "userAddedRows": true,
                "columns": [
                  {
                    "source": "engagementType",
                    "type": "selectOne",
                    "width": "20%",
                    "title": "Type"
                  },
                  {
                    "source": "engagementTitle",
                    "type": "text",
                    "width": "25%",
                    "title": "Title"
                  },
                  {
                    "type": "textarea",
                    "source": "engagementPurpose",
                    "width": "25%",
                    "title": "Purpose",
                    "rows": 4
                  },
                  {
                    "source": "engagementNoParticipants",
                    "type": "number",
                    "width": "10%",
                    "title": "Number of participants"
                  },
                  {
                    "title": "Activity Date from",
                    "source": "activityDateFrom",
                    "type": "date",
                    "width": "10%"
                  },
                  {
                    "title": "Activity Date to",
                    "source": "activityDateTo",
                    "type": "date",
                    "width": "10%"
                  }
                ]
              }
            ],
            "type": "section"
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtProjectEngagements",
      "optional": false,
      "optionalQuestionText": null,
      "title": "NHT - Project Engagements",
      "collapsibleHeading": null,
      "name": "NHT - Project Engagements",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "title": "Coordinate Projects and MERI",
        "modelName": "NHT - Coordinate",
        "dataModel": [
          {
            "name": "undergoneReview",
            "dataType": "text",
            "validate": "required",
            "constraints": [
              "Yes",
              "No",
              "NA"
            ]
          },
          {
            "name": "yesUndergoneReview",
            "dataType": "text",
            "validate": "required,maxSize[4000]",
            "behaviour": [
              {
                "condition": "undergoneReview == \"Yes\"",
                "type": "enable"
              }
            ]
          },
          {
            "name": "workOrderVariation",
            "dataType": "text",
            "validate": "required",
            "behaviour": [
              {
                "condition": "undergoneReview == \"Yes\"",
                "type": "enable"
              }
            ],
            "constraints": [
              "Yes",
              "No",
              "Not Applicable"
            ]
          },
          {
            "name": "plansDeveloped",
            "dataType": "text",
            "validate": "required",
            "constraints": [
              "Yes",
              "No",
              "Not Applicable"
            ]
          },
          {
            "name": "planName",
            "dataType": "text",
            "validate": "required,maxSize[100]",
            "behaviour": [
              {
                "condition": "plansDeveloped == \"Yes\"",
                "type": "enable"
              }
            ]
          },
          {
            "name": "planPurpose",
            "dataType": "text",
            "validate": "required,maxSize[300]",
            "behaviour": [
              {
                "condition": "plansDeveloped == \"Yes\"",
                "type": "enable"
              }
            ]
          },
          {
            "name": "facilitatedPlanningMeetings",
            "dataType": "text",
            "validate": "required",
            "constraints": [
              "Yes",
              "No",
              "Not Applicable"
            ]
          },
          {
            "dataType": "list",
            "name": "meetingDetails",
            "columns": [
              {
                "dataType": "date",
                "behaviour": [
                  {
                    "type": "enable_and_clear",
                    "condition": "facilitatedPlanningMeetings == \"Yes\""
                  }
                ],
                "name": "meetingDateFrom",
                "validate": "required"
              },
              {
                "dataType": "date",
                "behaviour": [
                  {
                    "type": "enable_and_clear",
                    "condition": "facilitatedPlanningMeetings == \"Yes\""
                  }
                ],
                "name": "meetingDateTo",
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "future",
                    "param": {
                      "expression": "formatDateForValidation(meetingDateFrom)",
                      "type": "computed"
                    }
                  }]
              },
              {
                "dataType": "text",
                "behaviour": [
                  {
                    "type": "enable_and_clear",
                    "condition": "facilitatedPlanningMeetings == \"Yes\""
                  }
                ],
                "name": "meetingName",
                "validate": "required,maxSize[100]"
              },
              {
                "dataType": "text",
                "behaviour": [
                  {
                    "type": "enable_and_clear",
                    "condition": "facilitatedPlanningMeetings == \"Yes\""
                  }
                ],
                "name": "meetingDescription",
                "validate": "required,maxSize[4000]"
              }
            ]
          },
          {
            "dataType": "text",
            "name": "comments",
            "validate": "maxSize[1500]"
          },
          {
            "dataType": "boolean",
            "name": "dataUploaded",
            "description": ""
          },
          {
            "name": "projectAssuranceDetails",
            "dataType": "text",
            "validate": "required,maxSize[5000]"
          },
          {
            "dataType": "list",
            "name": "assuranceDocuments",
            "columns": [
              {
                "dataType": "document",
                "name": "attachments",
                "description": "Please attach any Evidence of Service Delivery here."
              }
            ]
          }
        ],
        "viewModel": [
          {
            "type": "row",
            "items": [
              {
                "css": "span6",
                "type": "selectOne",
                "source": "undergoneReview",
                "preLabel": "During this reporting period has the project implementation plan undergone a review or amendment?"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "type": "textarea",
                "source": "yesUndergoneReview",
                "preLabel": "If yes, please provide a summary of the changes."
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "css": "span6",
                "type": "selectOne",
                "source": "workOrderVariation",
                "preLabel": "Will these changes require a work order variation?"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "css": "span6",
                "type": "selectOne",
                "source": "plansDeveloped",
                "preLabel": "During this reporting period have any site/project/monitoring plans been developed to support project delivery? "
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "css": "span3",
                "type": "text",
                "source": "planName",
                "preLabel": "Name of plan"
              },
              {
                "css": "span6",
                "type": "textarea",
                "source": "planPurpose",
                "preLabel": "Purpose of plan"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "css": "span6",
                "type": "selectOne",
                "source": "facilitatedPlanningMeetings",
                "preLabel": "During this reporting period did you facilitate/host any steering/technical advisory/stakeholder planning meetings?"
              }
            ]
          },
          {
            "items": [
              {
                "type": "table",
                "source": "meetingDetails",
                "userAddedRows": true,
                "columns": [
                  {
                    "source": "meetingDateFrom",
                    "type": "date",
                    "width": "10%",
                    "title": "Date from"
                  },
                  {
                    "source": "meetingDateTo",
                    "type": "date",
                    "width": "10%",
                    "title": "Date to"
                  },
                  {
                    "type": "text",
                    "source": "meetingName",
                    "title": "Name of event",
                    "rows": 4
                  },
                  {
                    "type": "textarea",
                    "source": "meetingDescription",
                    "title": "Purpose of the Meeting/Workshop",
                    "rows": 4
                  }
                ]
              }
            ],
            "type": "section"
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtCoordinate",
      "optional": false,
      "optionalQuestionText": null,
      "title": "NHT - Coordinate",
      "collapsibleHeading": null,
      "name": "NHT - Coordinate",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "name": "NHT - Project Commencement",
        "title": "Project Commencement",
        "dataModel": [],
        "viewModel": [
          {
            "type": "row",
            "items": [
              {
                "source": "<i>‘Any service delivered using the commencement payment should be reported in the relevant reporting field.’</i>",
                "type": "literal"
              }
            ]
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtProjectCommencement",
      "optional": false,
      "optionalQuestionText": null,
      "title": "NHT - Project Commencement",
      "collapsibleHeading": null,
      "name": "NHT - Project Commencement",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "name": "NHT - Project WHS",
        "title": "Project WHS Risk Register",
        "dataModel": [
          {
            "name": "undergoneWhsReview",
            "dataType": "text",
            "validate": "required",
            "description": "The WHS risk register for project services must be reviewed and updated where new risks are identified, or control measures have changed.",
            "constraints": [
              "Yes",
              "No"
            ]
          },
          {
            "name": "yesUndergoneWhsReview",
            "dataType": "text",
            "validate": "required,maxSize[300]",
            "behaviour": [
              {
                "condition": "undergoneWhsReview == \"Yes\"",
                "type": "enable"
              }
            ]
          },
          {
            "name": "hasNotifiableIncident",
            "dataType": "text",
            "validate": "required",
            "description": "A WHS Notifiable incident is defined within Work Health and Safety Act (Cth) 2011 Part 3 – Incident Notification. (https://www.legislation.gov.au/Details/C2018C00293). Refer to Deed of Standing offer clause 42 Work Health and Safety for further information on these requirements.",
            "constraints": [
              "Yes",
              "No"
            ]
          },
          {
            "name": "yesHasNotifiableIncident",
            "dataType": "text",
            "constraints": [
              "Yes",
              "No"
            ],
            "behaviour": [
              {
                "condition": "hasNotifiableIncident == \"Yes\"",
                "type": "enable"
              }
            ]
          },
          {
            "name": "hasVerifiedSubContractors",
            "dataType": "text",
            "validate": "required",
            "description": "If there have been no current or new subcontracting arrangement during this reporting period, please report as Not Applicable. Refer to Deed of standing offer clause 20 Subcontracting and 42 Work Health and Safety for further information on these requirements.",
            "constraints": [
              "Yes",
              "No",
              "Not Applicable"
            ]
          },
          {
            "name": "notVerifiedSubContractors",
            "dataType": "text",
            "validate": "required,maxSize[300]",
            "behaviour": [
              {
                "condition": "hasVerifiedSubContractors == \"No\"",
                "type": "enable"
              }
            ]
          }
        ],
        "viewModel": [
          {
            "type": "row",
            "items": [
              {
                "css": "span6",
                "type": "selectOne",
                "source": "undergoneWhsReview",
                "preLabel": "Have any project WHS risks or control measures in the project WHS risk register been reviewed and updated during the reporting period?"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "type": "textarea",
                "source": "yesUndergoneWhsReview",
                "preLabel": "If yes, please provide a brief description of the changes made."
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "css": "span6",
                "type": "selectOne",
                "source": "hasNotifiableIncident",
                "preLabel": "In the past reporting period, have any notifiable incidents or events occurred during the delivery of the project services?"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "css": "span6",
                "type": "selectOne",
                "source": "yesHasNotifiableIncident",
                "preLabel": "If yes, has the incident/event been reported to the department and the relevant documentation provided?"
              }
            ]
          },
          {
            "type": "row",
            "behaviour": [
              {
                "type": "if_expression",
                "condition": "yesHasNotifiableIncident == \"No\""
              }
            ],
            "items": [
              {
                "source": "<span class=\"preLabel required\"><label><i>If no, provide notification as outlined in the Deed of Standing offer clause 42.3 Notifying the customer.</i>",
                "type": "literal"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "css": "span6",
                "type": "selectOne",
                "source": "hasVerifiedSubContractors",
                "preLabel": "Have you verified that all subcontractors engaged during the reporting period (existing and new) are meeting WHS requirements under the Deed and this contract, and that corroborating documentation such as relevant permits, licences etc have been retained?"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "type": "textarea",
                "source": "notVerifiedSubContractors",
                "preLabel": "If no, provide reason on why checks have not been undertaken."
              }
            ]
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtProjectWHS",
      "optional": false,
      "optionalQuestionText": null,
      "title": "NHT - Project WHS",
      "collapsibleHeading": null,
      "name": "NHT - Project WHS",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template":   {
        "dataModel": [
          {
            "allowRowDelete": "false",
            "columns": [
              {
                "dataType": "text",
                "name": "participationIndividualsOrGroups",
                "description": "Once Individuals or groups is selected, the related number field in the next two columns will become editable to report.",
                "constraints": [
                  "Individuals",
                  "Groups"
                ],
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "participationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "participationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ]
              },
              {
                "dataType": "number",
                "name": "firstNationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "param": {
                      "expression": "participationIndividualNumber",
                      "type": "computed"
                    },
                    "rule": "max"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "firstNationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "param": {
                      "expression": "participationGroupNumber",
                      "type": "computed"
                    },
                    "rule": "max",
                    "message": "The number of first nation participants cannot be greater than the total number of participants"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "participationDetails",
                "validate": "required, maxSize[3000]"
              }
            ],
            "dataType": "list",
            "name": "participationInformationTableCbp"
          },
          {
            "columns": [
              {
                "name": "relatedOutcomes",
                "dataType": "text",
                "description": "Select the outcome/s as defined in your MERI plan that this service was delivered to achieve.",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "value",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "context-path": "outcomes"
                    }
                  }
                }
              },
              {
                "name": "investmentPriorities2",
                "dataType": "text",
                "description": "",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "value",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "context-path": "owner.investmentPriorities"
                    }
                  }
                }
              },
              {
                "dataType": "text",
                "name": "otherInvestmentPriority",
                "behaviour": [
                  {
                    "type": "enable",
                    "condition": "\"Other\" in investmentPriorities2"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "invoicingThisActivity",
                "constraints": [
                  "Yes",
                  "No"
                ],
                "validate": "required"
              },
              {
                "dataType": "text",
                "name": "activityType",
                "constraints": [
                  "Captive Breeding",
                  "Release",
                  "Translocation",
                  "Re-introduction"
                ],
                "validate": "required"
              },
              {
                "dataType": "text",
                "name": "activityPermit",
                "constraints": [
                  "Yes",
                  "No"
                ],
                "validate": "required"
              },
              {
                "dataType": "text",
                "name": "inSituExSitu",
                "constraints": [
                  "Ex-situ",
                  "In-situ"
                ],
                "validate": "required"
              },
              {
                "dataType": "text",
                "name": "newOrMaintained",
                "constraints": [
                  "Newly established",
                  "Maintained"
                ],
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "numberOfCaptiveBreeding",
                "validate": "required"
              },
              {
                "dataType": "feature",
                "name": "areaOfSourceSite",
                "description": "Mapping field to be done and Area (ha) field be auto-calculated from mapping."
              },
              {
                "computed": {
                  "expression": "$geom.areaHa(areaOfSourceSite)"
                },
                "dataType": "number",
                "name": "calculatedAreaOfSourceSiteAreaHa",
                "units": "ha",
                "decimalPlaces": 3
              },
              {
                "defaultValue": {
                  "type": "computed",
                  "expression": "calculatedAreaOfSourceSiteAreaHa"
                },
                "dataType": "number",
                "name": "areaOfSourceSiteTreatedHa",
                "description": "Manually enter correct figure for this reporting period if different to mapped value.",
                "units": "ha",
                "decimalPlaces": 3,
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedReasonSourceSite",
                "constraints": [
                  "Mapped area simplifies more complex area/s where work was undertaken during this period",
                  "Other"
                ],
                "validate": "required",
                "behaviour": [
                  {
                    "condition": "not (within(areaOfSourceSiteTreatedHa, calculatedAreaOfSourceSiteAreaHa, 0.1))",
                    "type": "if"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedCommentsSourceSite",
                "validate": "required,maxSize[100]",
                "behaviour": [
                  {
                    "type": "visible",
                    "condition": "\"Other\" == mappingNotAlignedReasonSourceSite"
                  }
                ]
              },
              {
                "dataType": "document",
                "name": "extraMappingDetailsSourceSite",
                "validate": "required",
                "description": "Please fill in the Mapped/Actual/Invoice fields before attaching a document here. If those fields match this field will be void. <br/>If any of these fields differ please attach your organisation's detailed map for the area, covered by this project service - during reporting period (include the scale measure for each map).",
                "behaviour": [
                  {
                    "condition": "not (within(areaOfSourceSiteTreatedHa, calculatedAreaOfSourceSiteAreaHa, 0.1))",
                    "type": "if"
                  }
                ]
              },

              {
                "dataType": "feature",
                "name": "areaOfReleaseSite",
                "description": "Mapping field to be done and Area (ha) field be auto-calculated from mapping."
              },
              {
                "computed": {
                  "expression": "$geom.areaHa(areaOfReleaseSite)"
                },
                "dataType": "number",
                "name": "calculatedAreaOfReleaseSiteHa",
                "units": "ha",
                "decimalPlaces": 3
              },
              {
                "defaultValue": {
                  "type": "computed",
                  "expression": "calculatedAreaOfReleaseSiteHa"
                },
                "dataType": "number",
                "name": "areaOfReleaseSiteTreatedHa",
                "description": "Manually enter correct figure for this reporting period if different to mapped value.",
                "units": "ha",
                "decimalPlaces": 3,
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedReasonReleaseSite",
                "constraints": [
                  "Mapped area simplifies more complex area/s where work was undertaken during this period",
                  "Other"
                ],
                "validate": "required",
                "behaviour": [
                  {
                    "condition": "not (within(areaOfReleaseSiteTreatedHa, calculatedAreaOfReleaseSiteHa, 0.1))",
                    "type": "if"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedCommentsReleaseSite",
                "validate": "required,maxSize[100]",
                "behaviour": [
                  {
                    "type": "visible",
                    "condition": "\"Other\" == mappingNotAlignedReasonReleaseSite"
                  }
                ]
              },
              {
                "dataType": "document",
                "name": "extraMappingDetailsReleaseSite",
                "validate": "required",
                "description": "Please fill in the Mapped/Actual/Invoice fields before attaching a document here. If those fields match this field will be void. <br/>If any of these fields differ please attach your organisation's detailed map for the area, covered by this project service - during reporting period (include the scale measure for each map).",
                "behaviour": [
                  {
                    "condition": "not (within(areaOfReleaseSiteTreatedHa, calculatedAreaOfReleaseSiteHa, 0.1))",
                    "type": "if"
                  }
                ]
              },

              {
                "columns": [
                  {
                    "dataType": "date",
                    "name": "activitiesStartDate",
                    "description": "Specific the dates these events were held on.",
                    "validate": "required"
                  },
                  {
                    "dataType": "date",
                    "name": "activitiesEndDate",
                    "description": "Specific the dates these events were held on.",
                    "validate": [
                      {
                        "rule": "required"
                      },
                      {
                        "rule": "future",
                        "param": {
                          "expression": "formatDateForValidation(activitiesStartDate)",
                          "type": "computed"
                        }
                      }
                    ]
                  },
                  {
                    "dataType": "text",
                    "name": "breedingTechnique",
                    "constraints": [
                      "Captive breeding",
                      "Fauna captive breeding program",
                      "Fauna wild breeding program",
                      "Other"
                    ],
                    "validate": "required"
                  },
                  {
                    "dataType": "text",
                    "name": "otherBreedingTechnique",
                    "description": "",
                    "behaviour": [
                      {
                        "condition": "breedingTechnique == \"Other\"",
                        "type": "enable"
                      }
                    ],
                    "validate": "required,maxSize[300]"
                  },
                  {
                    "dataType": "text",
                    "name": "individualsOrGroups",
                    "constraints": [
                      "Individuals",
                      "Groups"
                    ],
                    "validate": "required"
                  },
                  {
                    "dataType": "number",
                    "name": "numberOfIndividualsOrGroups",
                    "validate": "required,min[0]"
                  },
                  {
                    "dataType": "number",
                    "name": "numberOfIndividualsReleased",
                    "validate": "required,min[0]"
                  },
                  {
                    "dataType": "number",
                    "name": "numberOfAdnimalDiedPreReleased",
                    "validate": "required,min[0]"
                  },
                  {
                    "name": "projectBaseline",
                    "dataType": "text",
                    "description": "Select the relevant Project Baseline as listed in the Monitoring Methodology section of the MERI Plan.",
                    "validate": "required",
                    "constraints": {
                      "textProperty": "baseline",
                      "valueProperty": "code",
                      "type": "pre-populated",
                      "excludePath": "projectBaseline",
                      "config": {
                        "source": {
                          "context-path": "owner.custom.details.baseline.rows"
                        }
                      }
                    }
                  },
                  {
                    "name": "datasetSupports",
                    "dataType": "text",
                    "description": "This section will require the Data Set Name so the Metadata fields in the Data Set Summary tab should be filled out before the Outcome Report is due. More than one dataset if relevant for this Project Baseline could be selected.",
                    "validate": "required",
                    "constraints": {
                      "textProperty": "name",
                      "valueProperty": "dataSetId",
                      "type": "pre-populated",
                      "config": {
                        "source": {
                          "context-path": "owner.custom.dataSets"
                        }
                      }
                    }
                  }
                ],
                "dataType": "list",
                "name": "speciesInBreedingProgram"
              }
            ],
            "dataType": "list",
            "name": "breedingProgramDetails"
          },
          {
            "name": "numberOfBreedingProgramsSurveysConducted",
            "type": "number",
            "decimalPlaces": 0,
            "computed": {
              "expression": "count(breedingProgramDetails, \"numberOfIndividualsReleased\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalCaptiveBreedingEstablished",
            "validate": "min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(breedingProgramDetails, \"newOrMaintained == 'Newly established' ? numberOfCaptiveBreeding : 0\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalCaptiveBreedingEstablishedInvoiced",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalCaptiveBreedingEstablished",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": ""
          },
          {
            "dataType": "number",
            "name": "totalCaptiveBreedingMaintained",
            "validate": "min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(breedingProgramDetails, \"newOrMaintained == 'Maintained' ? numberOfCaptiveBreeding : 0\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalCaptiveBreedingMaintainedInvoiced",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalCaptiveBreedingMaintained",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": ""
          },
          {
            "dataType": "text",
            "name": "totalInvoicedCaptiveBreedingMismatched",
            "description": "Please provide the reason/s why you are not invoicing for the same number that have been completed and delivered, e.g. the personnel and equipment were available to deliver more than was contracted.",
            "validate": "maxSize[400],required",
            "behaviour": [
              {
                "condition": "totalCaptiveBreedingEstablishedInvoiced < totalCaptiveBreedingEstablished or totalCaptiveBreedingMaintainedInvoiced < totalCaptiveBreedingMaintained",
                "type": "enable"
              }
            ]
          },
          {
            "dataType": "text",
            "name": "comments",
            "validate": "maxSize[1500]"
          },
          {
            "dataType": "image",
            "name": "photographicEvidence"
          },
          {
            "dataType": "boolean",
            "name": "dataUploaded",
            "description": "<ul><li>Tick box to confirm data has been uploaded</li><li>URL Link (mandatory if below is ticked) in available evidence</li></ul>"
          },
          {
            "name": "projectAssuranceDetails",
            "dataType": "text",
            "validate": "required,maxSize[5000]"
          },
          {
            "dataType": "list",
            "name": "assuranceDocuments",
            "columns": [
              {
                "dataType": "document",
                "name": "attachments",
                "description": "Please attach any Evidence of Service Delivery here."
              }
            ]
          }
        ],
        "modelName": "NHT - Establishing ex-situ breeding programs",
        "title": "Captive Breeding, Translocation or Re-introduction Program",
        "viewModel": [
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<h3>Participation information</h3>"
              }
            ]
          },
          {
            "disableTableUpload": true,
            "columns": [
              {
                "width": "10%",
                "source": "participationIndividualsOrGroups",
                "title": "Are individuals or groups delivering this service?",
                "type": "selectOne"
              },
              {
                "width": "20%",
                "type": "col",
                "title": "Total number of people delivering this service <br>(including First Nations people)<b style=\"color:red\">*</b>",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "participationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "participationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "type": "col",
                "width": "20%",
                "title": "Total number of First Nations people delivering this service<b style=\"color:red\">*</b>",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "firstNationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "firstNationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "width": "20%",
                "source": "participationDetails",
                "rows": 4,
                "title": "If no First Nations people participated in the delivery of this service, <br>what are the reasons? If there was participation, please provide details.",
                "helpText": "If there were no First Nations people participating in the delivery of this service, please explain the reasons. If there were First Nations people involved, please outline how they were involved.",
                "type": "textarea"
              }
            ],
            "source": "participationInformationTableCbp",
            "type": "table"
          },
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<h3>Totals Summary</h3>"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(i) Total number of captive breeding and release, translocation or re-introduction programs (established) for this reporting period",
                        "source": "totalCaptiveBreedingEstablished",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(ii) Total number of captive breeding and release, translocation or re-introduction programs (established) <u><i>invoiced</i></u> for this reporting period",
                        "source": "totalCaptiveBreedingEstablishedInvoiced",
                        "type": "number"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(iii) Total number of captive breeding and release, translocation or re-introduction programs (maintained) for this reporting period",
                        "source": "totalCaptiveBreedingMaintained",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(iv) Total number of captive breeding and release, translocation or re-introduction programs (maintained) <u><i>invoiced</i></u> for this reporting period",
                        "source": "totalCaptiveBreedingMaintainedInvoiced",
                        "type": "number"
                      }
                    ]
                  }
                ]
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "If the total invoiced is different to the total completed, please provide the reason",
                "source": "totalInvoicedCaptiveBreedingMismatched",
                "type": "textarea",
                "rows": 4,
                "placeholder": ""
              }
            ]
          },
          {
            "type": "section",
            "items": [
              {
                "addRowText": "Add a new breeding area",
                "userAddedRows": true,
                "source": "breedingProgramDetails",
                "type": "repeat",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "css": "span3",
                        "type": "col",
                        "items": [
                          {
                            "type": "row",
                            "items": [
                              {
                                "source": "relatedOutcomes",
                                "type": "selectOne",
                                "preLabel": "Which outcome statement/s does this activity relate to?"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "col",
                        "css": "span3 col-border-right",
                        "items": [
                          {
                            "type": "row",
                            "items": [
                              {
                                "source": "investmentPriorities2",
                                "preLabel": "Which investment priority does this activity relate to?",
                                "type": "select2Many"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "css": "span3",
                        "type": "col",
                        "items": [
                          {
                            "type": "row",
                            "items": [
                              {
                                "source": "invoicingThisActivity",
                                "preLabel": "Are you invoicing for this activity in this reporting period?",
                                "type": "selectOne"
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "css": "border-bottom",
                    "items": [
                      {
                        "type": "col",
                        "css": "span3 col-border-right",
                        "items": [
                          {
                            "type": "row",
                            "items": [
                              {
                                "preLabel": "Type of activity",
                                "source": "activityType",
                                "type": "selectOne"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "col",
                        "css": "span3 col-border-right",
                        "items": [
                          {
                            "type": "row",
                            "items": [
                              {
                                "preLabel": "Is this an established or maintained activity?",
                                "source": "newOrMaintained",
                                "type": "selectOne"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "col",
                        "css": "span3 col-border-right",
                        "items": [
                          {
                            "type": "row",
                            "items": [
                              {
                                "preLabel": "Were permits obtained to support this activity?",
                                "source": "activityPermit",
                                "type": "selectOne"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "col",
                        "css": "span3 col-border-right",
                        "items": [
                          {
                            "type": "row",
                            "items": [
                              {
                                "preLabel": "Ex-situ / In-situ",
                                "source": "inSituExSitu",
                                "type": "selectOne"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "col",
                        "css": "span3 col-border-right",
                        "items": [
                          {
                            "type": "row",
                            "items": [
                              {
                                "source": "areaOfSourceSite",
                                "type": "feature",
                                "preLabel": "Site/s of captive breeding, pre-translocation capture (source site)"
                              }
                            ]
                          },
                          {
                            "type": "row",
                            "items": [
                              {
                                "source": "calculatedAreaOfSourceSiteAreaHa",
                                "type": "number",
                                "readonly": true,
                                "displayOptions": {
                                  "displayUnits": true
                                }
                              }
                            ]
                          },
                          {
                            "type": "row",
                            "items": [
                              {
                                "preLabel": "Please attach mapping details",
                                "source": "extraMappingDetailsSourceSite",
                                "type": "document"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "col",
                        "css": "span3 col-border-right",
                        "items": [
                          {
                            "type": "row",
                            "items": [
                              {
                                "preLabel": "Actual area (ha) of captive breeding, pre-translocation capture (source site)",
                                "source": "areaOfSourceSiteTreatedHa",
                                "type": "number",
                                "displayOptions": {
                                  "displayUnits": true
                                }
                              }
                            ]
                          },
                          {
                            "type": "row",
                            "items": [
                              {
                                "preLabel": "Reason for actual being different to mapped amount",
                                "source": "mappingNotAlignedReasonSourceSite",
                                "type": "selectOne"
                              }
                            ]
                          },
                          {
                            "type": "row",
                            "items": [
                              {
                                "placeholder": "Please enter the reason/s the mapping didn't align with the invoiced amount",
                                "source": "mappingNotAlignedCommentsSourceSite",
                                "type": "textarea",
                                "rows": 5
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "col",
                        "css": "span3 col-border-right",
                        "items": [
                          {
                            "type": "row",
                            "items": [
                              {
                                "source": "areaOfReleaseSite",
                                "type": "feature",
                                "preLabel": " Site/s of release of captive breeding, re-introduced or translocated animals (release site)"
                              }
                            ]
                          },
                          {
                            "type": "row",
                            "items": [
                              {
                                "readonly": "readonly",
                                "source": "calculatedAreaOfReleaseSiteHa",
                                "type": "number",
                                "displayOptions": {
                                  "displayUnits": true
                                }
                              }
                            ]
                          },
                          {
                            "type": "row",
                            "items": [
                              {
                                "preLabel": "Please attach mapping details",
                                "source": "extraMappingDetailsReleaseSite",
                                "type": "document"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "col",
                        "css": "span3 col-border-right",
                        "items": [
                          {
                            "type": "row",
                            "items": [
                              {
                                "preLabel": "Actual area (ha) of release of captive breeding, re-introduced or translocated animals (release site)",
                                "source": "areaOfReleaseSiteTreatedHa",
                                "type": "number",
                                "displayOptions": {
                                  "displayUnits": true
                                }
                              }
                            ]
                          },
                          {
                            "type": "row",
                            "items": [
                              {
                                "preLabel": "Reason for actual being different to mapped amount",
                                "source": "mappingNotAlignedReasonReleaseSite",
                                "type": "selectOne"
                              }
                            ]
                          },
                          {
                            "type": "row",
                            "items": [
                              {
                                "placeholder": "Please enter the reason/s the mapping didn't align with the invoiced amount",
                                "source": "mappingNotAlignedCommentsReleaseSite",
                                "type": "textarea",
                                "rows": 5
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "col",
                        "css": "span3 col-border-right",
                        "items": [
                          {
                            "type": "row",
                            "items": [
                              {
                                "preLabel": "Number of captive breeding, release, translocation, or re-introduction sites established/ maintained",
                                "source": "numberOfCaptiveBreeding",
                                "type": "number"
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "addRowText": "Add a species",
                    "columns": [
                      {
                        "width": "15%",
                        "source": "activitiesStartDate",
                        "type": "date",
                        "title": "Activity start date"
                      },
                      {
                        "width": "15%",
                        "source": "activitiesEndDate",
                        "type": "date",
                        "title": "Activity end date"
                      },
                      {
                        "width": "15%",
                        "source": "individualsOrGroups",
                        "type": "selectOne",
                        "title": "Individuals or groups?"
                      },
                      {
                        "width": "10%",
                        "source": "numberOfIndividualsOrGroups",
                        "title": "Number of groups/individuals of the investment priority species in captive breeding, release, translocation or re-introduction program",
                        "type": "number"
                      },
                      {
                        "width": "10%",
                        "source": "numberOfAdnimalDiedPreReleased",
                        "title": "Number of groups/individuals of the investment priority species that died (pre-release)",
                        "type": "number"
                      },
                      {
                        "width": "10%",
                        "source": "numberOfIndividualsReleased",
                        "title": "Number of groups/individuals released, translocated or re-introduced to the wild",
                        "type": "number"
                      },
                      {
                        "width": "10%",
                        "type": "col",
                        "title": "Technique of captive breeding, release, translocation or re-introduction used",
                        "items": [
                          {
                            "source": "breedingTechnique",
                            "type": "selectOne"
                          },
                          {
                            "source": "otherBreedingTechnique",
                            "type": "text"
                          }
                        ]
                      },
                      {
                        "source": "projectBaseline",
                        "type": "selectOne",
                        "width": "15%",
                        "title": "Which project baseline relates to this activity?"
                      }
                    ],
                    "userAddedRows": true,
                    "disableTableUpload": true,
                    "source": "speciesInBreedingProgram",
                    "type": "table"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Optionally attach photos",
                    "source": "photographicEvidence",
                    "type": "image"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Clarification, if needed",
                    "type": "textarea",
                    "rows": 4,
                    "css": "span8",
                    "source": "comments",
                    "placeholder": "Clarification comments include information for your project manager about the service like:\n • any reported items that are not being invoiced (eg, over-achievement) \n • any extraneous circumstances that affected delivery of the service \n"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<p><b>Available Evidence</b></p>This field is mandatory for all projects as part of the invoicing process. Please list evidence you have retained for this service and provide information to where the evidence is stored (links/file location data). Refer to the Project Service Evidence Guide and the Project Service Summaries for information on the evidence requirements.<b style=\"color:red\">*</b>"
                  },
                  {
                    "preLabel": "Data have been uploaded",
                    "source": "dataUploaded",
                    "type": "boolean"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "",
                    "source": "projectAssuranceDetails",
                    "type": "textarea",
                    "rows": 4,
                    "placeholder": "List the documentary evidence you have available for this project service. Include specifically, the document titles and location (e.g. internal IT network pathway, URLs) to assist with locating this material for future audits/assurance purposes."
                  }
                ]
              },
              {
                "type": "table",
                "source": "assuranceDocuments",
                "userAddedRows": true,
                "disableTableUpload": true,
                "columns": [
                  {
                    "title": "Attached documents",
                    "source": "attachments",
                    "type": "document"
                  }
                ]
              }
            ]
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtExSituBreedingSites",
      "optional": true,
      "optionalQuestionText": null,
      "title": "Establishing ex-situ breeding program",
      "collapsibleHeading": null,
      "name": "NHT - Establishing ex-situ breeding programs",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "dataModel": [
          {
            "allowRowDelete": "false",
            "columns": [
              {
                "dataType": "text",
                "name": "participationIndividualsOrGroups",
                "description": "Once Individuals or groups is selected, the related number field in the next two columns will become editable to report.",
                "constraints": [
                  "Individuals",
                  "Groups"
                ],
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "participationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "participationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ]
              },
              {
                "dataType": "number",
                "name": "firstNationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "param": {
                      "expression": "participationIndividualNumber",
                      "type": "computed"
                    },
                    "rule": "max"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "firstNationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "param": {
                      "expression": "participationGroupNumber",
                      "type": "computed"
                    },
                    "rule": "max",
                    "message": "The number of first nation participants cannot be greater than the total number of participants"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "participationDetails",
                "validate": "required, maxSize[3000]"
              }
            ],
            "dataType": "list",
            "name": "participationInformationTableCom"
          },
          {
            "name": "relatedOutcomes",
            "dataType": "text",
            "description": "Select the outcome/s as defined in your MERI plan that this service was delivered to achieve.",
            "validate": "required",
            "constraints": {
              "textProperty": "label",
              "valueProperty": "value",
              "type": "pre-populated",
              "config": {
                "source": {
                  "context-path": "outcomes"
                }
              }
            }
          },
          {
            "name": "investmentPriorities2",
            "dataType": "text",
            "description": "",
            "validate": "required",
            "constraints": {
              "textProperty": "label",
              "valueProperty": "value",
              "type": "pre-populated",
              "config": {
                "source": {
                  "context-path": "owner.investmentPriorities"
                }
              }
            }
          },
          {
            "dataType": "text",
            "name": "otherInvestmentPriority",
            "behaviour": [
              {
                "type": "enable",
                "condition": "\"Other\" in investmentPriorities2"
              }
            ]
          },
          {
            "dataType": "text",
            "name": "invoicingThisActivity",
            "constraints": [
              "Yes",
              "No"
            ],
            "validate": "required"
          },
          {
            "columns": [
              {
                "dataType": "text",
                "name": "communicationMaterialType",
                "constraints": [
                  "Booklets",
                  "Educational/Interpretive Signage",
                  "Fact Sheets/Brochures",
                  "Videos"
                ],
                "validate": "required"
              },
              {
                "dataType": "date",
                "name": "communicationDate",
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "numberOfCommunicationMaterialsPublished",
                "description": "Refers to unique publications not number printed.",
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "communicationMaterialPurpose",
                "validate": "required,maxSize[300]",
                "description": "e.g. public awareness, warnings, advertisements"
              }
            ],
            "dataType": "list",
            "name": "communicationMaterials"
          },
          {
            "dataType": "number",
            "name": "totalMaterialsPublished",
            "validate": "min[0]",
            "decimalPlaces": 0,
            "defaultValue": 1,
            "computed": {
              "expression": "sum(communicationMaterials, \"numberOfCommunicationMaterialsPublished\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalMaterialsPublishedInvoiced",
            "defaultValue": "",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalMaterialsPublished",
                  "type": "computed"
                },
                "rule": "max"
              }
            ]
          },
          {
            "dataType": "text",
            "name": "totalInvoicedCommunicationMaterialsMismatched",
            "description": "Please provide the reason/s why you are not invoicing for the same number that have been completed and delivered, e.g. the personnel and equipment were available to deliver more than was contracted.",
            "validate": "maxSize[400],required,min[0]",
            "behaviour": [
              {
                "condition": "totalMaterialsPublishedInvoiced < totalMaterialsPublished",
                "type": "enable"
              }
            ]
          },
          {
            "dataType": "text",
            "name": "comments",
            "validate": "maxSize[1500]"
          },
          {
            "dataType": "image",
            "name": "photographicEvidence"
          },
          {
            "dataType": "boolean",
            "name": "dataUploaded",
            "description": "<ul><li>Tick box to confirm data has been uploaded</li><li>URL Link (mandatory if below is ticked) in available evidence</li></ul>"
          },
          {
            "name": "projectAssuranceDetails",
            "dataType": "text",
            "validate": "required,maxSize[5000]"
          },
          {
            "dataType": "list",
            "name": "assuranceDocuments",
            "columns": [
              {
                "dataType": "document",
                "name": "attachments",
                "description": "Please attach any Evidence of Service Delivery here."
              }
            ]
          }
        ],
        "modelName": "NHT - Communication Materials",
        "title": "Communication Materials",
        "viewModel": [
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<h3>Participation information</h3>"
              }
            ]
          },
          {
            "disableTableUpload": true,
            "columns": [
              {
                "width": "10%",
                "source": "participationIndividualsOrGroups",
                "title": "Are individuals or groups delivering this service?",
                "type": "selectOne"
              },
              {
                "width": "20%",
                "type": "col",
                "title": "Total number of people delivering this service <br>(including First Nations people)<b style=\"color:red\">*</b>",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "participationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "participationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "type": "col",
                "width": "20%",
                "title": "Total number of First Nations people delivering this service<b style=\"color:red\">*</b>",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "firstNationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "firstNationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "width": "20%",
                "source": "participationDetails",
                "rows": 4,
                "title": "If no First Nations people participated in the delivery of this service, <br>what are the reasons? If there was participation, please provide details.",
                "helpText": "If there were no First Nations people participating in the delivery of this service, please explain the reasons. If there were First Nations people involved, please outline how they were involved.",
                "type": "textarea"
              }
            ],
            "source": "participationInformationTableCom",
            "type": "table"
          },
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<h3>Totals Summary</h3>"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(i) Total Number of communication materials published for this reporting period",
                        "source": "totalMaterialsPublished",
                        "type": "number"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(ii) Total Number of communication materials <u><i>invoiced</i></u> for this reporting period",
                        "source": "totalMaterialsPublishedInvoiced",
                        "type": "number"
                      }
                    ]
                  }
                ]
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "If the total invoiced is different to the total completed, please provide the reason",
                "source": "totalInvoicedCommunicationMaterialsMismatched",
                "type": "textarea",
                "rows": 4,
                "placeholder": ""
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "css": "span3",
                "type": "col",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "source": "relatedOutcomes",
                        "type": "selectOne",
                        "preLabel": "Which outcome statement/s does this activity relate to?"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "col",
                "css": "span3 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "source": "investmentPriorities2",
                        "preLabel": "Which investment priority does this activity relate to?",
                        "type": "select2Many"
                      }
                    ]
                  }
                ]
              },
              {
                "css": "span3",
                "type": "col",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "source": "invoicingThisActivity",
                        "preLabel": "Are you invoicing for this activity in this reporting period?",
                        "type": "selectOne"
                      }
                    ]
                  }
                ]
              }
            ]
          },
          {
            "type": "section",
            "items": [
              {
                "columns": [
                  {
                    "width": "25%",
                    "source": "communicationMaterialType",
                    "title": "Type of communication material published",
                    "type": "select2"
                  },
                  {
                    "width": "15%",
                    "source": "communicationDate",
                    "title": "Date",
                    "type": "date"
                  },
                  {
                    "width": "20%",
                    "source": "numberOfCommunicationMaterialsPublished",
                    "title": "Number of communication materials published",
                    "type": "number"
                  },
                  {
                    "width": "40%",
                    "source": "communicationMaterialPurpose",
                    "title": "Purpose of communication material",
                    "type": "textarea"
                  }
                ],
                "userAddedRows": true,
                "disableTableUpload": true,
                "source": "communicationMaterials",
                "type": "table"
              },
              {
                "type": "row",
                "items": [
                  {
                    "source": "<i>Note: to upload a communication material refer to the documents tab.</i>",
                    "type": "literal"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Optionally attach photos",
                    "source": "photographicEvidence",
                    "type": "image"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Clarification, if needed",
                    "type": "textarea",
                    "rows": 4,
                    "css": "span8",
                    "source": "comments",
                    "placeholder": "Clarification comments include information for your project manager about the service like:\n • any reported items that are not being invoiced (eg, over-achievement) \n • any extraneous circumstances that affected delivery of the service \n"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<p><b>Available Evidence</b></p>This field is mandatory for all projects as part of the invoicing process. Please list evidence you have retained for this service and provide information to where the evidence is stored (links/file location data). Refer to the Project Service Evidence Guide and the Project Service Summaries for information on the evidence requirements.<b style=\"color:red\">*</b>"
                  },
                  {
                    "preLabel": "Data have been uploaded",
                    "source": "dataUploaded",
                    "type": "boolean"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "",
                    "source": "projectAssuranceDetails",
                    "type": "textarea",
                    "rows": 4,
                    "placeholder": "List the documentary evidence you have available for this project service. Include specifically, the document titles and location (e.g. internal IT network pathway, URLs) to assist with locating this material for future audits/assurance purposes."
                  }
                ]
              },
              {
                "type": "table",
                "source": "assuranceDocuments",
                "userAddedRows": true,
                "disableTableUpload": true,
                "columns": [
                  {
                    "title": "Attached documents",
                    "source": "attachments",
                    "type": "document"
                  }
                ]
              }
            ]
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtCommunicationMaterials",
      "optional": true,
      "optionalQuestionText": null,
      "title": "Communication materials",
      "collapsibleHeading": null,
      "name": "NHT - Communication materials",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "dataModel": [
          {
            "allowRowDelete": "false",
            "columns": [
              {
                "dataType": "text",
                "name": "participationIndividualsOrGroups",
                "description": "Once Individuals or groups is selected, the related number field in the next two columns will become editable to report.",
                "constraints": [
                  "Individuals",
                  "Groups"
                ],
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "participationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "participationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ]
              },
              {
                "dataType": "number",
                "name": "firstNationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "param": {
                      "expression": "participationIndividualNumber",
                      "type": "computed"
                    },
                    "rule": "max"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "firstNationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "param": {
                      "expression": "participationGroupNumber",
                      "type": "computed"
                    },
                    "rule": "max",
                    "message": "The number of first nation participants cannot be greater than the total number of participants"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "participationDetails",
                "validate": "required, maxSize[3000]"
              }
            ],
            "dataType": "list",
            "name": "participationInformationTableCse"
          },
          {
            "name": "relatedOutcomes",
            "dataType": "text",
            "description": "Select the outcome/s as defined in your MERI plan that this service was delivered to achieve.",
            "validate": "required",
            "constraints": {
              "textProperty": "label",
              "valueProperty": "value",
              "type": "pre-populated",
              "config": {
                "source": {
                  "context-path": "outcomes"
                }
              }
            }
          },
          {
            "name": "investmentPriorities2",
            "dataType": "text",
            "description": "",
            "validate": "required",
            "constraints": {
              "textProperty": "label",
              "valueProperty": "value",
              "type": "pre-populated",
              "config": {
                "source": {
                  "context-path": "owner.investmentPriorities"
                }
              }
            }
          },
          {
            "dataType": "text",
            "name": "otherInvestmentPriority",
            "behaviour": [
              {
                "type": "enable",
                "condition": "\"Other\" in investmentPriorities2"
              }
            ]
          },
          {
            "dataType": "text",
            "name": "invoicingThisActivity",
            "constraints": [
              "Yes",
              "No"
            ],
            "validate": "required"
          },
          {
            "columns": [
              {
                "dataType": "text",
                "name": "eventType",
                "description": "Type of engagement events are training/workshops, on-ground trials/demonstrations and field days. Note field days should be reported as an event e.g, 3 field days is considered 1 event NOT 3 days",
                "constraints": [
                  "Field days",
                  "On-ground trials / demonstrations facilitated or hosted",
                  "Training workshops hosted"
                ],
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "numberOfEvents",
                "validate": "required",
                "description": "This field can contribute to Number of the engagement event types: <li>training/workshops,</li> <li>on-ground trials/demonstrations and</li> <li>field days</li>"
              },
              {
                "dataType": "number",
                "name": "numberOfParticipants",
                "validate": "required,min[0]"
              },
              {
                "dataType": "number",
                "name": "numberOfIndigenousParticipants",
                "validate": "required,min[0]"
              },
              {
                "dataType": "number",
                "name": "numberOfFarmers",
                "validate": "required,min[0]"
              },
              {
                "dataType": "number",
                "name": "numberOfGroups",
                "validate": "required,min[0]"
              },
              {
                "dataType": "stringList",
                "name": "industryType",
                "constraints": [
                  "Cropping",
                  "Dairy",
                  "Dryland agriculture",
                  "Horticulture",
                  "Grazing",
                  "Fisheries",
                  "Aquaculture",
                  "Environmental"
                ],
                "validate": "required"
              },
              {
                "dataType": "text",
                "name": "eventPurpose",
                "validate": "required,maxSize[300]"
              },
              {
                "dataType": "date",
                "name": "dateFrom",
                "validate": "required"
              },
              {
                "dataType": "date",
                "name": "dateTo",
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "future",
                    "param": {
                      "expression": "formatDateForValidation(dateFrom)",
                      "type": "computed"
                    }
                  }
                ]
              }
            ],
            "dataType": "list",
            "name": "events"
          },
          {
            "dataType": "number",
            "name": "totalNumberEngagementHeld",
            "validate": "min[0]",
            "decimalPlaces": 0,
            "defaultValue": 1,
            "computed": {
              "expression": "sum(events, \"numberOfEvents\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalNumberEngagementHeldInvoiced",
            "description": "Number of events invoiced for this reporting period.",
            "defaultValue": "",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalNumberEngagementHeld",
                  "type": "computed"
                },
                "rule": "max"
              }
            ]
          },
          {
            "dataType": "text",
            "name": "totalNumberEngagementInvoicedMismatched",
            "description": "Please explain why the Total invoiced field is different from the Totals tally field.",
            "validate": "maxSize[400],required",
            "behaviour": [
              {
                "condition": "totalNumberEngagementHeldInvoiced < totalNumberEngagementHeld",
                "type": "enable"
              }
            ]
          },
          {
            "dataType": "text",
            "name": "otherInvestmentPriority",
            "behaviour": [
              {
                "type": "enable",
                "condition": "\"Other\" in investmentPriorities2"
              }
            ]
          },
          {
            "dataType": "text",
            "name": "comments",
            "validate": "maxSize[1500]"
          },
          {
            "dataType": "image",
            "name": "photographicEvidence"
          },
          {
            "dataType": "boolean",
            "name": "dataUploaded",
            "description": "<ul><li>Tick box to confirm data has been uploaded</li><li>URL Link (mandatory if below is ticked) in available evidence</li></ul>"
          },
          {
            "name": "projectAssuranceDetails",
            "dataType": "text",
            "validate": "required,maxSize[5000]"
          },
          {
            "dataType": "list",
            "name": "assuranceDocuments",
            "columns": [
              {
                "dataType": "document",
                "name": "attachments",
                "description": "Please attach any Evidence of Service Delivery here."
              }
            ]
          }
        ],
        "modelName": "NHT - Community engagement",
        "title": "Community/Stakeholder Engagement",
        "viewModel": [
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<h3>Participation information</h3>"
              }
            ]
          },
          {
            "disableTableUpload": true,
            "columns": [
              {
                "width": "10%",
                "source": "participationIndividualsOrGroups",
                "title": "Are individuals or groups delivering this service?",
                "type": "selectOne"
              },
              {
                "width": "20%",
                "type": "col",
                "title": "Total number of people delivering this service <br>(including First Nations people)<b style=\"color:red\">*</b>",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "participationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "participationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "type": "col",
                "width": "20%",
                "title": "Total number of First Nations people delivering this service<b style=\"color:red\">*</b>",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "firstNationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "firstNationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "width": "20%",
                "source": "participationDetails",
                "rows": 4,
                "title": "If no First Nations people participated in the delivery of this service, <br>what are the reasons? If there was participation, please provide details.",
                "helpText": "If there were no First Nations people participating in the delivery of this service, please explain the reasons. If there were First Nations people involved, please outline how they were involved.",
                "type": "textarea"
              }
            ],
            "source": "participationInformationTableCse",
            "type": "table"
          },
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<h3>Totals Summary</h3>"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(i) Total number of events held/attended",
                        "source": "totalNumberEngagementHeld",
                        "type": "number"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "col",
                "css": "span5 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(ii) Total number of events <u><i>invoiced</i></u> for this reporting period",
                        "source": "totalNumberEngagementHeldInvoiced",
                        "type": "number"
                      }
                    ]
                  }
                ]
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "If the total invoiced is different to the total completed, please provide the reason",
                "source": "totalNumberEngagementInvoicedMismatched",
                "type": "textarea",
                "rows": 4,
                "placeholder": ""
              }
            ]
          },
          {
            "type": "section",
            "items": [
              {
                "type": "row",
                "items": [
                  {
                    "css": "span3",
                    "type": "col",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "relatedOutcomes",
                            "type": "selectOne",
                            "preLabel": "Which outcome statement/s does this activity relate to?"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "investmentPriorities2",
                            "preLabel": "Which investment priority does this activity relate to?",
                            "type": "select2Many"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "css": "span3",
                    "type": "col",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "invoicingThisActivity",
                            "preLabel": "Are you invoicing for this activity in this reporting period?",
                            "type": "selectOne"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "columns": [
                  {
                    "width": "10%",
                    "source": "dateFrom",
                    "title": "Date from",
                    "type": "date"
                  },
                  {
                    "width": "10%",
                    "source": "dateTo",
                    "title": "Date to",
                    "type": "date"
                  },
                  {
                    "width": "10%",
                    "source": "eventType",
                    "title": "Type of Community / Stakeholder engagement event",
                    "type": "selectOne"
                  },
                  {
                    "width": "10%",
                    "source": "numberOfEvents",
                    "title": "Number of engagement events",
                    "type": "number"
                  },
                  {
                    "width": "10%",
                    "source": "eventPurpose",
                    "title": "Purpose of engagement",
                    "type": "textarea"
                  },
                  {
                    "width": "10%",
                    "source": "numberOfGroups",
                    "title": "Number of communities or groups engaged",
                    "type": "number"
                  },
                  {
                    "width": "10%",
                    "source": "numberOfParticipants",
                    "title": "Total number of attendees / participants",
                    "type": "number"
                  },
                  {
                    "width": "10%",
                    "source": "numberOfIndigenousParticipants",
                    "title": "Number of Indigenous attendees / participants",
                    "type": "number"
                  },
                  {
                    "width": "10%",
                    "source": "numberOfFarmers",
                    "title": "Number of farmers attending / participating",
                    "type": "number"
                  },
                  {
                    "width": "10%",
                    "source": "industryType",
                    "title": "Industry/Stakeholder type engaged",
                    "type": "select2Many"
                  }
                ],
                "userAddedRows": true,
                "disableTableUpload": true,
                "source": "events",
                "type": "table"
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Optionally attach photos",
                    "source": "photographicEvidence",
                    "type": "image"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Clarification, if needed",
                    "type": "textarea",
                    "rows": 4,
                    "css": "span8",
                    "source": "comments",
                    "placeholder": "Clarification comments include information for your project manager about the service like:\n • any reported items that are not being invoiced (eg, over-achievement) \n • any extraneous circumstances that affected delivery of the service \n"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<p><b>Available Evidence</b></p>This field is mandatory for all projects as part of the invoicing process. Please list evidence you have retained for this service and provide information to where the evidence is stored (links/file location data). Refer to the Project Service Evidence Guide and the Project Service Summaries for information on the evidence requirements.<b style=\"color:red\">*</b>"
                  },
                  {
                    "preLabel": "Data have been uploaded",
                    "source": "dataUploaded",
                    "type": "boolean"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "",
                    "source": "projectAssuranceDetails",
                    "type": "textarea",
                    "rows": 4,
                    "placeholder": "List the documentary evidence you have available for this project service. Include specifically, the document titles and location (e.g. internal IT network pathway, URLs) to assist with locating this material for future audits/assurance purposes."
                  }
                ]
              },
              {
                "type": "table",
                "source": "assuranceDocuments",
                "userAddedRows": true,
                "disableTableUpload": true,
                "columns": [
                  {
                    "title": "Attached documents",
                    "source": "attachments",
                    "type": "document"
                  }
                ]
              }
            ]
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtCommunityEngagement",
      "optional": true,
      "optionalQuestionText": null,
      "title": "Community/stakeholder engagement",
      "collapsibleHeading": null,
      "name": "NHT - Community engagement",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "dataModel": [
          {
            "allowRowDelete": "false",
            "columns": [
              {
                "dataType": "text",
                "name": "participationIndividualsOrGroups",
                "description": "Once Individuals or groups is selected, the related number field in the next two columns will become editable to report.",
                "constraints": [
                  "Individuals",
                  "Groups"
                ],
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "participationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "participationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ]
              },
              {
                "dataType": "number",
                "name": "firstNationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "param": {
                      "expression": "participationIndividualNumber",
                      "type": "computed"
                    },
                    "rule": "max"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "firstNationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "param": {
                      "expression": "participationGroupNumber",
                      "type": "computed"
                    },
                    "rule": "max",
                    "message": "The number of first nation participants cannot be greater than the total number of participants"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "participationDetails",
                "validate": "required, maxSize[3000]"
              }
            ],
            "dataType": "list",
            "name": "participationInformationTableCoa"
          },
          {
            "columns": [
              {
                "columns": [
                  {
                    "dataType": "feature",
                    "name": "protectedSites"
                  },
                  {
                    "computed": {
                      "expression": "$geom.areaHa(protectedSites)"
                    },
                    "dataType": "number",
                    "decimalPlaces": 3,
                    "name": "areaProtectedHa",
                    "units": "ha"
                  },
                  {
                    "defaultValue": {
                      "expression": "$geom.lengthKm(protectedSites)",
                      "type": "computed"
                    },
                    "dataType": "number",
                    "name": "lengthProtectedKm",
                    "units": "km",
                    "decimalPlaces": 3
                  },
                  {
                    "dataType": "text",
                    "name": "accessControlType",
                    "description": "",
                    "constraints": [
                      "Boardwalks",
                      "Bollards & barriers",
                      "Constructed parking bays",
                      "Fencing, styles, gates & grids",
                      "Formed traffic ways",
                      "Signage",
                      "Other"
                    ],
                    "validate": "required"
                  },
                  {
                    "dataType": "text",
                    "name": "otherAccessControlType",
                    "description": "Please specify the type of access control if Other (specify in notes) was selected in the Type of Access Control Installed column.",
                    "behaviour": [
                      {
                        "condition": "accessControlType == \"Other\"",
                        "type": "enable"
                      }
                    ],
                    "validate": "required,maxSize[100]"
                  },
                  {
                    "dataType": "text",
                    "name": "controlObjective",
                    "description": "What is your access control method? and/or What do you intend to achieve by using your structure/s?",
                    "validate": "required,maxSize[300]"
                  },
                  {
                    "dataType": "date",
                    "name": "dateFrom",
                    "validate": "required"
                  },
                  {
                    "dataType": "date",
                    "name": "dateTo",
                    "validate": [
                      {
                        "rule": "required"
                      },
                      {
                        "rule": "future",
                        "param": {
                          "expression": "formatDateForValidation(dateFrom)",
                          "type": "computed"
                        }
                      }
                    ]
                  }
                ],
                "dataType": "list",
                "name": "accessControlDetails"
              },
              {
                "dataType": "number",
                "name": "numberInstalled",
                "validate": "required,min[0]"
              },
              {
                "name": "relatedOutcomes",
                "dataType": "text",
                "description": "Select the outcome/s as defined in your MERI plan that this service was delivered to achieve.",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "value",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "context-path": "outcomes"
                    }
                  }
                }
              },
              {
                "name": "investmentPriorities2",
                "dataType": "text",
                "description": "",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "value",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "context-path": "owner.investmentPriorities"
                    }
                  }
                }
              },
              {
                "dataType": "text",
                "name": "otherInvestmentPriority",
                "behaviour": [
                  {
                    "type": "enable",
                    "condition": "\"Other\" in investmentPriorities2"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "invoicingThisActivity",
                "constraints": [
                  "Yes",
                  "No"
                ],
                "validate": "required"
              },
              {
                "dataType": "feature",
                "name": "sitesCoveredForControlAccess",
                "description": "Mapping field to be done and Area (ha)/length (km) field be auto-calculated from mapping."
              },
              {
                "computed": {
                  "expression": "$geom.areaHa(sitesCoveredForControlAccess)"
                },
                "dataType": "number",
                "name": "calculatedAreaTreatedHa",
                "units": "ha",
                "decimalPlaces": 3
              },
              {
                "computed": {
                  "expression": "$geom.lengthKm(sitesCoveredForControlAccess)"
                },
                "dataType": "number",
                "name": "calculatedLengthTreatedKm",
                "units": "km",
                "decimalPlaces": 3,
                "behaviour": [
                  {
                    "condition": "lengthTreatedKm > 0",
                    "type": "conditional_validation",
                    "value": {
                      "message": "The managed length must be mapped",
                      "validate": "required,min[0.0001]"
                    }
                  }
                ]
              },
              {
                "defaultValue": {
                  "type": "computed",
                  "expression": "calculatedAreaTreatedHa"
                },
                "dataType": "number",
                "name": "areaTreatedHa",
                "description": "Manually enter correct figure for this reporting period if different to mapped value.",
                "units": "ha",
                "decimalPlaces": 3,
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedReason",
                "constraints": [
                  "Mapped area simplifies more complex area/s where work was undertaken during this period",
                  "Other"
                ],
                "validate": "required",
                "behaviour": [
                  {
                    "condition": "not (within(areaTreatedHa, calculatedAreaTreatedHa, 0.1) and within(lengthTreatedKm, calculatedLengthTreatedKm, 0.1))",
                    "type": "if"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedComments",
                "validate": "required,maxSize[100]",
                "behaviour": [
                  {
                    "type": "visible",
                    "condition": "\"Other\" == mappingNotAlignedReason"
                  }
                ]
              },
              {
                "dataType": "document",
                "name": "extraMappingDetails",
                "validate": "required",
                "description": "Please fill in the Mapped/Actual/Invoice fields before attaching a document here. If those fields match this field will be void. <br/>If any of these fields differ please attach your organisation's detailed map for the area, covered by this project service - during reporting period (include the scale measure for each map).",
                "behaviour": [
                  {
                    "condition": "not (within(areaTreatedHa, calculatedAreaTreatedHa, 0.1) and within(lengthTreatedKm, calculatedLengthTreatedKm, 0.1))",
                    "type": "if"
                  }
                ]
              },
              {
                "defaultValue": {
                  "type": "computed",
                  "expression": "calculatedLengthTreatedKm"
                },
                "dataType": "number",
                "name": "lengthTreatedKm",
                "units": "km",
                "decimalPlaces": 3
              }
            ],
            "dataType": "list",
            "name": "controllingAccessAreasControlled"
          },
          {
            "dataType": "number",
            "name": "totalStructuresInstalled",
            "decimalPlaces": 0,
            "validate": "min[0]",
            "computed": {
              "expression": "sum(controllingAccessAreasControlled, \"numberInstalled\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalStructuresInstalledInvoiced",
            "defaultValue": "",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalStructuresInstalled",
                  "type": "computed"
                },
                "rule": "max"
              }
            ]
          },
          {
            "dataType": "number",
            "name": "totalLengthStructuresInstalled",
            "decimalPlaces": 3,
            "validate": "min[0]",
            "computed": {
              "expression": "sum(controllingAccessAreasControlled, \"lengthTreatedKm\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalLengthStructuresInstalledInvoiced",
            "decimalPlaces": 3,
            "defaultValue": "",
            "description": "Manually enter if values have decimal points e.g. 0.350 or 2.545",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalLengthStructuresInstalled",
                  "type": "computed",
                  "decimalPlaces": 3
                },
                "rule": "max"
              }
            ]
          },
          {
            "dataType": "number",
            "name": "totalAreaStructuresInstalled",
            "decimalPlaces": 3,
            "validate": "min[0]",
            "computed": {
              "expression": "sum(controllingAccessAreasControlled, \"areaTreatedHa\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalAreaStructuresInstalledInvoiced",
            "decimalPlaces": 3,
            "defaultValue": "",
            "description": "Manually enter if values have decimal points e.g. 0.350 or 2.545",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalAreaStructuresInstalled",
                  "type": "computed",
                  "decimalPlaces": 3
                },
                "rule": "max"
              }
            ]
          },
          {
            "dataType": "text",
            "name": "totalInvoicedControllingAccessMismatched",
            "description": "Please provide the reason/s why you are not invoicing for the same number that have been completed and delivered, e.g. the personnel and equipment were available to deliver more than was contracted.",
            "validate": "maxSize[400],required,min[0]",
            "behaviour": [
              {
                "condition": "totalStructuresInstalledInvoiced < totalStructuresInstalled or totalLengthStructuresInstalledInvoiced < totalLengthStructuresInstalled or totalAreaStructuresInstalledInvoiced < totalAreaStructuresInstalled",
                "type": "enable"
              }
            ]
          },
          {
            "dataType": "text",
            "name": "comments",
            "validate": "maxSize[1500]"
          },
          {
            "dataType": "image",
            "name": "photographicEvidence"
          },
          {
            "dataType": "boolean",
            "name": "dataUploaded",
            "description": "<ul><li>Tick box to confirm data has been uploaded</li><li>URL Link (mandatory if below is ticked) in available evidence</li></ul>"
          },
          {
            "name": "projectAssuranceDetails",
            "dataType": "text",
            "validate": "required,maxSize[5000]"
          },
          {
            "dataType": "list",
            "name": "assuranceDocuments",
            "columns": [
              {
                "dataType": "document",
                "name": "attachments",
                "description": "Please attach any Evidence of Service Delivery here."
              }
            ]
          }
        ],
        "modelName": "NHT - Controlling access",
        "title": "Controlling Access",
        "viewModel": [
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<h3>Participation information</h3>"
              }
            ]
          },
          {
            "disableTableUpload": true,
            "columns": [
              {
                "width": "10%",
                "source": "participationIndividualsOrGroups",
                "title": "Are individuals or groups delivering this service?",
                "type": "selectOne"
              },
              {
                "width": "20%",
                "type": "col",
                "title": "Total number of people delivering this service <br>(including First Nations people)<b style=\"color:red\">*</b>",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "participationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "participationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "type": "col",
                "width": "20%",
                "title": "Total number of First Nations people delivering this service<b style=\"color:red\">*</b>",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "firstNationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "firstNationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "width": "20%",
                "source": "participationDetails",
                "rows": 4,
                "title": "If no First Nations people participated in the delivery of this service, <br>what are the reasons? If there was participation, please provide details.",
                "helpText": "If there were no First Nations people participating in the delivery of this service, please explain the reasons. If there were First Nations people involved, please outline how they were involved.",
                "type": "textarea"
              }
            ],
            "source": "participationInformationTableCoa",
            "type": "table"
          },
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<h3>Totals Summary</h3>"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(i) Total number of structures installed that control access for this reporting period",
                        "source": "totalStructuresInstalled",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(ii) Total number of structures that control access <u><i>invoiced</i></u> for this reporting period",
                        "source": "totalStructuresInstalledInvoiced",
                        "type": "number"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(iii) Total area (ha) of structures installed that control access for this reporting period",
                        "source": "totalAreaStructuresInstalled",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(iv) Total area (ha) of structures installed that control access <u><i>invoiced</i></u> for this reporting period",
                        "source": "totalAreaStructuresInstalledInvoiced",
                        "type": "number",
                        "displayOptions": {
                          "removeTrailingZeros": false
                        }
                      }
                    ]
                  }
                ]
              },
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(v) Total length (km) of structures installed that control access for this reporting period",
                        "source": "totalLengthStructuresInstalled",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(vi) Total length (km) of structures installed that control access <u><i>invoiced</i></u> for this reporting period",
                        "source": "totalLengthStructuresInstalledInvoiced",
                        "type": "number",
                        "displayOptions": {
                          "removeTrailingZeros": false
                        }
                      }
                    ]
                  }
                ]
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "If the total invoiced is different to the total completed, please provide the reason",
                "source": "totalInvoicedControllingAccessMismatched",
                "type": "textarea",
                "rows": 4,
                "placeholder": ""
              }
            ]
          },
          {
            "addRowText": "Add a new controlled area",
            "userAddedRows": true,
            "source": "controllingAccessAreasControlled",
            "type": "repeat",
            "items": [
              {
                "type": "row",
                "items": [
                  {
                    "css": "span3",
                    "type": "col",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "relatedOutcomes",
                            "type": "selectOne",
                            "preLabel": "Which outcome statement/s does this activity relate to?"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "investmentPriorities2",
                            "preLabel": "Which investment priority does this activity relate to?",
                            "type": "select2Many"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "css": "span3",
                    "type": "col",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "invoicingThisActivity",
                            "preLabel": "Are you invoicing for this activity in this reporting period?",
                            "type": "selectOne"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "row",
                "css": "border-bottom",
                "items": [
                  {
                    "css": "span3",
                    "type": "col",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "numberInstalled",
                            "preLabel": "Number of structures installed",
                            "type": "number"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Site/s where structures have been installed to control access",
                            "source": "sitesCoveredForControlAccess",
                            "type": "feature"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "calculatedAreaTreatedHa",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            },
                            "readonly": "readonly"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "calculatedLengthTreatedKm",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            },
                            "readonly": "readonly"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Please attach mapping details",
                            "source": "extraMappingDetails",
                            "type": "document"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Actual area (ha) / length (km) where access has been controlled",
                            "source": "areaTreatedHa",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "lengthTreatedKm",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Reason for actual being different to mapped amount",
                            "source": "mappingNotAlignedReason",
                            "type": "selectOne"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "placeholder": "Please enter the reason/s the mapping didn't align with the invoiced amount",
                            "source": "mappingNotAlignedComments",
                            "type": "textarea",
                            "rows": 5
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "columns": [
                  {
                    "width": "20%",
                    "type": "col",
                    "title": "Site/s protected by access control structures",
                    "items": [
                      {
                        "source": "protectedSites",
                        "type": "feature"
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "readonly": true,
                            "source": "areaProtectedHa",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "readonly": true,
                            "source": "lengthProtectedKm",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "width": "20%",
                    "type": "col",
                    "title": "Type of access control installed",
                    "items": [
                      {
                        "source": "accessControlType",
                        "type": "selectOne"
                      },
                      {
                        "source": "otherAccessControlType",
                        "type": "text"
                      }
                    ]
                  },
                  {
                    "width": "30%",
                    "source": "controlObjective",
                    "title": "Control objective",
                    "type": "textarea",
                    "rows": 5
                  },
                  {
                    "width": "15%",
                    "source": "dateFrom",
                    "title": "Date from",
                    "type": "date"
                  },
                  {
                    "width": "15%",
                    "source": "dateTo",
                    "title": "Date to",
                    "type": "date"
                  }
                ],
                "userAddedRows": true,
                "disableTableUpload": true,
                "source": "accessControlDetails",
                "type": "table"
              }

            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "Optionally attach photos",
                "source": "photographicEvidence",
                "type": "image"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "Clarification, if needed",
                "type": "textarea",
                "rows": 4,
                "css": "span8",
                "source": "comments",
                "placeholder": "Clarification comments include information for your project manager about the service like:\n • any reported items that are not being invoiced (eg, over-achievement) \n • any extraneous circumstances that affected delivery of the service \n"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<p><b>Available Evidence</b></p>This field is mandatory for all projects as part of the invoicing process. Please list evidence you have retained for this service and provide information to where the evidence is stored (links/file location data). Refer to the Project Service Evidence Guide and the Project Service Summaries for information on the evidence requirements.<b style=\"color:red\">*</b>"
              },
              {
                "preLabel": "Data have been uploaded",
                "source": "dataUploaded",
                "type": "boolean"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "",
                "source": "projectAssuranceDetails",
                "type": "textarea",
                "rows": 4,
                "placeholder": "List the documentary evidence you have available for this project service. Include specifically, the document titles and location (e.g. internal IT network pathway, URLs) to assist with locating this material for future audits/assurance purposes."
              }
            ]
          },
          {
            "type": "table",
            "source": "assuranceDocuments",
            "userAddedRows": true,
            "disableTableUpload": true,
            "columns": [
              {
                "title": "Attached documents",
                "source": "attachments",
                "type": "document"
              }
            ]
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtControllingAccess",
      "optional": true,
      "optionalQuestionText": null,
      "title": "Controlling access",
      "collapsibleHeading": null,
      "name": "NHT - Controlling access",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "dataModel": [
          {
            "allowRowDelete": "false",
            "columns": [
              {
                "dataType": "text",
                "name": "participationIndividualsOrGroups",
                "description": "Once Individuals or groups is selected, the related number field in the next two columns will become editable to report.",
                "constraints": [
                  "Individuals",
                  "Groups"
                ],
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "participationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "participationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ]
              },
              {
                "dataType": "number",
                "name": "firstNationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "param": {
                      "expression": "participationIndividualNumber",
                      "type": "computed"
                    },
                    "rule": "max"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "firstNationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "param": {
                      "expression": "participationGroupNumber",
                      "type": "computed"
                    },
                    "rule": "max",
                    "message": "The number of first nation participants cannot be greater than the total number of participants"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "participationDetails",
                "validate": "required, maxSize[3000]"
              }
            ],
            "dataType": "list",
            "name": "participationInformationTableCpa"
          },
          {
            "columns": [
              {
                "dataType": "text",
                "name": "initialOrFollowup",
                "constraints": [
                  "Initial",
                  "Follow-up"
                ],
                "validate": "required"
              },
              {
                "dataType": "feature",
                "name": "sitesTreatedForPestAnimal",
                "description": "Mapping field to be done and Area (ha)/length (km) field be auto-calculated from mapping.",
                "validate": "required"
              },
              {
                "computed": {
                  "expression": "$geom.areaHa(sitesTreatedForPestAnimal)"
                },
                "dataType": "number",
                "name": "calculatedAreaTreatedHa",
                "units": "ha",
                "decimalPlaces": 3
              },
              {
                "computed": {
                  "expression": "$geom.lengthKm(sitesTreatedForPestAnimal)"
                },
                "dataType": "number",
                "name": "calculatedLengthTreatedKm",
                "units": "km",
                "decimalPlaces": 3,
                "behaviour": [
                  {
                    "condition": "lengthTreatedKm > 0",
                    "type": "conditional_validation",
                    "value": {
                      "message": "The managed length must be mapped",
                      "validate": "required,min[0.0001]"
                    }
                  }
                ]
              },
              {
                "defaultValue": {
                  "type": "computed",
                  "expression": "calculatedAreaTreatedHa"
                },
                "dataType": "number",
                "name": "areaTreatedHa",
                "description": "Manually enter correct figure for this reporting period if different to mapped value.",
                "units": "ha",
                "decimalPlaces": 3,
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedReason",
                "constraints": [
                  "Mapped area simplifies more complex area/s where work was undertaken during this period",
                  "Other"
                ],
                "validate": "required",
                "behaviour": [
                  {
                    "condition": "not (within(areaTreatedHa, calculatedAreaTreatedHa, 0.1) and within(lengthTreatedKm, calculatedLengthTreatedKm, 0.1))",
                    "type": "if"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedComments",
                "validate": "required,maxSize[100]",
                "behaviour": [
                  {
                    "type": "visible",
                    "condition": "\"Other\" == mappingNotAlignedReason"
                  }
                ]
              },
              {
                "dataType": "document",
                "name": "extraMappingDetails",
                "validate": "required",
                "description": "Please fill in the Mapped/Actual/Invoice fields before attaching a document here. If those fields match this field will be void. <br/>If any of these fields differ please attach your organisation's detailed map for the area, covered by this project service - during reporting period (include the scale measure for each map).",
                "behaviour": [
                  {
                    "condition": "not (within(areaTreatedHa, calculatedAreaTreatedHa, 0.1) and within(lengthTreatedKm, calculatedLengthTreatedKm, 0.1))",
                    "type": "if"
                  }
                ]
              },
              {
                "defaultValue": {
                  "type": "computed",
                  "expression": "calculatedLengthTreatedKm"
                },
                "dataType": "number",
                "name": "lengthTreatedKm",
                "units": "km",
                "decimalPlaces": 3
              },
              {
                "columns": [
                  {
                    "dataType": "species",
                    "name": "pestSpecies",
                    "dwcAttribute": "scientificName",
                    "description": "Pest species targeted for treatment (start typing a  scientific or common name for a species).",
                    "validate": "required"
                  },
                  {
                    "dataType": "text",
                    "name": "pestManagementMethod",
                    "dwcAttribute": "treatmentMethod",
                    "description": "The method used in this activity to manage pests.",
                    "constraints": [
                      "Aerial shoot",
                      "Bait & trap",
                      "Bait only",
                      "Feral free enclosure",
                      "Exclusion fencing",
                      "Fumigation",
                      "Ground shoot",
                      "Trap & cull",
                      "Trap & remove",
                      "Other"
                    ],
                    "validate": "required"
                  },
                  {
                    "dataType": "text",
                    "name": "otherManagementMethod",
                    "description": "Please specify the management method used if Other was selected in the Management Method column.",
                    "behaviour": [
                      {
                        "condition": "pestManagementMethod == \"Other\"",
                        "type": "enable"
                      }
                    ],
                    "validate": "required,maxSize[100]"
                  },
                  {
                    "dataType": "text",
                    "name": "treatmentObjective",
                    "validate": "required,maxSize[300]"
                  },
                  {
                    "dataType": "text",
                    "name": "individualsOrColonies",
                    "constraints": [
                      "Colonies",
                      "Individuals"
                    ],
                    "validate": "required"
                  },
                  {
                    "dataType": "number",
                    "name": "individualsOrColoniesRemoved",
                    "validate": "required"
                  }
                ],
                "dataType": "list",
                "name": "pestAnimalsControlled"
              },
              {
                "name": "relatedOutcomes",
                "dataType": "text",
                "description": "Select the outcome/s as defined in your MERI plan that this service was delivered to achieve.",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "value",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "context-path": "outcomes"
                    }
                  }
                }
              },
              {
                "name": "investmentPriorities2",
                "dataType": "text",
                "description": "",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "value",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "context-path": "owner.investmentPriorities"
                    }
                  }
                }
              },
              {
                "dataType": "text",
                "name": "otherInvestmentPriority",
                "behaviour": [
                  {
                    "type": "enable",
                    "condition": "\"Other\" in investmentPriorities2"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "invoicingThisActivity",
                "constraints": [
                  "Yes",
                  "No"
                ],
                "validate": "required"
              }
            ],
            "dataType": "list",
            "name": "areasControlled"
          },
          {
            "dataType": "number",
            "name": "totalAreaPestAnimalsTreatedInitial",
            "decimalPlaces": 3,
            "computed": {
              "expression": "sum(areasControlled, \"initialOrFollowup == 'Initial' ? areaTreatedHa : 0\")"
            }
          },
          {
            "decimalPlaces": 3,
            "defaultValue": "",
            "dataType": "number",
            "name": "totalAreaPestAnimalsTreatedInitialInvoiced",
            "description": "Manually enter if values have decimal points e.g. 0.350 or 2.545",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalAreaPestAnimalsTreatedInitial",
                  "type": "computed",
                  "decimalPlaces": 3
                },
                "rule": "max"
              }
            ]
          },

          {
            "dataType": "number",
            "name": "totalAreaPestAnimalsTreatedFollowUp",
            "validate": "min[0]",
            "decimalPlaces": 3,
            "computed": {
              "expression": "sum(areasControlled, \"initialOrFollowup == 'Follow-up' ? areaTreatedHa : 0\")"
            }
          },
          {
            "decimalPlaces": 3,
            "defaultValue": "",
            "dataType": "number",
            "name": "totalAreaPestAnimalsTreatedFollowUpInvoiced",
            "description": "Manually enter if values have decimal points e.g. 0.350 or 2.545",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalAreaPestAnimalsTreatedFollowUp",
                  "type": "computed",
                  "decimalPlaces": 3
                },
                "rule": "max"
              }
            ]
          },
          {
            "dataType": "number",
            "name": "totalLengthPestAnimalsTreatedInitial",
            "validate": "min[0]",
            "decimalPlaces": 3,
            "computed": {
              "expression": "sum(areasControlled, \"initialOrFollowup == 'Initial' ? lengthTreatedKm : 0\")"
            }
          },
          {
            "decimalPlaces": 3,
            "defaultValue": "",
            "dataType": "number",
            "name": "totalLengthPestAnimalsTreatedInitialInvoiced",
            "description": "Manually enter if values have decimal points e.g. 0.350 or 2.545",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalLengthPestAnimalsTreatedInitial",
                  "type": "computed",
                  "decimalPlaces": 3
                },
                "rule": "max"
              }
            ]
          },
          {
            "dataType": "number",
            "name": "totalLengthPestAnimalsTreatedFollowUp",
            "validate": "min[0]",
            "decimalPlaces": 3,
            "computed": {
              "expression": "sum(areasControlled, \"initialOrFollowup == 'Follow-up' ? lengthTreatedKm : 0\")"
            }
          },
          {
            "decimalPlaces": 3,
            "defaultValue": "",
            "dataType": "number",
            "name": "totalLengthPestAnimalsTreatedFollowUpInvoiced",
            "description": "Manually enter if values have decimal points e.g. 0.350 or 2.545",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalLengthPestAnimalsTreatedFollowUp",
                  "type": "computed",
                  "decimalPlaces": 3
                },
                "rule": "max"
              }
            ]
          },
          {
            "dataType": "text",
            "name": "totalInvoicedControllingPestMismatched",
            "description": "Please provide the reason/s why you are not invoicing for the same number that have been completed and delivered, e.g. the personnel and equipment were available to deliver more than was contracted.",
            "validate": "maxSize[400],required,min[0]",
            "behaviour": [
              {
                "condition": "totalAreaPestAnimalsTreatedInitialInvoiced < totalAreaPestAnimalsTreatedInitial or totalAreaPestAnimalsTreatedFollowUpInvoiced < totalAreaPestAnimalsTreatedFollowUp or totalLengthPestAnimalsTreatedInitialInvoiced < totalLengthPestAnimalsTreatedInitial or totalLengthPestAnimalsTreatedFollowUpInvoiced < totalLengthPestAnimalsTreatedFollowUp",
                "type": "enable"
              }
            ]
          },
          {
            "dataType": "text",
            "name": "comments",
            "validate": "maxSize[1500]"
          },
          {
            "dataType": "image",
            "name": "photographicEvidence"
          },
          {
            "dataType": "boolean",
            "name": "dataUploaded",
            "description": ""
          },
          {
            "dataType": "text",
            "name": "projectAssuranceDetails",
            "description": "",
            "validate": "required,maxSize[5000]"
          },
          {
            "dataType": "list",
            "name": "assuranceDocuments",
            "columns": [
              {
                "dataType": "document",
                "name": "attachments",
                "description": "Please attach any Evidence of Service Delivery here."
              }
            ]
          }
        ],
        "modelName": "NHT - Pest animal management",
        "title": "Controlling Pest Animals",
        "viewModel": [
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<h3>Participation information</h3>"
              }
            ]
          },
          {
            "disableTableUpload": true,
            "columns": [
              {
                "width": "10%",
                "source": "participationIndividualsOrGroups",
                "title": "Are individuals or groups delivering this service?",
                "type": "selectOne"
              },
              {
                "width": "20%",
                "type": "col",
                "title": "Total number of people delivering this service <br>(including First Nations people)<b style=\"color:red\">*</b>",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "participationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "participationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "type": "col",
                "width": "20%",
                "title": "Total number of First Nations people delivering this service<b style=\"color:red\">*</b>",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "firstNationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "firstNationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "width": "20%",
                "source": "participationDetails",
                "rows": 4,
                "title": "If no First Nations people participated in the delivery of this service, <br>what are the reasons? If there was participation, please provide details.",
                "helpText": "If there were no First Nations people participating in the delivery of this service, please explain the reasons. If there were First Nations people involved, please outline how they were involved.",
                "type": "textarea"
              }
            ],
            "source": "participationInformationTableCpa",
            "type": "table"
          },
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<h3>Totals Summary</h3>"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(i) Total area (ha) treated for pest animals (initial) for this reporting period",
                        "source": "totalAreaPestAnimalsTreatedInitial",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(ii) Total area (ha) treated for pest animals (initial) <u><i>invoiced</i></u> for this reporting period",
                        "source": "totalAreaPestAnimalsTreatedInitialInvoiced",
                        "type": "number",
                        "displayOptions": {
                          "removeTrailingZeros": false
                        }
                      }
                    ]
                  }
                ]
              },
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(iii) Total area (ha) treated for pest animals (follow up) for this reporting period",
                        "source": "totalAreaPestAnimalsTreatedFollowUp",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(iv) Total area (ha) treated for pest animals (follow up) <u><i>invoiced</i></u> for this reporting period",
                        "source": "totalAreaPestAnimalsTreatedFollowUpInvoiced",
                        "type": "number",
                        "displayOptions": {
                          "removeTrailingZeros": false
                        }
                      }
                    ]
                  }
                ]
              },
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(v) Total length (km) treated for pest animals (initial) for this reporting period",
                        "source": "totalLengthPestAnimalsTreatedInitial",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(vi) Total length (km) treated for pest animals (initial) <u><i>invoiced</i></u> for this reporting period",
                        "source": "totalLengthPestAnimalsTreatedInitialInvoiced",
                        "type": "number",
                        "displayOptions": {
                          "removeTrailingZeros": false
                        }
                      }
                    ]
                  }
                ]
              },
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(vii) Total length (km) treated for pest animals (follow up) for this reporting period",
                        "source": "totalLengthPestAnimalsTreatedFollowUp",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(viii) Total length (km) treated for pest animals (follow up) <u><i>invoiced</i></u> for this reporting period",
                        "source": "totalLengthPestAnimalsTreatedFollowUpInvoiced",
                        "type": "number",
                        "displayOptions": {
                          "removeTrailingZeros": false
                        }
                      }
                    ]
                  }
                ]
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "If the total invoiced is different to the total completed, please provide the reason",
                "source": "totalInvoicedControllingPestMismatched",
                "type": "textarea",
                "rows": 4,
                "placeholder": ""
              }
            ]
          },
          {
            "addRowText": "Add a new area",
            "userAddedRows": true,
            "source": "areasControlled",
            "type": "repeat",
            "items": [
              {
                "type": "row",
                "items": [
                  {
                    "css": "span3",
                    "type": "col",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "relatedOutcomes",
                            "type": "selectOne",
                            "preLabel": "Which outcome statement/s does this activity relate to?"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "investmentPriorities2",
                            "preLabel": "Which investment priority does this activity relate to?",
                            "type": "select2Many"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "css": "span3",
                    "type": "col",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "invoicingThisActivity",
                            "preLabel": "Are you invoicing for this activity in this reporting period?",
                            "type": "selectOne"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "row",
                "css": "border-bottom",
                "items": [
                  {
                    "preLabel": "Initial or follow-up control?",
                    "css": "span3",
                    "source": "initialOrFollowup",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "type": "row",
                "css": "border-bottom",
                "items": [
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Site/s where pest control was undertaken",
                            "source": "sitesTreatedForPestAnimal",
                            "type": "feature"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "calculatedAreaTreatedHa",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            },
                            "readonly": "readonly"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "calculatedLengthTreatedKm",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            },
                            "readonly": "readonly"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Please attach mapping details",
                            "source": "extraMappingDetails",
                            "type": "document"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Actual area (ha) / length (km) treated for pest animals",
                            "source": "areaTreatedHa",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "lengthTreatedKm",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Reason for actual being different to mapped amount",
                            "source": "mappingNotAlignedReason",
                            "type": "selectOne"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "placeholder": "Please enter the reason/s the mapping didn't align with the invoiced amount",
                            "source": "mappingNotAlignedComments",
                            "type": "textarea",
                            "rows": 5
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "addRowText": "Add a species",
                    "columns": [
                      {
                        "width": "20%",
                        "source": "pestSpecies",
                        "title": "Target pest species",
                        "type": "speciesSelect"
                      },
                      {
                        "width": "20%",
                        "type": "col",
                        "title": "Type of control",
                        "items": [
                          {
                            "source": "pestManagementMethod",
                            "type": "selectOne"
                          },
                          {
                            "source": "otherManagementMethod",
                            "type": "text"
                          }
                        ]
                      },
                      {
                        "width": "30%",
                        "source": "treatmentObjective",
                        "title": "Treatment objective",
                        "type": "textarea"
                      },
                      {
                        "width": "15%",
                        "source": "individualsOrColonies",
                        "title": "Individuals or colonies?",
                        "type": "selectOne"
                      },
                      {
                        "width": "15%",
                        "source": "individualsOrColoniesRemoved",
                        "title": "Number of individuals or colonies removed / destroyed",
                        "type": "number"
                      }
                    ],
                    "userAddedRows": true,
                    "disableTableUpload": true,
                    "source": "pestAnimalsControlled",
                    "type": "table"
                  }
                ]
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "Optionally attach photos",
                "source": "photographicEvidence",
                "type": "image"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "Clarification, if needed",
                "type": "textarea",
                "rows": 4,
                "css": "span8",
                "source": "comments",
                "placeholder": "Clarification comments include information for your project manager about the service like:\n • any reported items that are not being invoiced (eg, over-achievement) \n • any extraneous circumstances that affected delivery of the service \n"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<p><b>Available Evidence</b></p>This field is mandatory for all projects as part of the invoicing process. Please list evidence you have retained for this service and provide information to where the evidence is stored (links/file location data). Refer to the Project Service Evidence Guide and the Project Service Summaries for information on the evidence requirements.<b style=\"color:red\">*</b>"
              },
              {
                "preLabel": "Data have been uploaded",
                "source": "dataUploaded",
                "type": "boolean"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "",
                "source": "projectAssuranceDetails",
                "type": "textarea",
                "rows": 4,
                "placeholder": "List the documentary evidence you have available for this project service. Include specifically, the document titles and location (e.g. internal IT network pathway, URLs) to assist with locating this material for future audits/assurance purposes."
              }
            ]
          },
          {
            "type": "table",
            "source": "assuranceDocuments",
            "userAddedRows": true,
            "disableTableUpload": true,
            "columns": [
              {
                "title": "Attached documents",
                "source": "attachments",
                "type": "document"
              }
            ]
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtPestAnimalManagement",
      "optional": true,
      "optionalQuestionText": null,
      "title": "Controlling pest animals",
      "collapsibleHeading": null,
      "name": "NHT - Pest animal management",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "dataModel": [
          {
            "allowRowDelete": "false",
            "columns": [
              {
                "dataType": "text",
                "name": "participationIndividualsOrGroups",
                "description": "Once Individuals or groups is selected, the related number field in the next two columns will become editable to report.",
                "constraints": [
                  "Individuals",
                  "Groups"
                ],
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "participationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "participationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ]
              },
              {
                "dataType": "number",
                "name": "firstNationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "param": {
                      "expression": "participationIndividualNumber",
                      "type": "computed"
                    },
                    "rule": "max"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "firstNationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "param": {
                      "expression": "participationGroupNumber",
                      "type": "computed"
                    },
                    "rule": "max",
                    "message": "The number of first nation participants cannot be greater than the total number of participants"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "participationDetails",
                "validate": "required, maxSize[3000]"
              }
            ],
            "dataType": "list",
            "name": "participationInformationTableDer"
          },
          {
            "columns": [
              {
                "dataType": "text",
                "name": "initialOrFollowup",
                "constraints": [
                  "Initial",
                  "Follow-up"
                ],
                "validate": "required"
              },
              {
                "dataType": "feature",
                "name": "sitesOfDebrisRemoved",
                "description": "Mapping field to be done and Area (ha)/length (km) field be auto-calculated from mapping."
              },
              {
                "computed": {
                  "expression": "$geom.areaHa(sitesOfDebrisRemoved)"
                },
                "dataType": "number",
                "name": "calculatedAreaTreatedHa",
                "units": "ha",
                "decimalPlaces": 3
              },
              {
                "computed": {
                  "expression": "$geom.lengthKm(sitesOfDebrisRemoved)"
                },
                "dataType": "number",
                "name": "calculatedLengthTreatedKm",
                "units": "km",
                "decimalPlaces": 3,
                "behaviour": [
                  {
                    "condition": "lengthTreatedKm > 0",
                    "type": "conditional_validation",
                    "value": {
                      "message": "The managed length must be mapped",
                      "validate": "required,min[0.0001]"
                    }
                  }
                ]
              },
              {
                "defaultValue": {
                  "type": "computed",
                  "expression": "calculatedAreaTreatedHa"
                },
                "dataType": "number",
                "name": "areaTreatedHa",
                "description": "Manually enter correct figure for this reporting period if different to mapped value.",
                "units": "ha",
                "decimalPlaces": 3,
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedReason",
                "constraints": [
                  "Mapped area simplifies more complex area/s where work was undertaken during this period",
                  "Other"
                ],
                "validate": "required",
                "behaviour": [
                  {
                    "condition": "not (within(areaTreatedHa, calculatedAreaTreatedHa, 0.1) and within(lengthTreatedKm, calculatedLengthTreatedKm, 0.1))",
                    "type": "if"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedComments",
                "validate": "required,maxSize[100]",
                "behaviour": [
                  {
                    "type": "visible",
                    "condition": "\"Other\" == mappingNotAlignedReason"
                  }
                ]
              },
              {
                "dataType": "document",
                "name": "extraMappingDetails",
                "validate": "required",
                "description": "Please fill in the Mapped/Actual/Invoice fields before attaching a document here. If those fields match this field will be void. <br/>If any of these fields differ please attach your organisation's detailed map for the area, covered by this project service - during reporting period (include the scale measure for each map).",
                "behaviour": [
                  {
                    "condition": "not (within(areaTreatedHa, calculatedAreaTreatedHa, 0.1) and within(lengthTreatedKm, calculatedLengthTreatedKm, 0.1))",
                    "type": "if"
                  }
                ]
              },
              {
                "defaultValue": {
                  "type": "computed",
                  "expression": "calculatedLengthTreatedKm"
                },
                "dataType": "number",
                "name": "lengthTreatedKm",
                "units": "km",
                "decimalPlaces": 3
              },
              {
                "name": "relatedOutcomes",
                "dataType": "text",
                "description": "Select the outcome/s as defined in your MERI plan that this service was delivered to achieve.",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "value",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "context-path": "outcomes"
                    }
                  }
                }
              },
              {
                "name": "investmentPriorities2",
                "dataType": "text",
                "description": "",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "value",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "context-path": "owner.investmentPriorities"
                    }
                  }
                }
              },
              {
                "dataType": "text",
                "name": "otherInvestmentPriority",
                "behaviour": [
                  {
                    "type": "enable",
                    "condition": "\"Other\" in investmentPriorities2"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "invoicingThisActivity",
                "constraints": [
                  "Yes",
                  "No"
                ],
                "validate": "required"
              },
              {
                "columns": [
                  {
                    "dataType": "text",
                    "name": "teqDebrisRemoval",
                    "description": "",
                    "validate": "required,maxSize[300]"
                  },
                  {
                    "dataType": "text",
                    "name": "debrisType",
                    "description": "",
                    "constraints": [
                      "Building & Industrial waste",
                      "Domestic waste",
                      "Green waste",
                      "Other"
                    ],
                    "validate": "required"
                  },
                  {
                    "dataType": "text",
                    "name": "otherDebrisType",
                    "description": "if Other",
                    "behaviour": [
                      {
                        "condition": "debrisType == \"Other\"",
                        "type": "enable"
                      }
                    ],
                    "validate": "required,maxSize[100]"
                  },
                  {
                    "validated": "required,min[0]",
                    "dataType": "number",
                    "name": "weightOfDebrisTonnes",
                    "units": "tonnes"
                  },
                  {
                    "validated": "required,min[0]",
                    "dataType": "number",
                    "name": "volumeRemovedM3",
                    "units": "m3"
                  }
                ],
                "dataType": "list",
                "name": "debrisRemovalDetails"
              }
            ],
            "dataType": "list",
            "name": "debrisRemovalAreasControlled"
          },
          {
            "dataType": "number",
            "name": "totalAreaDebrisRemovedInitial",
            "validate": "min[0]",
            "decimalPlaces": 3,
            "computed": {
              "expression": "sum(debrisRemovalAreasControlled, \"initialOrFollowup == 'Initial' ? areaTreatedHa : 0\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalAreaDebrisRemovedInitialInvoiced",
            "decimalPlaces": 3,
            "description": "Manually enter if values have decimal points e.g. 0.350 or 2.545",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalAreaDebrisRemovedInitial",
                  "type": "computed",
                  "decimalPlaces": 3
                },
                "rule": "max"
              }
            ],
            "defaultValue": ""
          },
          {
            "dataType": "number",
            "name": "totalLengthDebrisRemovedInitial",
            "validate": "min[0]",
            "decimalPlaces": 3,
            "computed": {
              "expression": "sum(debrisRemovalAreasControlled, \"initialOrFollowup == 'Initial' ? lengthTreatedKm : 0\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalLengthDebrisRemovedInvoicedInitial",
            "decimalPlaces": 3,
            "description": "Manually enter if values have decimal points e.g. 0.350 or 2.545",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalLengthDebrisRemovedInitial",
                  "type": "computed",
                  "decimalPlaces": 3
                },
                "rule": "max"
              }
            ],
            "defaultValue": ""
          },
          {
            "dataType": "number",
            "name": "totalAreaDebrisRemovedFollowup",
            "validate": "min[0]",
            "decimalPlaces": 3,
            "computed": {
              "expression": "sum(debrisRemovalAreasControlled, \"initialOrFollowup == 'Follow-up' ? areaTreatedHa : 0\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalAreaDebrisRemovedInvoicedFollowup",
            "decimalPlaces": 3,
            "description": "Manually enter if values have decimal points e.g. 0.350 or 2.545",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalAreaDebrisRemovedFollowup",
                  "type": "computed",
                  "decimalPlaces": 3
                },
                "rule": "max"
              }
            ],
            "defaultValue": ""
          },
          {
            "dataType": "number",
            "name": "totalLengthDebrisRemovedFollowup",
            "validate": "min[0]",
            "decimalPlaces": 3,
            "computed": {
              "expression": "sum(debrisRemovalAreasControlled, \"initialOrFollowup == 'Follow-up' ? lengthTreatedKm : 0\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalLengthDebrisRemovedInvoicedFollowup",
            "description": "Manually enter if values have decimal points e.g. 0.350 or 2.545",
            "decimalPlaces": 3,
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalLengthDebrisRemovedFollowup",
                  "type": "computed",
                  "decimalPlaces": 3
                },
                "rule": "max"
              }
            ],
            "defaultValue": ""
          },
          {
            "dataType": "text",
            "name": "totalInvoicedDebrisRemovedMismatched",
            "description": "Please provide the reason/s why you are not invoicing for the same number that have been completed and delivered, e.g. the personnel and equipment were available to deliver more than was contracted.",
            "validate": "maxSize[400],required,min[0]",
            "behaviour": [
              {
                "condition": "totalAreaDebrisRemovedInitialInvoiced < totalAreaDebrisRemovedInitial or totalLengthDebrisRemovedInvoicedInitial < totalLengthDebrisRemovedInitial or totalAreaDebrisRemovedInvoicedFollowup < totalAreaDebrisRemovedFollowup or totalLengthDebrisRemovedInvoicedFollowup < totalLengthDebrisRemovedFollowup",
                "type": "enable"
              }
            ]
          },
          {
            "dataType": "text",
            "name": "comments",
            "validate": "maxSize[1500]"
          },
          {
            "dataType": "image",
            "name": "photographicEvidence"
          },
          {
            "dataType": "boolean",
            "name": "dataUploaded",
            "description": "<ul><li>Tick box to confirm data has been uploaded</li><li>URL Link (mandatory if below is ticked) in available evidence</li></ul>"
          },
          {
            "name": "projectAssuranceDetails",
            "dataType": "text",
            "validate": "required,maxSize[5000]"
          },
          {
            "dataType": "list",
            "name": "assuranceDocuments",
            "columns": [
              {
                "dataType": "document",
                "name": "attachments",
                "description": "Please attach any Evidence of Service Delivery here."
              }
            ]
          }
        ],
        "modelName": "NHT - Debris removal",
        "title": "Debris Removal",
        "viewModel": [
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<h3>Participation information</h3>"
              }
            ]
          },
          {
            "disableTableUpload": true,
            "columns": [
              {
                "width": "10%",
                "source": "participationIndividualsOrGroups",
                "title": "Are individuals or groups delivering this service?",
                "type": "selectOne"
              },
              {
                "width": "20%",
                "type": "col",
                "title": "Total number of people delivering this service <br>(including First Nations people)<b style=\"color:red\">*</b>",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "participationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "participationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "type": "col",
                "width": "20%",
                "title": "Total number of First Nations people delivering this service<b style=\"color:red\">*</b>",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "firstNationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "firstNationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "width": "20%",
                "source": "participationDetails",
                "rows": 4,
                "title": "If no First Nations people participated in the delivery of this service, <br>what are the reasons? If there was participation, please provide details.",
                "helpText": "If there were no First Nations people participating in the delivery of this service, please explain the reasons. If there were First Nations people involved, please outline how they were involved.",
                "type": "textarea"
              }
            ],
            "source": "participationInformationTableDer",
            "type": "table"
          },
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<h3>Totals Summary</h3>"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(i) Total area (ha) of debris removal (initial) for this reporting period",
                        "source": "totalAreaDebrisRemovedInitial",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(ii) Total area (ha) of debris removal (initial) <u><i>invoiced</i></u> for this reporting period",
                        "source": "totalAreaDebrisRemovedInitialInvoiced",
                        "type": "number",
                        "displayOptions": {
                          "removeTrailingZeros": false
                        }
                      }
                    ]
                  }
                ]
              },
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(iii) Total area (ha) of debris removal (follow up) for this reporting period",
                        "source": "totalAreaDebrisRemovedFollowup",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(iv) Total area (ha) of debris removal (follow up) <u><i>invoiced</i></u> for this reporting period",
                        "source": "totalAreaDebrisRemovedInvoicedFollowup",
                        "type": "number",
                        "displayOptions": {
                          "removeTrailingZeros": false
                        }
                      }
                    ]
                  }
                ]
              },
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(v) Total length (km) of debris removal (initial) for this reporting period",
                        "source": "totalLengthDebrisRemovedInitial",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(vi) Total length (km) of debris removal (initial) <u><i>invoiced</i></u> for this reporting period",
                        "source": "totalLengthDebrisRemovedInvoicedInitial",
                        "type": "number",
                        "displayOptions": {
                          "removeTrailingZeros": false
                        }
                      }
                    ]
                  }
                ]
              },
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(vii) Total length (km) of debris removal (follow up) for this reporting period",
                        "source": "totalLengthDebrisRemovedFollowup",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(viii) Total length (km) of debris removal (follow up) <u><i>invoiced</i></u> for this reporting period",
                        "source": "totalLengthDebrisRemovedInvoicedFollowup",
                        "type": "number",
                        "displayOptions": {
                          "removeTrailingZeros": false
                        }
                      }
                    ]
                  }
                ]
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "If the total invoiced is different to the total completed, please provide the reason",
                "source": "totalInvoicedDebrisRemovedMismatched",
                "type": "textarea",
                "rows": 4,
                "placeholder": ""
              }
            ]
          },
          {
            "addRowText": "Add a new debris removal activity",
            "userAddedRows": true,
            "source": "debrisRemovalAreasControlled",
            "type": "repeat",
            "items": [
              {
                "type": "row",
                "items": [
                  {
                    "css": "span3",
                    "type": "col",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "relatedOutcomes",
                            "type": "selectOne",
                            "preLabel": "Which outcome statement/s does this activity relate to?"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "investmentPriorities2",
                            "preLabel": "Which investment priority does this activity relate to?",
                            "type": "select2Many"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "css": "span3",
                    "type": "col",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "invoicingThisActivity",
                            "preLabel": "Are you invoicing for this activity in this reporting period?",
                            "type": "selectOne"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "row",
                "css": "border-bottom",
                "items": [
                  {
                    "preLabel": "Initial or follow-up activity?",
                    "css": "span3",
                    "source": "initialOrFollowup",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "type": "row",
                "css": "border-bottom",
                "items": [
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Site/s where debris removal was implemented",
                            "source": "sitesOfDebrisRemoved",
                            "type": "feature"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "calculatedAreaTreatedHa",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            },
                            "readonly": "readonly"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "calculatedLengthTreatedKm",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            },
                            "readonly": "readonly"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Please attach mapping details",
                            "source": "extraMappingDetails",
                            "type": "document"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Actual area (ha) / length (km) of debris removal",
                            "source": "areaTreatedHa",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "lengthTreatedKm",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Reason for actual being different to mapped amount",
                            "source": "mappingNotAlignedReason",
                            "type": "selectOne"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "placeholder": "Please enter the reason/s the mapping didn't align with the invoiced amount",
                            "source": "mappingNotAlignedComments",
                            "type": "textarea",
                            "rows": 5
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "columns": [
                  {
                    "width": "20%",
                    "title": "Type of debris removed",
                    "type": "col",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "debrisType",
                            "type": "selectOne"
                          }
                        ]
                      },
                      {
                        "source": "otherDebrisType",
                        "type": "text"
                      }
                    ]
                  },
                  {
                    "width": "20%",
                    "source": "weightOfDebrisTonnes",
                    "title": "Weight (tonnes) of debris removed",
                    "type": "number"
                  },
                  {
                    "width": "20%",
                    "source": "volumeRemovedM3",
                    "title": "Volume (m3) of debris removed",
                    "type": "number"
                  },
                  {
                    "width": "40%",
                    "source": "teqDebrisRemoval",
                    "title": "Technique used to remove debris",
                    "type": "textarea",
                    "rows": 5
                  }
                ],
                "userAddedRows": true,
                "disableTableUpload": true,
                "source": "debrisRemovalDetails",
                "type": "table"
              }
            ]
          },

          {
            "type": "row",
            "items": [
              {
                "preLabel": "Optionally attach photos",
                "source": "photographicEvidence",
                "type": "image"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "Clarification, if needed",
                "type": "textarea",
                "rows": 4,
                "css": "span8",
                "source": "comments",
                "placeholder": "Clarification comments include information for your project manager about the service like:\n • any reported items that are not being invoiced (eg, over-achievement) \n • any extraneous circumstances that affected delivery of the service \n"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<p><b>Available Evidence</b></p>This field is mandatory for all projects as part of the invoicing process. Please list evidence you have retained for this service and provide information to where the evidence is stored (links/file location data). Refer to the Project Service Evidence Guide and the Project Service Summaries for information on the evidence requirements.<b style=\"color:red\">*</b>"
              },
              {
                "preLabel": "Data have been uploaded",
                "source": "dataUploaded",
                "type": "boolean"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "",
                "source": "projectAssuranceDetails",
                "type": "textarea",
                "rows": 4,
                "placeholder": "List the documentary evidence you have available for this project service. Include specifically, the document titles and location (e.g. internal IT network pathway, URLs) to assist with locating this material for future audits/assurance purposes."
              }
            ]
          },
          {
            "type": "table",
            "source": "assuranceDocuments",
            "userAddedRows": true,
            "disableTableUpload": true,
            "columns": [
              {
                "title": "Attached documents",
                "source": "attachments",
                "type": "document"
              }
            ]
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtDebrisRemoval",
      "optional": true,
      "optionalQuestionText": null,
      "title": "Debris removal",
      "collapsibleHeading": null,
      "name": "NHT - Debris removal",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "dataModel": [
          {
            "allowRowDelete": "false",
            "columns": [
              {
                "dataType": "text",
                "name": "participationIndividualsOrGroups",
                "description": "Once Individuals or groups is selected, the related number field in the next two columns will become editable to report.",
                "constraints": [
                  "Individuals",
                  "Groups"
                ],
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "participationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "participationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ]
              },
              {
                "dataType": "number",
                "name": "firstNationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "param": {
                      "expression": "participationIndividualNumber",
                      "type": "computed"
                    },
                    "rule": "max"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "firstNationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "param": {
                      "expression": "participationGroupNumber",
                      "type": "computed"
                    },
                    "rule": "max",
                    "message": "The number of first nation participants cannot be greater than the total number of participants"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "participationDetails",
                "validate": "required, maxSize[3000]"
              }
            ],
            "dataType": "list",
            "name": "participationInformationTableErm"
          },
          {
            "columns": [
              {
                "dataType": "text",
                "name": "initialOrFollowup",
                "constraints": [
                  "Initial",
                  "Follow-up"
                ],
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "numberInstalled",
                "validate": "required,min[0]"
              },
              {
                "dataType": "feature",
                "name": "sitesOfErosionControl",
                "description": "Mapping field to be done and Area (ha)/length (km) field be auto-calculated from mapping."
              },
              {
                "computed": {
                  "expression": "$geom.areaHa(sitesOfErosionControl)"
                },
                "dataType": "number",
                "name": "calculatedAreaTreatedHa",
                "units": "ha",
                "decimalPlaces": 3
              },
              {
                "computed": {
                  "expression": "$geom.lengthKm(sitesOfErosionControl)"
                },
                "dataType": "number",
                "name": "calculatedLengthTreatedKm",
                "units": "km",
                "decimalPlaces": 3,
                "behaviour": [
                  {
                    "condition": "lengthTreatedKm > 0",
                    "type": "conditional_validation",
                    "value": {
                      "message": "The managed length must be mapped",
                      "validate": "required,min[0.0001]"
                    }
                  }
                ]
              },
              {
                "defaultValue": {
                  "type": "computed",
                  "expression": "calculatedAreaTreatedHa"
                },
                "dataType": "number",
                "name": "areaTreatedHa",
                "description": "Manually enter correct figure for this reporting period if different to mapped value.",
                "units": "ha",
                "decimalPlaces": 3,
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedReason",
                "constraints": [
                  "Mapped area simplifies more complex area/s where work was undertaken during this period",
                  "Other"
                ],
                "validate": "required",
                "behaviour": [
                  {
                    "condition": "not (within(areaTreatedHa, calculatedAreaTreatedHa, 0.1) and within(lengthTreatedKm, calculatedLengthTreatedKm, 0.1))",
                    "type": "if"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedComments",
                "validate": "required,maxSize[100]",
                "behaviour": [
                  {
                    "type": "visible",
                    "condition": "\"Other\" == mappingNotAlignedReason"
                  }
                ]
              },
              {
                "dataType": "document",
                "name": "extraMappingDetails",
                "validate": "required",
                "description": "Please fill in the Mapped/Actual/Invoice fields before attaching a document here. If those fields match this field will be void. <br/>If any of these fields differ please attach your organisation's detailed map for the area, covered by this project service - during reporting period (include the scale measure for each map).",
                "behaviour": [
                  {
                    "condition": "not (within(areaTreatedHa, calculatedAreaTreatedHa, 0.1) and within(lengthTreatedKm, calculatedLengthTreatedKm, 0.1))",
                    "type": "if"
                  }
                ]
              },
              {
                "defaultValue": {
                  "type": "computed",
                  "expression": "calculatedLengthTreatedKm"
                },
                "dataType": "number",
                "name": "lengthTreatedKm",
                "units": "km",
                "decimalPlaces": 3
              },
              {
                "name": "relatedOutcomes",
                "dataType": "text",
                "description": "Select the outcome/s as defined in your MERI plan that this service was delivered to achieve.",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "value",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "context-path": "outcomes"
                    }
                  }
                }
              },
              {
                "name": "investmentPriorities2",
                "dataType": "text",
                "description": "",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "value",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "context-path": "owner.investmentPriorities"
                    }
                  }
                }
              },
              {
                "dataType": "text",
                "name": "otherInvestmentPriority",
                "behaviour": [
                  {
                    "type": "enable",
                    "condition": "\"Other\" in investmentPriorities2"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "invoicingThisActivity",
                "constraints": [
                  "Yes",
                  "No"
                ],
                "validate": "required"
              },
              {
                "columns": [
                  {
                    "dataType": "date",
                    "name": "dateFrom",
                    "validate": "required"
                  },
                  {
                    "dataType": "date",
                    "name": "dateTo",
                    "validate": [
                      {
                        "rule": "required"
                      },
                      {
                        "rule": "future",
                        "param": {
                          "expression": "formatDateForValidation(dateFrom)",
                          "type": "computed"
                        }
                      }
                    ]
                  },
                  {
                    "dataType": "text",
                    "name": "treatmentObjective",
                    "validate": "required,maxSize[300]"
                  },
                  {
                    "dataType": "text",
                    "name": "erosionManagementMethod",
                    "constraints": [
                      "Alternative watering point",
                      "Erosion control structures",
                      "Farming practice change",
                      "Fencing",
                      "Revegetation",
                      "Terracing",
                      "Vegetated waterway (bioswale)",
                      "Windbreaks",
                      "Other"
                    ],
                    "validate": "required"
                  },
                  {
                    "dataType": "text",
                    "name": "otherErosionManagementMethod",
                    "behaviour": [
                      {
                        "condition": "erosionManagementMethod == \"Other\"",
                        "type": "enable"
                      }
                    ],
                    "validate": "required,max[300]"
                  },
                  {
                    "dataType": "number",
                    "name": "numberDaysCollecting",
                    "validate": "required,min[0]"
                  },
                  {
                    "dataType": "text",
                    "name": "threatenedEcologicalCommunity",
                    "validate": "maxSize[300]"
                  }
                ],
                "dataType": "list",
                "name": "erosionManagementDetails",
                "minSize": 0
              }
            ],
            "dataType": "list",
            "name": "erosionManagementAreasControlled"
          },
          {
            "name": "relatedOutcomes",
            "dataType": "text",
            "description": "Select the outcome/s as defined in your MERI plan that this service was delivered to achieve.",
            "validate": "required",
            "constraints": {
              "textProperty": "label",
              "valueProperty": "value",
              "type": "pre-populated",
              "config": {
                "source": {
                  "context-path": "outcomes"
                }
              }
            }
          },
          {
            "name": "investmentPriorities2",
            "dataType": "text",
            "description": "",
            "validate": "required",
            "constraints": {
              "textProperty": "label",
              "valueProperty": "value",
              "type": "pre-populated",
              "config": {
                "source": {
                  "context-path": "owner.investmentPriorities"
                }
              }
            }
          },
          {
            "dataType": "text",
            "name": "otherInvestmentPriority",
            "behaviour": [
              {
                "type": "enable",
                "condition": "\"Other\" in investmentPriorities2"
              }
            ]
          },
          {
            "dataType": "text",
            "name": "invoicingThisActivity",
            "constraints": [
              "Yes",
              "No"
            ],
            "validate": "required"
          },
          {
            "dataType": "number",
            "name": "totalLengthStreamCoastlineInitial",
            "validate": "min[0]",
            "decimalPlaces": 3,
            "computed": {
              "expression": "sum(erosionManagementAreasControlled, \"initialOrFollowup == 'Initial' ? lengthTreatedKm : 0\")"
            }
          },
          {
            "dataType": "number",
            "decimalPlaces": 3,
            "name": "totalLengthStreamCoastlineInitialInvoice",
            "description": "Manually enter if values have decimal points e.g. 0.350 or 2.545",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalLengthStreamCoastlineInitial",
                  "type": "computed",
                  "decimalPlaces": 3
                },
                "rule": "max"
              }
            ],
            "defaultValue": ""
          },
          {
            "dataType": "number",
            "name": "totalLengthStreamCoastlineFollowup",
            "validate": "min[0]",
            "decimalPlaces": 3,
            "computed": {
              "expression": "sum(erosionManagementAreasControlled, \"initialOrFollowup == 'Follow-up' ? lengthTreatedKm : 0\")"
            }
          },
          {
            "dataType": "number",
            "decimalPlaces": 3,
            "name": "totalLengthStreamCoastlineInvoicedFollowup",
            "description": "Manually enter if values have decimal points e.g. 0.350 or 2.545",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalLengthStreamCoastlineFollowup",
                  "type": "computed",
                  "decimalPlaces": 3
                },
                "rule": "max"
              }
            ],
            "defaultValue": ""
          },
          {
            "dataType": "number",
            "name": "totalAreaErosionControlInitial",
            "validate": "min[0]",
            "decimalPlaces": 3,
            "computed": {
              "expression": "sum(erosionManagementAreasControlled, \"initialOrFollowup == 'Initial' ? areaTreatedHa : 0\")"
            }
          },
          {
            "dataType": "number",
            "decimalPlaces": 3,
            "name": "totalAreaErosionControlInvoicedInitial",
            "description": "Manually enter if values have decimal points e.g. 0.350 or 2.545",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalAreaErosionControlInitial",
                  "type": "computed",
                  "decimalPlaces": 3
                },
                "rule": "max"
              }
            ],
            "defaultValue": ""
          },
          {
            "dataType": "number",
            "name": "totalAreaErosionControlFollowup",
            "validate": "min[0]",
            "decimalPlaces": 3,
            "computed": {
              "expression": "sum(erosionManagementAreasControlled, \"initialOrFollowup == 'Follow-up' ? areaTreatedHa : 0\")"
            }
          },
          {
            "dataType": "number",
            "decimalPlaces": 3,
            "name": "totalAreaErosionControlInvoicedFollowup",
            "description": "Manually enter if values have decimal points e.g. 0.350 or 2.545",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalAreaErosionControlFollowup",
                  "type": "computed",
                  "decimalPlaces": 3
                },
                "rule": "max"
              }
            ],
            "defaultValue": ""
          },
          {
            "dataType": "text",
            "name": "totalInvoicedErosionMismatched",
            "description": "Please provide the reason/s why you are not invoicing for the same number that have been completed and delivered, e.g. the personnel and equipment were available to deliver more than was contracted.",
            "validate": "maxSize[400],required,min[0]",
            "behaviour": [
              {
                "condition": "totalLengthStreamCoastlineInitialInvoice < totalLengthStreamCoastlineInitial or totalLengthStreamCoastlineInvoicedFollowup < totalLengthStreamCoastlineFollowup or totalAreaErosionControlInvoicedInitial < totalAreaErosionControlInitial or totalAreaErosionControlInvoicedFollowup < totalAreaErosionControlFollowup",
                "type": "enable"
              }
            ]
          },
          {
            "dataType": "text",
            "name": "comments",
            "validate": "maxSize[1500]"
          },
          {
            "dataType": "image",
            "name": "photographicEvidence"
          },
          {
            "dataType": "boolean",
            "name": "dataUploaded",
            "description": "<ul><li>Tick box to confirm data has been uploaded</li><li>URL Link (mandatory if below is ticked) in available evidence</li></ul>"
          },
          {
            "name": "projectAssuranceDetails",
            "dataType": "text",
            "validate": "required,maxSize[5000]"
          },
          {
            "dataType": "list",
            "name": "assuranceDocuments",
            "columns": [
              {
                "dataType": "document",
                "name": "attachments",
                "description": "Please attach any Evidence of Service Delivery here."
              }
            ]
          }
        ],
        "modelName": "NHT - Erosion Management",
        "title": "Erosion Management",
        "viewModel": [
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<h3>Participation information</h3>"
              }
            ]
          },
          {
            "disableTableUpload": true,
            "columns": [
              {
                "width": "10%",
                "source": "participationIndividualsOrGroups",
                "title": "Are individuals or groups delivering this service?",
                "type": "selectOne"
              },
              {
                "width": "20%",
                "type": "col",
                "title": "Total number of people delivering this service <br>(including First Nations people)<b style=\"color:red\">*</b>",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "participationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "participationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "type": "col",
                "width": "20%",
                "title": "Total number of First Nations people delivering this service<b style=\"color:red\">*</b>",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "firstNationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "firstNationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "width": "20%",
                "source": "participationDetails",
                "rows": 4,
                "title": "If no First Nations people participated in the delivery of this service, <br>what are the reasons? If there was participation, please provide details.",
                "helpText": "If there were no First Nations people participating in the delivery of this service, please explain the reasons. If there were First Nations people involved, please outline how they were involved.",
                "type": "textarea"
              }
            ],
            "source": "participationInformationTableErm",
            "type": "table"
          },
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<h3>Totals Summary</h3>"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(vii) Total area (ha) of erosion control (initial) for this reporting period",
                        "source": "totalAreaErosionControlInitial",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(viii) Total area (ha) of erosion control (initial) <u><i>invoiced</i></u> for this reporting period",
                        "source": "totalAreaErosionControlInvoicedInitial",
                        "type": "number",
                        "displayOptions": {
                          "removeTrailingZeros": false
                        }
                      }
                    ]
                  }
                ]
              },
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(ix) Total area (ha) of erosion control (follow up) for this reporting period",
                        "source": "totalAreaErosionControlFollowup",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(x) Total area (ha) of erosion control <u><i>invoiced</i></u> (follow up) for this reporting period",
                        "source": "totalAreaErosionControlInvoicedFollowup",
                        "type": "number",
                        "displayOptions": {
                          "removeTrailingZeros": false
                        }
                      }
                    ]
                  }
                ]
              },
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(iii) Total length (km) of stream/coastline treated for erosion (initial) for this reporting period",
                        "source": "totalLengthStreamCoastlineInitial",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(iv) Total length (km) of stream/coastline treated for erosion (initial) <u><i>invoiced</i></u> for this reporting period",
                        "source": "totalLengthStreamCoastlineInitialInvoice",
                        "type": "number",
                        "displayOptions": {
                          "removeTrailingZeros": false
                        }
                      }
                    ]
                  }
                ]
              },
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(v) Total length (km) of stream/coastline treated for erosion (follow up) for this reporting period",
                        "source": "totalLengthStreamCoastlineFollowup",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(vi) Total length (km) of stream/coastline treated for erosion (follow up) <u><i>invoiced</i></u> for this reporting period",
                        "source": "totalLengthStreamCoastlineInvoicedFollowup",
                        "type": "number",
                        "displayOptions": {
                          "removeTrailingZeros": false
                        }
                      }
                    ]
                  }
                ]
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "If the total invoiced is different to the total completed, please provide the reason",
                "source": "totalInvoicedErosionMismatched",
                "type": "textarea",
                "rows": 4,
                "placeholder": ""
              }
            ]
          },
          {
            "addRowText": "Add a new erosion control area",
            "userAddedRows": true,
            "source": "erosionManagementAreasControlled",
            "type": "repeat",
            "items": [
              {
                "type": "row",
                "items": [
                  {
                    "css": "span3",
                    "type": "col",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "relatedOutcomes",
                            "type": "selectOne",
                            "preLabel": "Which outcome statement/s does this activity relate to?"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "investmentPriorities2",
                            "preLabel": "Which investment priority does this activity relate to?",
                            "type": "select2Many"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "css": "span3",
                    "type": "col",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "invoicingThisActivity",
                            "preLabel": "Are you invoicing for this activity in this reporting period?",
                            "type": "selectOne"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "row",
                "css": "border-bottom",
                "items": [
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "initialOrFollowup",
                            "preLabel": "Initial or follow-up control?",
                            "type": "selectOne"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "numberInstalled",
                            "preLabel": "Number of erosion control structures installed",
                            "type": "number"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "row",
                "css": "border-bottom",
                "items": [
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Site/s where erosion has been controlled",
                            "source": "sitesOfErosionControl",
                            "type": "feature"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "calculatedAreaTreatedHa",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            },
                            "readonly": "readonly"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "calculatedLengthTreatedKm",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            },
                            "readonly": "readonly"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Please attach mapping details",
                            "source": "extraMappingDetails",
                            "type": "document"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Actual area (ha) / length (km) of erosion control",
                            "source": "areaTreatedHa",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "lengthTreatedKm",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Reason for actual being different to mapped amount",
                            "source": "mappingNotAlignedReason",
                            "type": "selectOne"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "placeholder": "Please enter the reason/s the mapping didn't align with the invoiced amount",
                            "source": "mappingNotAlignedComments",
                            "type": "textarea",
                            "rows": 5
                          }
                        ]
                      }
                    ]
                  }
                ]
              },

              {
                "columns": [
                  {
                    "title": "Date from",
                    "source": "dateFrom",
                    "type": "date",
                    "width": "15%"
                  },
                  {
                    "title": "Date to",
                    "source": "dateTo",
                    "type": "date",
                    "width": "15%"
                  },
                  {
                    "width": "20%",
                    "source": "treatmentObjective",
                    "title": "Treatment objective",
                    "type": "textarea"
                  },
                  {
                    "width": "20%",
                    "type": "col",
                    "title": "Type of treatment being used",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "erosionManagementMethod",
                            "type": "selectOne"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "otherErosionManagementMethod",
                            "placeholder": "Type of treatment method",
                            "type": "textarea"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "width": "10%",
                    "source": "numberDaysCollecting",
                    "title": "Number of days collecting seeds/propagating plants ",
                    "type": "number"
                  },
                  {
                    "width": "20%",
                    "source": "threatenedEcologicalCommunity",
                    "title": "Threatened Ecological Community (TEC) benefitting from this activity",
                    "type": "textarea"
                  }
                ],
                "userAddedRows": true,
                "disableTableUpload": true,
                "source": "erosionManagementDetails",
                "type": "table"
              }
            ]
          },

              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Optionally attach photos",
                    "source": "photographicEvidence",
                    "type": "image"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Clarification, if needed",
                    "type": "textarea",
                    "rows": 4,
                    "css": "span8",
                    "source": "comments",
                    "placeholder": "Clarification comments include information for your project manager about the service like:\n • any reported items that are not being invoiced (eg, over-achievement) \n • any extraneous circumstances that affected delivery of the service \n"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<p><b>Available Evidence</b></p>This field is mandatory for all projects as part of the invoicing process. Please list evidence you have retained for this service and provide information to where the evidence is stored (links/file location data). Refer to the Project Service Evidence Guide and the Project Service Summaries for information on the evidence requirements.<b style=\"color:red\">*</b>"
                  },
                  {
                    "preLabel": "Data have been uploaded",
                    "source": "dataUploaded",
                    "type": "boolean"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "",
                    "source": "projectAssuranceDetails",
                    "type": "textarea",
                    "rows": 4,
                    "placeholder": "List the documentary evidence you have available for this project service. Include specifically, the document titles and location (e.g. internal IT network pathway, URLs) to assist with locating this material for future audits/assurance purposes."
                  }
                ]
              },
              {
                "type": "table",
                "source": "assuranceDocuments",
                "userAddedRows": true,
                "disableTableUpload": true,
                "columns": [
                  {
                    "title": "Attached documents",
                    "source": "attachments",
                    "type": "document"
                  }
                ]
              }

        ]
      },
      "modelName": null,
      "templateName": "nhtErosionManagement",
      "optional": true,
      "optionalQuestionText": null,
      "title": "Erosion management",
      "collapsibleHeading": null,
      "name": "NHT - Erosion Management",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "dataModel": [
          {
            "allowRowDelete": "false",
            "columns": [
              {
                "dataType": "text",
                "name": "participationIndividualsOrGroups",
                "description": "Once Individuals or groups is selected, the related number field in the next two columns will become editable to report.",
                "constraints": [
                  "Individuals",
                  "Groups"
                ],
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "participationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "participationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ]
              },
              {
                "dataType": "number",
                "name": "firstNationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "param": {
                      "expression": "participationIndividualNumber",
                      "type": "computed"
                    },
                    "rule": "max"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "firstNationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "param": {
                      "expression": "participationGroupNumber",
                      "type": "computed"
                    },
                    "rule": "max",
                    "message": "The number of first nation participants cannot be greater than the total number of participants"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "participationDetails",
                "validate": "required, maxSize[3000]"
              }
            ],
            "dataType": "list",
            "name": "participationInformationTableEmp"
          },
          {
            "columns": [
              {
                "dataType": "text",
                "name": "newOrMaintained",
                "constraints": [
                  "Initial",
                  "Maintained"
                ],
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "numberOfPestFreeEnclosures",
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "daysSpentOnMaintenanceOfEnclosures",
                "description": "Number of days should be calculated as number of days by number of people (eg. 4.5 days by 3 people is 13.5 days).",
                "validate": "required, min[0]"
              },
              {
                "dataType": "feature",
                "name": "sitesOfPestAnimalFreeEnclosure",
                "description": "Mapping field to be done and Area (ha) field be auto-calculated from mapping.",
                "validate": "required"
              },
              {
                "computed": {
                  "expression": "$geom.areaHa(sitesOfPestAnimalFreeEnclosure)"
                },
                "dataType": "number",
                "name": "calculatedAreaTreatedHa",
                "units": "ha",
                "decimalPlaces": 3
              },
              {
                "computed": {
                  "expression": "$geom.lengthKm(sitesOfPestAnimalFreeEnclosure)"
                },
                "dataType": "number",
                "name": "calculatedLengthTreatedKm",
                "units": "km",
                "decimalPlaces": 3,
                "behaviour": [
                  {
                    "condition": "lengthTreatedKm > 0",
                    "type": "conditional_validation",
                    "value": {
                      "message": "The managed length must be mapped",
                      "validate": "required,min[0.0001]"
                    }
                  }
                ]
              },
              {
                "defaultValue": {
                  "type": "computed",
                  "expression": "calculatedAreaTreatedHa"
                },
                "dataType": "number",
                "name": "areaTreatedHa",
                "description": "Manually enter correct figure for this reporting period if different to mapped value.",
                "units": "ha",
                "decimalPlaces": 3,
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedReason",
                "constraints": [
                  "Mapped area simplifies more complex area/s where work was undertaken during this period",
                  "Other"
                ],
                "validate": "required",
                "behaviour": [
                  {
                    "condition": "not (within(areaTreatedHa, calculatedAreaTreatedHa, 0.1))",
                    "type": "if"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedComments",
                "validate": "required,maxSize[100]",
                "behaviour": [
                  {
                    "type": "visible",
                    "condition": "\"Other\" == mappingNotAlignedReason"
                  }
                ]
              },
              {
                "dataType": "document",
                "name": "extraMappingDetails",
                "validate": "required",
                "description": "Please fill in the Mapped/Actual/Invoice fields before attaching a document here. If those fields match this field will be void. <br/>If any of these fields differ please attach your organisation's detailed map for the area, covered by this project service - during reporting period (include the scale measure for each map).",
                "behaviour": [
                  {
                    "condition": "not (within(areaTreatedHa, calculatedAreaTreatedHa, 0.1))",
                    "type": "if"
                  }
                ]
              },
              {
                "defaultValue": {
                  "type": "computed",
                  "expression": "calculatedLengthTreatedKm"
                },
                "dataType": "number",
                "name": "lengthTreatedKm",
                "units": "km",
                "decimalPlaces": 3
              },
              {
                "columns": [
                  {
                    "dataType": "species",
                    "name": "protectedSpecies",
                    "dwcAttribute": "scientificName",
                    "description": "The threatened species protected by the enclosure.",
                    "validate": "required"
                  },
                  {
                    "dataType": "species",
                    "name": "targetFeralSpecies",
                    "dwcAttribute": "scientificName",
                    "description": "",
                    "validate": "required"
                  },
                  {
                    "dataType": "text",
                    "name": "individualsOrPopulations",
                    "constraints": [
                      "Individuals",
                      "Populations"
                    ],
                    "validate": "required"
                  },
                  {
                    "dataType": "number",
                    "name": "numberOfPopulationsOrIndividualsProtected",
                    "validate": "required,min[0]"
                  }
                ],
                "dataType": "list",
                "name": "speciesProtected"
              },
              {
                "name": "relatedOutcomes",
                "dataType": "text",
                "description": "Select the outcome/s as defined in your MERI plan that this service was delivered to achieve.",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "value",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "context-path": "outcomes"
                    }
                  }
                }
              },
              {
                "name": "investmentPriorities2",
                "dataType": "text",
                "description": "",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "value",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "context-path": "owner.investmentPriorities"
                    }
                  }
                }
              },
              {
                "dataType": "text",
                "name": "otherInvestmentPriority",
                "behaviour": [
                  {
                    "type": "enable",
                    "condition": "\"Other\" in investmentPriorities2"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "invoicingThisActivity",
                "constraints": [
                  "Yes",
                  "No"
                ],
                "validate": "required"
              }
            ],
            "dataType": "list",
            "name": "enclosureDetails"
          },
          {
            "dataType": "number",
            "name": "totalNoPestFreeSurveyEstablished",
            "validate": "min[0]",
            "decimalPlaces": 0,
            "defaultValue": 0,
            "computed": {
              "expression": "sum(enclosureDetails, \"newOrMaintained == 'Initial' ? numberOfPestFreeEnclosures : 0\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalNoPestFreeSurveyEstablishedInvoiced",
            "decimalPlaces": 0,
            "description": "Manually enter if values have decimal points e.g. 0.350 or 2.545",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalNoPestFreeSurveyEstablished",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": ""
          },
          {
            "dataType": "number",
            "name": "totalNoPestFreeSurveyMaintained",
            "validate": "required,min[0]",
            "decimalPlaces": 0,
            "defaultValue": 0,
            "computed": {
              "expression": "sum(enclosureDetails, \"newOrMaintained == 'Maintained' ? numberOfPestFreeEnclosures : 0\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalNoPestFreeSurveyMaintainedInvoiced",
            "decimalPlaces": 0,
            "defaultValue": "",
            "description": "Manually enter if values have decimal points e.g. 0.350 or 2.545",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalNoPestFreeSurveyMaintained",
                  "type": "computed"
                },
                "rule": "max"
              }
            ]
          },
          {
            "dataType": "number",
            "name": "totalNoDaysMaintainingPestFree",
            "validate": "min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(enclosureDetails, \"daysSpentOnMaintenanceOfEnclosures\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalNoDaysMaintainingPestFreeInvoiced",
            "decimalPlaces": 0,
            "description": "Manually enter if values have decimal points e.g. 0.350 or 2.545",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalNoDaysMaintainingPestFree",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": ""
          },
          {
            "dataType": "number",
            "name": "totalAreaPestFreeSurveyInitial",
            "validate": "min[0]",
            "decimalPlaces": 3,
            "defaultValue": 0,
            "computed": {
              "expression": "sum(enclosureDetails, \"areaTreatedHa\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalAreaPestFreeSurveyInitialInvoiced",
            "decimalPlaces": 3,
            "defaultValue": "",
            "description": "Manually enter if values have decimal points e.g. 0.350 or 2.545",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalAreaPestFreeSurveyInitial",
                  "type": "computed",
                  "decimalPlaces": 3
                },
                "rule": "max"
              }
            ]
          },
          {
            "dataType": "text",
            "name": "totalInvoicedPestFreeMismatched",
            "description": "Please provide the reason/s why you are not invoicing for the same number that have been completed and delivered, e.g. the personnel and equipment were available to deliver more than was contracted.",
            "validate": "maxSize[400],required",
            "behaviour": [
              {
                "condition": "totalNoPestFreeSurveyEstablishedInvoiced < totalNoPestFreeSurveyEstablished or totalNoPestFreeSurveyMaintainedInvoiced < totalNoPestFreeSurveyMaintained or totalNoDaysMaintainingPestFreeInvoiced < totalNoDaysMaintainingPestFree or totalAreaPestFreeSurveyInitialInvoiced < totalAreaPestFreeSurveyInitial",
                "type": "enable"
              }
            ]
          },
          {
            "dataType": "text",
            "name": "comments",
            "validate": "maxSize[1500]"
          },
          {
            "dataType": "image",
            "name": "photographicEvidence"
          },
          {
            "dataType": "boolean",
            "name": "dataUploaded",
            "description": "<ul><li>Tick box to confirm data has been uploaded</li><li>URL Link (mandatory if below is ticked) in available evidence</li></ul>"
          },
          {
            "name": "projectAssuranceDetails",
            "dataType": "text",
            "validate": "required,maxSize[5000]"
          },
          {
            "dataType": "list",
            "name": "assuranceDocuments",
            "columns": [
              {
                "dataType": "document",
                "name": "attachments",
                "description": "Please attach any Evidence of Service Delivery here."
              }
            ]
          }
        ],
        "modelName": "NHT - Maintaining feral free enclosures",
        "title": "Establishing and Maintaining Pest Animal-free Enclosures",
        "viewModel": [
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<h3>Participation information</h3>"
              }
            ]
          },
          {
            "disableTableUpload": true,
            "columns": [
              {
                "width": "10%",
                "source": "participationIndividualsOrGroups",
                "title": "Are individuals or groups delivering this service?",
                "type": "selectOne"
              },
              {
                "width": "20%",
                "type": "col",
                "title": "Total number of people delivering this service <br>(including First Nations people)<b style=\"color:red\">*</b>",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "participationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "participationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "type": "col",
                "width": "20%",
                "title": "Total number of First Nations people delivering this service<b style=\"color:red\">*</b>",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "firstNationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "firstNationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "width": "20%",
                "source": "participationDetails",
                "rows": 4,
                "title": "If no First Nations people participated in the delivery of this service, <br>what are the reasons? If there was participation, please provide details.",
                "helpText": "If there were no First Nations people participating in the delivery of this service, please explain the reasons. If there were First Nations people involved, please outline how they were involved.",
                "type": "textarea"
              }
            ],
            "source": "participationInformationTableEmp",
            "type": "table"
          },
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<h3>Totals Summary</h3>"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(i)  Total number of pest animal-free enclosures (initial) for this reporting period",
                        "source": "totalNoPestFreeSurveyEstablished",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(ii) Total number of pest animal-free enclosures (initial) <u><i>invoiced</i></u> for this reporting period",
                        "source": "totalNoPestFreeSurveyEstablishedInvoiced",
                        "type": "number",
                        "readonly": false
                      }
                    ]
                  }
                ]
              },
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(iii)  Total number of pest animal-free enclosures (maintained) for this reporting period",
                        "source": "totalNoPestFreeSurveyMaintained",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(iv) Total number of pest animal-free enclosures (maintained) <u><i>invoiced</i></u> for this reporting period",
                        "source": "totalNoPestFreeSurveyMaintainedInvoiced",
                        "type": "number",
                        "readonly": false
                      }
                    ]
                  }
                ]
              },
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(v) Total number of days maintaining pest animal-free enclosures for this reporting period",
                        "source": "totalNoDaysMaintainingPestFree",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(vi) Total number of days maintaining pest animal-free enclosures <u><i>invoiced</i></u> for this reporting period",
                        "source": "totalNoDaysMaintainingPestFreeInvoiced",
                        "type": "number"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(vii) Total area (ha) of pest animal-free enclosures for this reporting period",
                        "source": "totalAreaPestFreeSurveyInitial",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(viii) Total area (ha) of pest animal-free enclosures <u><i>invoiced</i></u> for this reporting period",
                        "source": "totalAreaPestFreeSurveyInitialInvoiced",
                        "type": "number",
                        "displayOptions": {
                          "removeTrailingZeros": false
                        }
                      }
                    ]
                  }
                ]
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "If the total invoiced is different to the total completed, please provide the reason",
                "source": "totalInvoicedPestFreeMismatched",
                "type": "textarea",
                "rows": 4,
                "placeholder": ""
              }
            ]
          },
          {
            "type": "section",
            "items": [
              {
                "addRowText": "Add a new pest animal free area",
                "userAddedRows": true,
                "source": "enclosureDetails",
                "type": "repeat",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "css": "span3",
                        "type": "col",
                        "items": [
                          {
                            "type": "row",
                            "items": [
                              {
                                "source": "relatedOutcomes",
                                "type": "selectOne",
                                "preLabel": "Which outcome statement/s does this activity relate to?"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "col",
                        "css": "span3 col-border-right",
                        "items": [
                          {
                            "type": "row",
                            "items": [
                              {
                                "source": "investmentPriorities2",
                                "preLabel": "Which investment priority does this activity relate to?",
                                "type": "select2Many"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "css": "span3",
                        "type": "col",
                        "items": [
                          {
                            "type": "row",
                            "items": [
                              {
                                "source": "invoicingThisActivity",
                                "preLabel": "Are you invoicing for this activity in this reporting period?",
                                "type": "selectOne"
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "css": "border-bottom",
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "Initial or maintained feral free enclosure?",
                        "css": "span3",
                        "source": "newOrMaintained",
                        "type": "selectOne"
                      },
                      {
                        "preLabel": "Number of pest animal-free enclosures",
                        "css": "span3",
                        "source": "numberOfPestFreeEnclosures",
                        "type": "number"
                      },
                      {
                        "preLabel": "Number of days maintaining pest animal-free enclosures",
                        "css": "span3",
                        "source": "daysSpentOnMaintenanceOfEnclosures",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "type": "col",
                        "css": "span3 col-border-right",
                        "items": [
                          {
                            "type": "row",
                            "items": [
                              {
                                "preLabel": "Site/s of pest animal-free enclosure",
                                "source": "sitesOfPestAnimalFreeEnclosure",
                                "type": "feature"
                              }
                            ]
                          },
                          {
                            "type": "row",
                            "items": [
                              {
                                "source": "calculatedAreaTreatedHa",
                                "type": "number",
                                "displayOptions": {
                                  "displayUnits": true
                                },
                                "readonly": "readonly"
                              }
                            ]
                          },
                          {
                            "type": "row",
                            "items": [
                              {
                                "preLabel": "Please attach mapping details",
                                "source": "extraMappingDetails",
                                "type": "document"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "col",
                        "css": "span3 col-border-right",
                        "items": [
                          {
                            "type": "row",
                            "items": [
                              {
                                "preLabel": "Actual area (ha) of pest animal-free enclosure",
                                "source": "areaTreatedHa",
                                "type": "number",
                                "displayOptions": {
                                  "displayUnits": true
                                }
                              }
                            ]
                          },
                          {
                            "type": "row",
                            "items": [
                              {
                                "preLabel": "Reason for actual being different to mapped amount",
                                "source": "mappingNotAlignedReason",
                                "type": "selectOne"
                              }
                            ]
                          },
                          {
                            "type": "row",
                            "items": [
                              {
                                "placeholder": "Please enter the reason/s the mapping didn't align with the invoiced amount",
                                "source": "mappingNotAlignedComments",
                                "type": "textarea",
                                "rows": 5
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "addRowText": "Add a species",
                    "columns": [
                      {
                        "width": "30%",
                        "source": "protectedSpecies",
                        "title": "Targeted species being protected",
                        "type": "speciesSelect"
                      },
                      {
                        "width": "30%",
                        "source": "targetFeralSpecies",
                        "title": "Targeted pest animal species being controlled",
                        "type": "speciesSelect"
                      },
                      {
                        "width": "20%",
                        "source": "individualsOrPopulations",
                        "title": "Individuals or populations of species being protected?",
                        "type": "selectOne"
                      },
                      {
                        "width": "20%",
                        "source": "numberOfPopulationsOrIndividualsProtected",
                        "title": "Number of populations (or individuals) within pest animal-free enclosures",
                        "type": "number"
                      }
                    ],
                    "userAddedRows": true,
                    "disableTableUpload": true,
                    "source": "speciesProtected",
                    "type": "table"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Optionally attach photos",
                    "source": "photographicEvidence",
                    "type": "image"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Clarification, if needed",
                    "type": "textarea",
                    "rows": 4,
                    "css": "span8",
                    "source": "comments",
                    "placeholder": "Clarification comments include information for your project manager about the service like:\n • any reported items that are not being invoiced (eg, over-achievement) \n • any extraneous circumstances that affected delivery of the service \n"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<p><b>Available Evidence</b></p>This field is mandatory for all projects as part of the invoicing process. Please list evidence you have retained for this service and provide information to where the evidence is stored (links/file location data). Refer to the Project Service Evidence Guide and the Project Service Summaries for information on the evidence requirements.<b style=\"color:red\">*</b>"
                  },
                  {
                    "preLabel": "Data have been uploaded",
                    "source": "dataUploaded",
                    "type": "boolean"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "",
                    "source": "projectAssuranceDetails",
                    "type": "textarea",
                    "rows": 4,
                    "placeholder": "List the documentary evidence you have available for this project service. Include specifically, the document titles and location (e.g. internal IT network pathway, URLs) to assist with locating this material for future audits/assurance purposes."
                  }
                ]
              },
              {
                "type": "table",
                "source": "assuranceDocuments",
                "userAddedRows": true,
                "disableTableUpload": true,
                "columns": [
                  {
                    "title": "Attached documents",
                    "source": "attachments",
                    "type": "document"
                  }
                ]
              }
            ]
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtFeralFreeEnclosures",
      "optional": true,
      "optionalQuestionText": null,
      "title": "Establishing and maintaining feral-free enclosures",
      "collapsibleHeading": null,
      "name": "NHT - Maintaining feral free enclosures",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "dataModel": [
          {
            "allowRowDelete": "false",
            "columns": [
              {
                "dataType": "text",
                "name": "participationIndividualsOrGroups",
                "description": "Once Individuals or groups is selected, the related number field in the next two columns will become editable to report.",
                "constraints": [
                  "Individuals",
                  "Groups"
                ],
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "participationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "participationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ]
              },
              {
                "dataType": "number",
                "name": "firstNationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "param": {
                      "expression": "participationIndividualNumber",
                      "type": "computed"
                    },
                    "rule": "max"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "firstNationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "param": {
                      "expression": "participationGroupNumber",
                      "type": "computed"
                    },
                    "rule": "max",
                    "message": "The number of first nation participants cannot be greater than the total number of participants"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "participationDetails",
                "validate": "required, maxSize[3000]"
              }
            ],
            "dataType": "list",
            "name": "participationInformationTableEsa"
          },
          {
            "columns": [
              {
                "name": "relatedOutcomes",
                "dataType": "text",
                "description": "Select the outcome/s as defined in your MERI plan that this service was delivered to achieve.",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "label",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "url": "/project/outcomesByScores",
                      "params": [
                        {
                          "expression": "owner.projectId",
                          "name": "id",
                          "type": "computed"
                        },
                        {
                          "expression": "scores",
                          "name": "scoreIds",
                          "type": "computed"
                        }
                      ]
                    }
                  }
                }
              },
              {
                "name": "investmentPriorities2",
                "dataType": "text",
                "description": "",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "value",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "context-path": "owner.investmentPriorities"
                    }
                  }
                }
              },
              {
                "dataType": "text",
                "name": "otherInvestmentPriority",
                "behaviour": [
                  {
                    "type": "enable",
                    "condition": "\"Other\" in investmentPriorities2"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "establishedOrImplementation",
                "constraints": [
                  "Established",
                  "Implementation"
                ],
                "validate": "required"
              },
              {
                "dataType": "feature",
                "name": "sitesAgreementsEstablished",
                "description": "Mapping field to be done and Area (ha) field be auto-calculated from mapping."
              },
              {
                "computed": {
                  "expression": "$geom.areaHa(sitesAgreementsEstablished)"
                },
                "dataType": "number",
                "name": "calculatedAreaTreatedHa",
                "units": "ha",
                "decimalPlaces": 3
              },
              {
                "computed": {
                  "expression": "$geom.lengthKm(sitesAgreementsEstablished)"
                },
                "dataType": "number",
                "name": "calculatedLengthTreatedKm",
                "units": "km",
                "decimalPlaces": 3,
                "behaviour": [
                  {
                    "condition": "lengthTreatedKm > 0",
                    "type": "conditional_validation",
                    "value": {
                      "message": "The managed length must be mapped",
                      "validate": "required,min[0.0001]"
                    }
                  }
                ]
              },
              {
                "defaultValue": {
                  "type": "computed",
                  "expression": "calculatedAreaTreatedHa"
                },
                "dataType": "number",
                "name": "areaTreatedHa",
                "description": "Manually enter correct figure for this reporting period if different to mapped value.",
                "units": "ha",
                "decimalPlaces": 3,
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedReason",
                "constraints": [
                  "Mapped area simplifies more complex area/s where work was undertaken during this period",
                  "Other"
                ],
                "validate": "required",
                "behaviour": [
                  {
                    "condition": "not (within(areaTreatedHa, calculatedAreaTreatedHa, 0.1))",
                    "type": "if"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedComments",
                "validate": "required,maxSize[100]",
                "behaviour": [
                  {
                    "type": "visible",
                    "condition": "\"Other\" == mappingNotAlignedReason"
                  }
                ]
              },
              {
                "dataType": "document",
                "name": "extraMappingDetails",
                "validate": "required",
                "description": "Please fill in the Mapped/Actual/Invoice fields before attaching a document here. If those fields match this field will be void. <br/>If any of these fields differ please attach your organisation's detailed map for the area, covered by this project service - during reporting period (include the scale measure for each map).",
                "behaviour": [
                  {
                    "condition": "not (within(areaTreatedHa, calculatedAreaTreatedHa, 0.1))",
                    "type": "if"
                  }
                ]
              },
              {
                "defaultValue": {
                  "type": "computed",
                  "expression": "calculatedLengthTreatedKm"
                },
                "dataType": "number",
                "name": "lengthTreatedKm",
                "units": "km",
                "decimalPlaces": 3
              },
              {
                "columns": [
                  {
                    "dataType": "text",
                    "name": "agreementType",
                    "description": "",
                    "constraints": [
                      "On title in perpetuity (e.g. conservation convenant)",
                      "Binding agreement not on title in perpetuity (e.g. property vegetation plan)",
                      "Termed agreement not on title - binding (e.g. land management agreement)",
                      "Not on title - non-binding (e.g. Wildlife Refuge)",
                      "No protection mechanism applicable",
                      "Other"
                    ],
                    "validate": "required"
                  },
                  {
                    "dataType": "text",
                    "name": "otherAgreementType",
                    "description": "",
                    "behaviour": [
                      {
                        "condition": "agreementType == \"Other\"",
                        "type": "enable"
                      }
                    ],
                    "validate": "required,maxSize[300]"
                  },
                  {
                    "dataType": "number",
                    "name": "numberOfAgreements",
                    "validate": "required,min[0]"
                  },
                  {
                    "dataType": "number",
                    "name": "numberOfDaysMaintainingAgreements",
                    "description": "Number of days should be calculated as number of days by number of people (eg. 4.5 days by 3 people is 13.5 days).",
                    "validate": "required,min[0]"
                  },
                  {
                    "dataType": "number",
                    "name": "yearsOfTheAgreement",
                    "validate": "required,min[0]"
                  },
                  {
                    "dataType": "text",
                    "name": "agreementPurpose",
                    "validate": "required,maxSize[300]"
                  },
                  {
                    "dataType": "text",
                    "name": "agreementMadeWith",
                    "validate": "required,maxSize[300]"
                  },
                  {
                    "dataType": "text",
                    "name": "implementationType",
                    "constraints": [
                      "Managing Sward Height",
                      "Native Herbivore Management",
                      "Pest Animal Management",
                      "Weed Removal/Management",
                      "Biomass Control",
                      "Revegetation (including planting and seeding)",
                      "Regeneration",
                      "Restoration of Habitat Features",
                      "Improving Land Management Practices",
                      "Other (explanation of the activity required)"
                    ],
                    "validate": "required"
                  },
                  {
                    "dataType": "text",
                    "name": "otherImplementationType",
                    "description": "",
                    "validate": "maxSize[300]"
                  }
                ],
                "dataType": "list",
                "name": "agreementsTable"
              }
              ],
            "dataType": "list",
            "name": "conservationAgreementsControlled"
          },
          {
            "dataType": "number",
            "name": "totalAreaConservationAgreements",
            "validate": "min[0]",
            "decimalPlaces": 3,
            "computed": {
              "expression": "sum(conservationAgreementsControlled, \"establishedOrImplementation == 'Established' ? areaTreatedHa : 0\")"
            }
          },
          {
            "dataType": "number",
            "decimalPlaces": 3,
            "name": "totalAreaConservationAgreementsInvoiced",
            "description": "Manually enter if values have decimal points e.g. 0.350 or 2.545",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalAreaConservationAgreements",
                  "type": "computed",
                  "decimalPlaces": 3
                },
                "rule": "max"
              }
            ],
            "defaultValue": ""
          },
          {
            "dataType": "number",
            "name": "totalAreaActivitiesConducted",
            "validate": "min[0]",
            "decimalPlaces": 3,
            "computed": {
              "expression": "sum(conservationAgreementsControlled, \"establishedOrImplementation == 'Implementation' ? areaTreatedHa : 0\")"
            }
          },
          {
            "dataType": "number",
            "decimalPlaces": 3,
            "name": "totalAreaActivitiesConductedInvoiced",
            "description": "Manually enter if values have decimal points e.g. 0.350 or 2.545",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalAreaActivitiesConducted",
                  "type": "computed",
                  "decimalPlaces": 3
                },
                "rule": "max"
              }
            ],
            "defaultValue": ""
          },
          {
            "dataType": "text",
            "name": "totalInvoicedActivitiesConductedMismatched",
            "description": "Please provide the reason/s why you are not invoicing for the same number that have been completed and delivered, e.g. the personnel and equipment were available to deliver more than was contracted.",
            "validate": "maxSize[400],required",
            "behaviour": [
              {
                "condition": "totalAreaConservationAgreementsInvoiced < totalAreaConservationAgreements or totalAreaActivitiesConductedInvoiced < totalAreaActivitiesConducted",
                "type": "enable"
              }
            ]
          },
          {
            "dataType": "text",
            "name": "comments",
            "validate": "maxSize[1500]"
          },
          {
            "dataType": "image",
            "name": "photographicEvidence"
          },
          {
            "dataType": "boolean",
            "name": "dataUploaded",
            "description": "<ul><li>Tick box to confirm data has been uploaded</li><li>URL Link (mandatory if below is ticked) in available evidence</li></ul>"
          },
          {
            "name": "projectAssuranceDetails",
            "dataType": "text",
            "validate": "required,maxSize[5000]"
          },
          {
            "dataType": "list",
            "name": "assuranceDocuments",
            "columns": [
              {
                "dataType": "document",
                "name": "attachments",
                "description": "Please attach any Evidence of Service Delivery here."
              }
            ]
          }
        ],
        "modelName": "NHT - Establishing Agreements",
        "title": "Establishing and Implementing Conservation Agreements",
        "viewModel": [
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<h3>Participation information</h3>"
              }
            ]
          },
          {
            "disableTableUpload": true,
            "columns": [
              {
                "width": "10%",
                "source": "participationIndividualsOrGroups",
                "title": "Are individuals or groups delivering this service?",
                "type": "selectOne"
              },
              {
                "width": "20%",
                "type": "col",
                "title": "Total number of people delivering this service <br>(including First Nations people)<b style=\"color:red\">*</b>",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "participationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "participationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "type": "col",
                "width": "20%",
                "title": "Total number of First Nations people delivering this service<b style=\"color:red\">*</b>",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "firstNationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "firstNationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "width": "20%",
                "source": "participationDetails",
                "rows": 4,
                "title": "If no First Nations people participated in the delivery of this service, <br>what are the reasons? If there was participation, please provide details.",
                "helpText": "If there were no First Nations people participating in the delivery of this service, please explain the reasons. If there were First Nations people involved, please outline how they were involved.",
                "type": "textarea"
              }
            ],
            "source": "participationInformationTableEsa",
            "type": "table"
          },
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<h3>Totals Summary</h3>"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(i) Total area (ha) covered by conservation agreements during this reporting period (Established)",
                        "source": "totalAreaConservationAgreements",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(ii) Total area (ha) covered by conservation agreements <u><i>invoiced</i></u> for during this reporting period (Established)",
                        "source": "totalAreaConservationAgreementsInvoiced",
                        "type": "number",
                        "displayOptions": {
                          "removeTrailingZeros": false
                        }
                      }
                    ]
                  }
                ]
              },
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(iii) Total area (ha) where implementation activities conducted during this reporting period (Implementation/Stewardship)",
                        "source": "totalAreaActivitiesConducted",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(iv) Total Area (ha) where implementation activities conducted <u><i>invoiced</i></u> for during this reporting period (Implementation/Stewardship)",
                        "source": "totalAreaActivitiesConductedInvoiced",
                        "type": "number",
                        "displayOptions": {
                          "removeTrailingZeros": false
                        }
                      }
                    ]
                  }
                ]
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "If the total invoiced is different to the total completed, please provide the reason",
                "source": "totalInvoicedActivitiesConductedMismatched",
                "type": "textarea",
                "rows": 4,
                "placeholder": ""
              }
            ]
          },
          {
            "type": "section",
            "items": [
              {
                "addRowText": "Add a new agreement area",
                "userAddedRows": true,
                "source": "conservationAgreementsControlled",
                "type": "repeat",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "css": "span3",
                        "type": "col",
                        "items": [
                          {
                            "type": "row",
                            "items": [
                              {
                                "source": "relatedOutcomes",
                                "type": "selectOne",
                                "preLabel": "Which outcome statement/s does this activity relate to?"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "col",
                        "css": "span3 col-border-right",
                        "items": [
                          {
                            "type": "row",
                            "items": [
                              {
                                "source": "investmentPriorities2",
                                "preLabel": "Which investment priority does this activity relate to?",
                                "type": "select2Many"
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "css": "border-bottom",
                    "items": [
                      {
                        "type": "col",
                        "css": "span3 col-border-right",
                        "items": [
                          {
                            "type": "row",
                            "items": [
                              {
                                "source": "establishedOrImplementation",
                                "type": "selectOne",
                                "preLabel": "Established or implementation?"
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "css": "border-bottom",
                    "items": [
                      {
                        "type": "col",
                        "css": "span3 col-border-right",
                        "items": [
                          {
                            "type": "row",
                            "items": [
                              {
                                "preLabel": "Site/s where agreements were established",
                                "source": "sitesAgreementsEstablished",
                                "type": "feature"
                              }
                            ]
                          },
                          {
                            "type": "row",
                            "items": [
                              {
                                "source": "calculatedAreaTreatedHa",
                                "type": "number",
                                "displayOptions": {
                                  "displayUnits": true
                                },
                                "readonly": "readonly"
                              }
                            ]
                          },
                          {
                            "type": "row",
                            "items": [
                              {
                                "preLabel": "Please attach mapping details",
                                "source": "extraMappingDetails",
                                "type": "document"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "col",
                        "css": "span3 col-border-right",
                        "items": [
                          {
                            "type": "row",
                            "items": [
                              {
                                "preLabel": "Actual area (ha) of site/s agreements",
                                "source": "areaTreatedHa",
                                "type": "number",
                                "displayOptions": {
                                  "displayUnits": true
                                }
                              }
                            ]
                          },
                          {
                            "type": "row",
                            "items": [
                              {
                                "preLabel": "Reason for actual being different to mapped amount",
                                "source": "mappingNotAlignedReason",
                                "type": "selectOne"
                              }
                            ]
                          },
                          {
                            "type": "row",
                            "items": [
                              {
                                "placeholder": "Please enter the reason/s the mapping didn't align with the invoiced amount",
                                "source": "mappingNotAlignedComments",
                                "type": "textarea",
                                "rows": 5
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "columns": [
                      {
                        "width": "15%",
                        "title": "Type of agreement",
                        "type": "col",
                        "items": [
                          {
                            "type": "row",
                            "items": [
                              {
                                "source": "agreementType",
                                "type": "selectOne"
                              }
                            ]
                          },
                          {
                            "type": "row",
                            "items": [
                              {
                                "source": "otherAgreementType",
                                "title": "Type of Agreement (if other)",
                                "type": "textarea"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "width": "10%",
                        "source": "numberOfAgreements",
                        "type": "number",
                        "title": "Number of conservation agreements established"
                      },
                      {
                        "width": "10%",
                        "source": "numberOfDaysMaintainingAgreements",
                        "type": "number",
                        "title": "Number of days maintaining agreements (if applicable)"
                      },
                      {
                        "width": "10%",
                        "source": "yearsOfTheAgreement",
                        "type": "number",
                        "title": "Length (years of the agreement)"
                      },
                      {
                        "width": "20%",
                        "source": "agreementPurpose",
                        "title": "Purpose of agreement",
                        "type": "textarea"
                      },
                      {
                        "width": "20%",
                        "source": "agreementMadeWith",
                        "title": "Who the agreement was made with?",
                        "type": "textarea"
                      },
                      {
                        "width": "10%",
                        "title": "Types of implementation/stewardship activities undertaken",
                        "type": "col",
                        "items": [
                          {
                            "type": "row",
                            "items": [
                              {
                                "source": "implementationType",
                                "type": "select2Many"
                              }
                            ]
                          },
                          {
                            "source": "otherImplementationType",
                            "placeholder": "If Other was selected",
                            "type": "text"
                          }
                        ]
                      }
                    ],
                    "userAddedRows": true,
                    "disableTableUpload": true,
                    "source": "agreementsTable",
                    "type": "table"
                  }
                ]
              }
            ]
          },
          {
            "type": "section",
            "items": [
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Optionally attach photos",
                    "source": "photographicEvidence",
                    "type": "image"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Clarification, if needed",
                    "type": "textarea",
                    "rows": 4,
                    "css": "span8",
                    "source": "comments",
                    "placeholder": "Clarification comments include information for your project manager about the service like:\n • any reported items that are not being invoiced (eg, over-achievement) \n • any extraneous circumstances that affected delivery of the service \n"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<p><b>Available Evidence</b></p>This field is mandatory for all projects as part of the invoicing process. Please list evidence you have retained for this service and provide information to where the evidence is stored (links/file location data). Refer to the Project Service Evidence Guide and the Project Service Summaries for information on the evidence requirements.<b style=\"color:red\">*</b>"
                  },
                  {
                    "preLabel": "Data have been uploaded",
                    "source": "dataUploaded",
                    "type": "boolean"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "",
                    "source": "projectAssuranceDetails",
                    "type": "textarea",
                    "rows": 4,
                    "placeholder": "List the documentary evidence you have available for this project service. Include specifically, the document titles and location (e.g. internal IT network pathway, URLs) to assist with locating this material for future audits/assurance purposes."
                  }
                ]
              },
              {
                "type": "table",
                "source": "assuranceDocuments",
                "userAddedRows": true,
                "disableTableUpload": true,
                "columns": [
                  {
                    "title": "Attached documents",
                    "source": "attachments",
                    "type": "document"
                  }
                ]
              }
            ]
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtEstablishingAgreements",
      "optional": true,
      "optionalQuestionText": null,
      "title": "Establishing and Implementing Conservation Agreements",
      "collapsibleHeading": null,
      "name": "NHT - Establishing Agreements",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "dataModel": [
          {
            "allowRowDelete": "false",
            "columns": [
              {
                "dataType": "text",
                "name": "participationIndividualsOrGroups",
                "description": "Once Individuals or groups is selected, the related number field in the next two columns will become editable to report.",
                "constraints": [
                  "Individuals",
                  "Groups"
                ],
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "participationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "participationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ]
              },
              {
                "dataType": "number",
                "name": "firstNationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "param": {
                      "expression": "participationIndividualNumber",
                      "type": "computed"
                    },
                    "rule": "max"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "firstNationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "param": {
                      "expression": "participationGroupNumber",
                      "type": "computed"
                    },
                    "rule": "max",
                    "message": "The number of first nation participants cannot be greater than the total number of participants"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "participationDetails",
                "validate": "required, maxSize[3000]"
              }
            ],
            "dataType": "list",
            "name": "participationInformationTableFms"
          },
          {
            "name": "farmManagementSurveys",
            "dataType": "list",
            "minSize": 1,
            "columns": [
              {
                "name": "relatedOutcomes",
                "dataType": "text",
                "description": "Select the outcome/s as defined in your MERI plan that this service was delivered to achieve.",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "value",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "context-path": "outcomes"
                    }
                  }
                }
              },
              {
                "dataType": "text",
                "name": "baselineOrIndicatorSurvey",
                "description": "",
                "constraints": [
                  "Baseline",
                  "Indicator"
                ],
                "validate": "required"
              },
              {
                "dataType": "text",
                "name": "surveyObjective",
                "description": "What the survey aim to capture? How will the information obtained from the survey be used?",
                "validate": "required,maxSize[3000]"
              },
              {
                "dataType": "list",
                "name": "farmManagementDataSets",
                "columns": [
                  {
                    "name": "dataSetId",
                    "entityType": "au.org.ala.ecodata.DataSetSummary",
                    "dataType": "text",
                    "description": "This section will require the Data Set Name so the Metadata fields in the Data Set Summary tab should be filled out before the Outcome Report is due. More than one dataset if relevant for this Project Baseline could be selected.",
                    "validate": "required",
                    "constraints": {
                      "textProperty": "name",
                      "valueProperty": "dataSetId",
                      "excludePath": "farmManagementSurveys.farmManagementDataSets.dataSetId",
                      "type": "pre-populated",
                      "config": {
                        "source": {
                          "context-path": "owner.custom.dataSets"
                        },
                        "filter": {
                          "namespace": "dataSet",
                          "expression": "dataSet.serviceId == 12 and dataSet.progress == 'finished' and dataSet.alreadyReported == false and baselineOrIndicatorSurvey == baselineIndicatorMapping.lookupValue(dataSet.type) and deepEquals(relatedOutcomes,dataSet.outcomesLabel)"
                        }
                      }
                    },
                    "behaviour": [
                      {
                        "type": "pre_populate",
                        "config": {
                          "waitForInitialisation": true,
                          "source": {
                            "url": "/site/geojson",
                            "params": [
                              {
                                "expression": "x=find(owner.custom.dataSets, \"dataSetId\", dataSetId); x.siteId",
                                "name": "id",
                                "type": "computed",
                                "required": true
                              }
                            ]
                          },
                          "target":  {
                            "type": "singleValue",
                            "name": "sitesTreated"
                          }
                        }
                      }
                    ]
                  },
                  {
                    "columns": [
                      {
                        "dataType": "species",
                        "name": "species",
                        "validate": "required"
                      },
                      {
                        "dataType": "text",
                        "name": "threatenedEcologicalCommunity",
                        "validate": "maxSize[300]"
                      },
                      {
                        "dataType": "text",
                        "name": "individualsOrGroups",
                        "constraints": [
                          "Individuals",
                          "Groups"
                        ],
                        "validate": "required"
                      },
                      {
                        "dataType": "number",
                        "name": "numberOfIndividualsOrGroups",
                        "validate": "required,min[0]"
                      }
                    ],
                    "dataType": "list",
                    "name": "farmManagementSurveySpeciesTable"
                  },
                  {
                    "name": "projectBaselines",
                    "dataType": "stringList",
                    "description": "Select the relevant Project Baseline as listed in the Monitoring Methodology section of the MERI Plan.",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.baselines"
                    },
                    "constraints": {
                      "textProperty": "baseline",
                      "valueProperty": "code",
                      "type": "pre-populated",
                      "excludePath": "projectBaselines",
                      "config": {
                        "source": {
                          "context-path": "owner.custom.details.baseline.rows"
                        }
                      }
                    }
                  },
                  {
                    "name": "investmentPriorities2",
                    "dataType": "stringList",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.investmentPriorities"
                    },
                    "constraints": {
                      "type": "pre-populated",
                      "config": {
                        "source": {
                          "params": [
                            {
                              "expression": "owner.projectId",
                              "name": "id",
                              "type": "computed"
                            }
                          ],
                          "url": "/project/listProjectInvestmentPriorities/"
                        }
                      }
                    }
                  },
                  {
                    "dataType": "text",
                    "name": "otherInvestmentPriority",
                    "behaviour": [
                      {
                        "type": "enable",
                        "condition": "\"Other\" in investmentPriorities2"
                      }
                    ]
                  },
                  {
                    "dataType": "date",
                    "name": "activitiesStartDate",
                    "description": "Specific the dates these events were held on.",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.startDate"
                    }
                  },
                  {
                    "dataType": "date",
                    "name": "activitiesEndDate",
                    "description": "Specific the dates these events were held on.",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.endDate"
                    }
                  },
                  {
                    "dataType": "feature",
                    "name": "sitesCoveredForFarmSurvey",
                    "description": "Mapping field to be done and Area (ha)/length (km) field be auto-calculated from mapping."
                  },
                  {
                    "computed": {
                      "expression": "$geom.areaHa(sitesCoveredForFarmSurvey)"
                    },
                    "dataType": "number",
                    "name": "calculatedAreaTreatedHa",
                    "units": "ha",
                    "decimalPlaces": 3
                  },
                  {
                    "computed": {
                      "expression": "$geom.lengthKm(sitesCoveredForFarmSurvey)"
                    },
                    "dataType": "number",
                    "name": "calculatedLengthTreatedKm",
                    "units": "km",
                    "decimalPlaces": 3,
                    "behaviour": [
                      {
                        "condition": "lengthTreatedKm > 0",
                        "type": "conditional_validation",
                        "value": {
                          "message": "The managed length must be mapped",
                          "validate": "required,min[0.0001]"
                        }
                      }
                    ]
                  },
                  {
                    "defaultValue": {
                      "type": "computed",
                      "expression": "calculatedAreaTreatedHa"
                    },
                    "dataType": "number",
                    "name": "areaTreatedHa",
                    "description": "Manually enter correct figure for this reporting period if different to mapped value.",
                    "units": "ha",
                    "decimalPlaces": 3,
                    "validate": "required,min[0]"
                  },
                  {
                    "dataType": "text",
                    "name": "mappingNotAlignedReason",
                    "constraints": [
                      "Mapped area simplifies more complex area/s where work was undertaken during this period",
                      "Other"
                    ],
                    "validate": "required",
                    "behaviour": [
                      {
                        "condition": "not (within(areaTreatedHa, calculatedAreaTreatedHa, 0.1) and within(lengthTreatedKm, calculatedLengthTreatedKm, 0.1))",
                        "type": "if"
                      }
                    ]
                  },
                  {
                    "dataType": "text",
                    "name": "mappingNotAlignedComments",
                    "validate": "required,maxSize[100]",
                    "behaviour": [
                      {
                        "type": "visible",
                        "condition": "\"Other\" == mappingNotAlignedReason"
                      }
                    ]
                  },
                  {
                    "dataType": "document",
                    "name": "extraMappingDetails",
                    "validate": "required",
                    "description": "Please fill in the Mapped/Actual/Invoice fields before attaching a document here. If those fields match this field will be void. <br/>If any of these fields differ please attach your organisation's detailed map for the area, covered by this project service - during reporting period (include the scale measure for each map).",
                    "behaviour": [
                      {
                        "condition": "not (within(areaTreatedHa, calculatedAreaTreatedHa, 0.1) and within(lengthTreatedKm, calculatedLengthTreatedKm, 0.1))",
                        "type": "if"
                      }
                    ]
                  },
                  {
                    "defaultValue": {
                      "type": "computed",
                      "expression": "calculatedLengthTreatedKm"
                    },
                    "dataType": "number",
                    "name": "lengthTreatedKm",
                    "units": "km",
                    "decimalPlaces": 3
                  },
                  {
                    "dataType": "text",
                    "description": "Select the technique used to conduct the survey. If the EMSA Application tool was not used, you should select 'Other'.",
                    "name": "emsaProtocol",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.protocol"
                    },
                    "constraints": {
                      "textProperty": "label",
                      "valueProperty": "value",
                      "type": "pre-populated",
                      "config": {
                        "source": {
                          "context-path": "owner.protocols"
                        }
                      }
                    }
                  },
                  {
                    "dataType": "stringList",
                    "description": "Describe the technique (if Other) was selected.",
                    "name": "otherEmsaProtocol",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.methods"
                    }
                  },
                  {
                    "dataType": "text",
                    "name": "surveyMethodology",
                    "description": "Provide more details on what is being done.",
                    "validate": "required,maxSize[3000]",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.methodDescription"
                    }
                  },
                  {
                    "dataType": "text",
                    "name": "invoicingThisActivity",
                    "constraints": [
                      "Yes",
                      "No"
                    ],
                    "validate": "required"
                  }
                ],
                "minSize": 1
              }
            ]
          },
          {
            "dataType": "lookupTable",
            "name": "baselineIndicatorMapping",
            "config": {
              "source": {
                "literal": {
                  "Baseline dataset associated with a project outcome": "Baseline",
                  "Project progress dataset that is tracking change against an established project baseline dataset": "Indicator"
                }
              }
            }
          },
          {
            "dataType": "number",
            "name": "totalSurveyBaseline",
            "validate": "min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(farmManagementSurveys, \"baselineOrIndicatorSurvey == 'Baseline' ? 1 : 0\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalSurveyBaselineInvoiced",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalSurveyBaseline",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": ""
          },
          {
            "dataType": "number",
            "name": "totalSurveyIndicator",
            "validate": "min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(farmManagementSurveys, \"baselineOrIndicatorSurvey == 'Indicator' ? 1 : 0\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalSurveyIndicatorInvoiced",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalSurveyIndicator",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": ""
          },
          {
            "dataType": "text",
            "name": "totalInvoicedFarmMismatched",
            "description": "Please provide the reason/s why you are not invoicing for the same number that have been completed and delivered, e.g. the personnel and equipment were available to deliver more than was contracted.",
            "validate": "maxSize[400],required",
            "behaviour": [
              {
                "condition": "totalSurveyIndicatorInvoiced < totalSurveyIndicator or totalSurveyBaselineInvoiced < totalSurveyBaseline",
                "type": "enable"
              }
            ]
          },
          {
            "dataType": "text",
            "name": "comments",
            "validate": "maxSize[1500]"
          },
          {
            "dataType": "image",
            "name": "photographicEvidence"
          },
          {
            "dataType": "boolean",
            "name": "dataUploaded",
            "description": ""
          },
          {
            "dataType": "text",
            "name": "projectAssuranceDetails",
            "description": "",
            "validate": "required,maxSize[5000]"
          },
          {
            "dataType": "list",
            "name": "assuranceDocuments",
            "columns": [
              {
                "dataType": "document",
                "name": "attachments",
                "description": "Please attach any Evidence of Service Delivery here."
              }
            ]
          }
        ],
        "modelName": "NHT - Farm Management Survey",
        "title": "Farm Management Survey",
        "viewModel": [
          {
            "type": "section",
            "items": [
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<h3>Participation information</h3>"
                  }
                ]
              },
              {
                "disableTableUpload": true,
                "columns": [
                  {
                    "width": "10%",
                    "source": "participationIndividualsOrGroups",
                    "title": "Are individuals or groups delivering this service?",
                    "type": "selectOne"
                  },
                  {
                    "width": "20%",
                    "type": "col",
                    "title": "Total number of people delivering this service <br>(including First Nations people)<b style=\"color:red\">*</b>",
                    "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                    "items": [
                      {
                        "source": "participationIndividualNumber",
                        "type": "number"
                      },
                      {
                        "source": "participationGroupNumber",
                        "type": "selectOne"
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "width": "20%",
                    "title": "Total number of First Nations people delivering this service<b style=\"color:red\">*</b>",
                    "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                    "items": [
                      {
                        "source": "firstNationIndividualNumber",
                        "type": "number"
                      },
                      {
                        "source": "firstNationGroupNumber",
                        "type": "selectOne"
                      }
                    ]
                  },
                  {
                    "width": "20%",
                    "source": "participationDetails",
                    "rows": 4,
                    "title": "If no First Nations people participated in the delivery of this service, <br>what are the reasons? If there was participation, please provide details.",
                    "helpText": "If there were no First Nations people participating in the delivery of this service, please explain the reasons. If there were First Nations people involved, please outline how they were involved.",
                    "type": "textarea"
                  }
                ],
                "source": "participationInformationTableFms",
                "type": "table"
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<h3>Survey information</h3><p><b>Before completing this section, please ensure you have created a Data Set Summary information for every data set produced by the surveys you intend to report</b></p><ul><li>Each survey reported must relate to a combination of outcomes as described in your MERI plan</li><li>Each Data Set Summary recorded for a survey must be addressing the same outcomes as selected for the survey</li><li>If a survey produced more than one data set, use the New Data Set button to add each Data Set Summary under your survey</li><li>A single survey can be made up of multiple dataset</li></ul>"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<h3>Totals Summary</h3>"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "col",
                    "css": "span4 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(i) Total Number of baseline farm management surveys completed for this reporting period",
                            "source": "totalSurveyBaseline",
                            "type": "number"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(ii) Total Number of baseline farm management surveys <u><i>invoiced</i></u> for this reporting period",
                            "source": "totalSurveyBaselineInvoiced",
                            "type": "number"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span4 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(iii)  Total Number of indicator farm management surveys completed for this reporting period",
                            "source": "totalSurveyIndicator",
                            "type": "number"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(iv) Total Number of indicator farm management surveys <u><i>invoiced</i></u> for this reporting period",
                            "source": "totalSurveyIndicatorInvoiced",
                            "type": "number"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "If the total invoiced is different to the total completed, please provide the reason",
                    "source": "totalInvoicedFarmMismatched",
                    "type": "textarea",
                    "rows": 4,
                    "placeholder": ""
                  }
                ]
              },
              {
                "addRowText": "Add survey",
                "removeRowText": "Delete this survey",
                "userAddedRows": true,
                "source": "farmManagementSurveys",
                "type": "repeat",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "type": "col",
                        "items": [
                          {
                            "source": "relatedOutcomes",
                            "type": "selectOne",
                            "preLabel": "Which outcome statement/s relates to this survey?"
                          }
                        ]
                      },
                      {
                        "type": "col",
                        "items": [
                          {
                            "source": "baselineOrIndicatorSurvey",
                            "type": "selectOne",
                            "preLabel": "Baseline survey or indicator (follow-up) survey?"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "source": "surveyObjective",
                        "preLabel": "Survey objective",
                        "type": "text"
                      }
                    ]
                  },
                  {
                    "type": "repeat",
                    "source": "farmManagementDataSets",
                    "userAddedRows": true,
                    "addRowText": "New data set",
                    "removeRowText": "Delete this data set",
                    "items": [
                      {
                        "type": "row",
                        "css": "border-bottom",
                        "items": [
                          {
                            "type": "col",
                            "items": [
                              {
                                "source": "dataSetId",
                                "type": "selectOne",
                                "preLabel": "Please select the data set produced by this survey.  Note it must have already been entered on the Data Set Summary tab."
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "projectBaselines",
                                    "type": "selectMany",
                                    "preLabel": "Which project baseline/s relate to this survey?",
                                    "readonly": "readonly"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "investmentPriorities2",
                                    "preLabel": "Which investment priority does this activity relate to?",
                                    "type": "select2Many"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Activity start date",
                                    "source": "activitiesStartDate",
                                    "type": "date"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Activity end date",
                                    "source": "activitiesEndDate",
                                    "type": "date"
                                  }
                                ]
                              }
                            ]
                          },

                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Sites covered by farm management survey",
                                    "source": "sitesCoveredForFarmSurvey",
                                    "type": "feature"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "calculatedAreaTreatedHa",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    },
                                    "readonly": "readonly"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "calculatedLengthTreatedKm",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    },
                                    "readonly": "readonly"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Please attach mapping details",
                                    "source": "extraMappingDetails",
                                    "type": "document"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Actual area (ha) / length (km) covered by farm management survey",
                                    "source": "areaTreatedHa",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    }
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "lengthTreatedKm",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    }
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Reason for actual being different to mapped amount",
                                    "source": "mappingNotAlignedReason",
                                    "type": "selectOne"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "placeholder": "Please enter the reason/s the mapping didn't align with the invoiced amount",
                                    "source": "mappingNotAlignedComments",
                                    "type": "textarea",
                                    "rows": 5
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Survey technique",
                                    "source": "emsaProtocol",
                                    "type": "selectOne",
                                    "readonly": "readonly"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Survey technique (if Other)",
                                    "source": "otherEmsaProtocol",
                                    "type": "select2Many"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "surveyMethodology",
                                    "preLabel": "Survey methodology",
                                    "type": "text"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "invoicingThisActivity",
                                    "preLabel": "Are you invoicing for this activity in this reporting period?",
                                    "type": "selectOne"
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Optionally attach photos",
                    "source": "photographicEvidence",
                    "type": "image"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Clarification, if needed",
                    "type": "textarea",
                    "rows": 4,
                    "css": "span8",
                    "source": "comments",
                    "placeholder": "Clarification comments include information for your project manager about the service like:\n • any reported items that are not being invoiced (eg, over-achievement) \n • any extraneous circumstances that affected delivery of the service \n"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<p><b>Available Evidence</b></p>This field is mandatory for all projects as part of the invoicing process. Please list evidence you have retained for this service and provide information to where the evidence is stored (links/file location data). Refer to the Project Service Evidence Guide and the Project Service Summaries for information on the evidence requirements.<b style=\"color:red\">*</b>"
                  },
                  {
                    "preLabel": "Data have been uploaded",
                    "source": "dataUploaded",
                    "type": "boolean"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "",
                    "source": "projectAssuranceDetails",
                    "type": "textarea",
                    "rows": 4,
                    "placeholder": "List the documentary evidence you have available for this project service. Include specifically, the document titles and location (e.g. internal IT network pathway, URLs) to assist with locating this material for future audits/assurance purposes."
                  }
                ]
              },
              {
                "type": "table",
                "source": "assuranceDocuments",
                "userAddedRows": true,
                "disableTableUpload": true,
                "columns": [
                  {
                    "title": "Attached documents",
                    "source": "attachments",
                    "type": "document"
                  }
                ]
              }
            ]
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtFarmManagementSurvey",
      "optional": true,
      "optionalQuestionText": null,
      "title": "Farm management survey",
      "collapsibleHeading": null,
      "name": "NHT - Farm Management Survey",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "dataModel": [
          {
            "name": "faunaSurveys",
            "dataType": "list",
            "minSize": 1,
            "columns": [
              {
                "name": "relatedOutcomes",
                "dataType": "text",
                "description": "Select the outcome/s as defined in your MERI plan that this service was delivered to achieve.",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "value",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "context-path": "outcomes"
                    }
                  }
                }
              },
              {
                "dataType": "text",
                "name": "baselineOrIndicatorSurvey",
                "description": "",
                "constraints": [
                  "Baseline",
                  "Indicator"
                ],
                "validate": "required"
              },
              {
                "dataType": "text",
                "name": "surveyObjective",
                "description": "What the survey aim to capture? How will the information obtained from the survey be used?",
                "validate": "required,maxSize[3000]"
              },
              {
                "dataType": "list",
                "name": "faunaDataSets",
                "columns": [
                  {
                    "name": "dataSetId",
                    "entityType": "au.org.ala.ecodata.DataSetSummary",
                    "dataType": "text",
                    "description": "This section will require the Data Set Name so the Metadata fields in the Data Set Summary tab should be filled out before the Outcome Report is due. More than one dataset if relevant for this Project Baseline could be selected.",
                    "validate": "required",
                    "constraints": {
                      "textProperty": "name",
                      "valueProperty": "dataSetId",
                      "excludePath": "faunaSurveys.faunaDataSets.dataSetId",
                      "type": "pre-populated",
                      "config": {
                        "source": {
                          "context-path": "owner.custom.dataSets"
                        },
                        "filter": {
                          "namespace": "dataSet",
                          "expression": "dataSet.serviceId == 13 and dataSet.progress == 'finished' and dataSet.alreadyReported == false and baselineOrIndicatorSurvey == baselineIndicatorMapping.lookupValue(dataSet.type) and deepEquals(relatedOutcomes,dataSet.outcomesLabel)"
                        }
                      }
                    },
                    "behaviour": [
                      {
                        "type": "pre_populate",
                        "config": {
                          "waitForInitialisation": true,
                          "source": {
                            "url": "/site/geojson",
                            "params": [
                              {
                                "expression": "x=find(owner.custom.dataSets, \"dataSetId\", dataSetId); x.siteId",
                                "name": "id",
                                "type": "computed",
                                "required": true
                              }
                            ]
                          },
                          "target":  {
                            "type": "singleValue",
                            "name": "sitesCoveredForFaunaSurvey"
                          }
                        }
                      }
                    ]
                  },
                  {
                    "columns": [
                      {
                        "dataType": "species",
                        "name": "species",
                        "validate": "required"
                      },
                      {
                        "dataType": "text",
                        "name": "individualsOrGroups",
                        "constraints": [
                          "Individuals",
                          "Groups"
                        ],
                        "validate": "required"
                      },
                      {
                        "dataType": "number",
                        "name": "numberOfIndividualsOrGroups",
                        "validate": "required,min[0]"
                      }
                    ],
                    "dataType": "list",
                    "name": "faunaSurveySpeciesTable"
                  },
                  {
                    "name": "projectBaselines",
                    "dataType": "stringList",
                    "description": "Select the relevant Project Baseline as listed in the Monitoring Methodology section of the MERI Plan.",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.baselines"
                    },
                    "constraints": {
                      "textProperty": "baseline",
                      "valueProperty": "code",
                      "type": "pre-populated",
                      "excludePath": "projectBaselines",
                      "config": {
                        "source": {
                          "context-path": "owner.custom.details.baseline.rows"
                        }
                      }
                    }
                  },
                  {
                    "name": "investmentPriorities2",
                    "dataType": "stringList",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.investmentPriorities"
                    },
                    "constraints": {
                      "type": "pre-populated",
                      "config": {
                        "source": {
                          "params": [
                            {
                              "expression": "owner.projectId",
                              "name": "id",
                              "type": "computed"
                            }
                          ],
                          "url": "/project/listProjectInvestmentPriorities/"
                        }
                      }
                    }
                  },
                  {
                    "dataType": "text",
                    "name": "otherInvestmentPriority",
                    "behaviour": [
                      {
                        "type": "enable",
                        "condition": "\"Other\" in investmentPriorities2"
                      }
                    ]
                  },
                  {
                    "dataType": "date",
                    "name": "activitiesStartDate",
                    "description": "Specific the dates these events were held on.",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.startDate"
                    }
                  },
                  {
                    "dataType": "date",
                    "name": "activitiesEndDate",
                    "description": "Specific the dates these events were held on.",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.endDate"
                    }
                  },
                  {
                    "dataType": "feature",
                    "name": "sitesCoveredForFaunaSurvey",
                    "description": "Mapping field to be done and Area (ha)/length (km) field be auto-calculated from mapping."
                  },
                  {
                    "computed": {
                      "expression": "$geom.areaHa(sitesCoveredForFaunaSurvey)"
                    },
                    "dataType": "number",
                    "name": "calculatedAreaTreatedHa",
                    "units": "ha",
                    "decimalPlaces": 3
                  },
                  {
                    "computed": {
                      "expression": "$geom.lengthKm(sitesCoveredForFaunaSurvey)"
                    },
                    "dataType": "number",
                    "name": "calculatedLengthTreatedKm",
                    "units": "km",
                    "decimalPlaces": 3,
                    "behaviour": [
                      {
                        "condition": "lengthTreatedKm > 0",
                        "type": "conditional_validation",
                        "value": {
                          "message": "The managed length must be mapped",
                          "validate": "required,min[0.0001]"
                        }
                      }
                    ]
                  },
                  {
                    "defaultValue": {
                      "type": "computed",
                      "expression": "calculatedAreaTreatedHa"
                    },
                    "dataType": "number",
                    "name": "areaTreatedHa",
                    "description": "Manually enter correct figure for this reporting period if different to mapped value.",
                    "units": "ha",
                    "decimalPlaces": 3,
                    "validate": "required,min[0]"
                  },
                  {
                    "dataType": "text",
                    "name": "mappingNotAlignedReason",
                    "constraints": [
                      "Mapped area simplifies more complex area/s where work was undertaken during this period",
                      "Other"
                    ],
                    "validate": "required",
                    "behaviour": [
                      {
                        "condition": "not (within(areaTreatedHa, calculatedAreaTreatedHa, 0.1) and within(lengthTreatedKm, calculatedLengthTreatedKm, 0.1))",
                        "type": "if"
                      }
                    ]
                  },
                  {
                    "dataType": "text",
                    "name": "mappingNotAlignedComments",
                    "validate": "required,maxSize[100]",
                    "behaviour": [
                      {
                        "type": "visible",
                        "condition": "\"Other\" == mappingNotAlignedReason"
                      }
                    ]
                  },
                  {
                    "dataType": "document",
                    "name": "extraMappingDetails",
                    "validate": "required",
                    "description": "Please fill in the Mapped/Actual/Invoice fields before attaching a document here. If those fields match this field will be void. <br/>If any of these fields differ please attach your organisation's detailed map for the area, covered by this project service - during reporting period (include the scale measure for each map).",
                    "behaviour": [
                      {
                        "condition": "not (within(areaTreatedHa, calculatedAreaTreatedHa, 0.1) and within(lengthTreatedKm, calculatedLengthTreatedKm, 0.1))",
                        "type": "if"
                      }
                    ]
                  },
                  {
                    "defaultValue": {
                      "type": "computed",
                      "expression": "calculatedLengthTreatedKm"
                    },
                    "dataType": "number",
                    "name": "lengthTreatedKm",
                    "units": "km",
                    "decimalPlaces": 3
                  },
                  {
                    "dataType": "text",
                    "description": "Select the technique used to conduct the survey. If the EMSA Application tool was not used, you should select 'Other'.",
                    "name": "emsaProtocol",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.protocol"
                    },
                    "constraints": {
                      "textProperty": "label",
                      "valueProperty": "value",
                      "type": "pre-populated",
                      "config": {
                        "source": {
                          "context-path": "owner.protocols"
                        }
                      }
                    }
                  },
                  {
                    "dataType": "stringList",
                    "description": "Describe the technique (if Other) was selected.",
                    "name": "otherEmsaProtocol",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.methods"
                    }
                  },
                  {
                    "dataType": "text",
                    "name": "surveyMethodology",
                    "description": "Provide more details on what is being done.",
                    "validate": "required,maxSize[3000]",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.methodDescription"
                    }
                  },
                  {
                    "dataType": "text",
                    "name": "invoicingThisActivity",
                    "constraints": [
                      "Yes",
                      "No"
                    ],
                    "validate": "required"
                  }
                ],
                "minSize": 1
              }
            ]
          },
          {
            "dataType": "lookupTable",
            "name": "baselineIndicatorMapping",
            "config": {
              "source": {
                "literal": {
                  "Baseline dataset associated with a project outcome": "Baseline",
                  "Project progress dataset that is tracking change against an established project baseline dataset": "Indicator"
                }
              }
            }
          },
          {
            "allowRowDelete": "false",
            "columns": [
              {
                "dataType": "text",
                "name": "participationIndividualsOrGroups",
                "description": "Once Individuals or groups is selected, the related number field in the next two columns will become editable to report.",
                "constraints": [
                  "Individuals",
                  "Groups"
                ],
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "participationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "participationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ]
              },
              {
                "dataType": "number",
                "name": "firstNationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "param": {
                      "expression": "participationIndividualNumber",
                      "type": "computed"
                    },
                    "rule": "max"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "firstNationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "param": {
                      "expression": "participationGroupNumber",
                      "type": "computed"
                    },
                    "rule": "max",
                    "message": "The number of first nation participants cannot be greater than the total number of participants"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "participationDetails",
                "validate": "required, maxSize[3000]"
              }
            ],
            "dataType": "list",
            "name": "participationInformationTableFau"
          },
          {
            "dataType": "number",
            "name": "totalSurveyBaseline",
            "validate": "min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(faunaSurveys, \"baselineOrIndicatorSurvey == 'Baseline' ? 1 : 0\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalSurveyBaselineInvoiced",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalSurveyBaseline",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": ""
          },
          {
            "dataType": "number",
            "name": "totalSurveyIndicator",
            "validate": "min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(faunaSurveys, \"baselineOrIndicatorSurvey == 'Indicator' ? 1 : 0\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalSurveyIndicatorInvoiced",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalSurveyIndicator",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": ""
          },
          {
            "dataType": "text",
            "name": "totalInvoicedFaunaMismatched",
            "description": "Please provide the reason/s why you are not invoicing for the same number that have been completed and delivered, e.g. the personnel and equipment were available to deliver more than was contracted.",
            "validate": "maxSize[400],required",
            "behaviour": [
              {
                "condition": "totalSurveyIndicatorInvoiced < totalSurveyIndicator or totalSurveyBaselineInvoiced < totalSurveyBaseline",
                "type": "enable"
              }
            ]
          },
          {
            "dataType": "text",
            "name": "comments",
            "validate": "maxSize[1500]"
          },
          {
            "dataType": "image",
            "name": "photographicEvidence"
          },
          {
            "dataType": "boolean",
            "name": "dataUploaded",
            "description": ""
          },
          {
            "dataType": "text",
            "name": "projectAssuranceDetails",
            "description": "",
            "validate": "required,maxSize[5000]"
          },
          {
            "dataType": "list",
            "name": "assuranceDocuments",
            "columns": [
              {
                "dataType": "document",
                "name": "attachments",
                "description": "Please attach any Evidence of Service Delivery here."
              }
            ]
          }
        ],
        "modelName": "NHT - Fauna survey",
        "title": "Fauna Survey",
        "viewModel": [
          {
            "type": "section",
            "items": [
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<h3>Participation information</h3>"
                  }
                ]
              },
              {
                "disableTableUpload": true,
                "columns": [
                  {
                    "width": "10%",
                    "source": "participationIndividualsOrGroups",
                    "title": "Are individuals or groups delivering this service?",
                    "type": "selectOne"
                  },
                  {
                    "width": "20%",
                    "type": "col",
                    "title": "Total number of people delivering this service <br>(including First Nations people)<b style=\"color:red\">*</b>",
                    "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                    "items": [
                      {
                        "source": "participationIndividualNumber",
                        "type": "number"
                      },
                      {
                        "source": "participationGroupNumber",
                        "type": "selectOne"
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "width": "20%",
                    "title": "Total number of First Nations people delivering this service<b style=\"color:red\">*</b>",
                    "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                    "items": [
                      {
                        "source": "firstNationIndividualNumber",
                        "type": "number"
                      },
                      {
                        "source": "firstNationGroupNumber",
                        "type": "selectOne"
                      }
                    ]
                  },
                  {
                    "width": "20%",
                    "source": "participationDetails",
                    "rows": 4,
                    "title": "If no First Nations people participated in the delivery of this service, <br>what are the reasons? If there was participation, please provide details.",
                    "helpText": "If there were no First Nations people participating in the delivery of this service, please explain the reasons. If there were First Nations people involved, please outline how they were involved.",
                    "type": "textarea"
                  }
                ],
                "source": "participationInformationTableFau",
                "type": "table"
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<h3>Survey information</h3><p><b>Before completing this section, please ensure you have created a Data Set Summary information for every data set produced by the surveys you intend to report</b></p><ul><li>Each survey reported must relate to a combination of outcomes as described in your MERI plan</li><li>Each Data Set Summary recorded for a survey must be addressing the same outcomes as selected for the survey</li><li>If a survey produced more than one data set, use the New Data Set button to add each Data Set Summary under your survey</li><li>A single survey can be made up of multiple dataset</li></ul>"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<h3>Totals Summary</h3>"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "col",
                    "css": "span4 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(i) Total Number of baseline fauna surveys completed for this reporting period",
                            "source": "totalSurveyBaseline",
                            "type": "number"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(ii) Total Number of baseline fauna surveys <u><i>invoiced</i></u> for this reporting period",
                            "source": "totalSurveyBaselineInvoiced",
                            "type": "number"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span4 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(iii)  Total Number of  indicator fauna surveys completed for this reporting period",
                            "source": "totalSurveyIndicator",
                            "type": "number"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(iv) Total Number of indicator fauna surveys <u><i>invoiced</i></u> for this reporting period",
                            "source": "totalSurveyIndicatorInvoiced",
                            "type": "number"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "If the total invoiced is different to the total completed, please provide the reason",
                    "source": "totalInvoicedFaunaMismatched",
                    "type": "textarea",
                    "rows": 4,
                    "placeholder": ""
                  }
                ]
              },
              {
                "addRowText": "Add survey",
                "removeRowText": "Delete this survey",
                "userAddedRows": true,
                "source": "faunaSurveys",
                "type": "repeat",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "type": "col",
                        "items": [
                          {
                            "source": "relatedOutcomes",
                            "type": "selectOne",
                            "preLabel": "Which outcome statement/s relates to this survey?"
                          }
                        ]
                      },
                      {
                        "type": "col",
                        "items": [
                          {
                            "source": "baselineOrIndicatorSurvey",
                            "type": "selectOne",
                            "preLabel": "Baseline survey or indicator (follow-up) survey?"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "source": "surveyObjective",
                        "preLabel": "Survey objective",
                        "type": "text"
                      }
                    ]
                  },
                  {
                    "type": "repeat",
                    "source": "faunaDataSets",
                    "userAddedRows": true,
                    "addRowText": "New data set",
                    "removeRowText": "Delete this data set",
                    "items": [
                      {
                        "type": "row",
                        "css": "border-bottom",
                        "items": [
                          {
                            "type": "col",
                            "items": [
                              {
                                "source": "dataSetId",
                                "type": "selectOne",
                                "preLabel": "Please select the data set produced by this survey.  Note it must have already been entered on the Data Set Summary tab."
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "projectBaselines",
                                    "type": "selectMany",
                                    "preLabel": "Which project baseline/s relate to this survey?",
                                    "readonly": "readonly"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "investmentPriorities2",
                                    "preLabel": "Which investment priority does this activity relate to?",
                                    "type": "select2Many"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Activity start date",
                                    "source": "activitiesStartDate",
                                    "type": "date"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Activity end date",
                                    "source": "activitiesEndDate",
                                    "type": "date"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Sites covered by fauna survey",
                                    "source": "sitesCoveredForFaunaSurvey",
                                    "type": "feature"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "calculatedAreaTreatedHa",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    },
                                    "readonly": "readonly"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "calculatedLengthTreatedKm",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    },
                                    "readonly": "readonly"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Please attach mapping details",
                                    "source": "extraMappingDetails",
                                    "type": "document"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Actual area (ha) / length (km) covered by fauna survey",
                                    "source": "areaTreatedHa",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    }
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "lengthTreatedKm",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    }
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Reason for actual being different to mapped amount",
                                    "source": "mappingNotAlignedReason",
                                    "type": "selectOne"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "placeholder": "Please enter the reason/s the mapping didn't align with the invoiced amount",
                                    "source": "mappingNotAlignedComments",
                                    "type": "textarea",
                                    "rows": 5
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Survey technique",
                                    "source": "emsaProtocol",
                                    "type": "selectOne",
                                    "readonly": "readonly"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Survey technique (if Other)",
                                    "source": "otherEmsaProtocol",
                                    "type": "select2Many"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "surveyMethodology",
                                    "preLabel": "Survey methodology",
                                    "type": "text"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "invoicingThisActivity",
                                    "preLabel": "Are you invoicing for this activity in this reporting period?",
                                    "type": "selectOne"
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "columns": [
                          {
                            "width": "55%",
                            "source": "species",
                            "title": "Target species recorded",
                            "type": "speciesSelect"
                          },
                          {
                            "width": "25%",
                            "source": "individualsOrGroups",
                            "title": "Individuals or groups?",
                            "type": "selectOne"
                          },
                          {
                            "width": "20%",
                            "source": "numberOfIndividualsOrGroups",
                            "title": "Number of individuals / groups in fauna survey",
                            "type": "number"
                          }
                        ],
                        "userAddedRows": true,
                        "disableTableUpload": true,
                        "source": "faunaSurveySpeciesTable",
                        "type": "table"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Optionally attach photos",
                    "source": "photographicEvidence",
                    "type": "image"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Clarification, if needed",
                    "type": "textarea",
                    "rows": 4,
                    "css": "span8",
                    "source": "comments",
                    "placeholder": "Clarification comments include information for your project manager about the service like:\n • any reported items that are not being invoiced (eg, over-achievement) \n • any extraneous circumstances that affected delivery of the service \n"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<p><b>Available Evidence</b></p>This field is mandatory for all projects as part of the invoicing process. Please list evidence you have retained for this service and provide information to where the evidence is stored (links/file location data). Refer to the Project Service Evidence Guide and the Project Service Summaries for information on the evidence requirements.<b style=\"color:red\">*</b>"
                  },
                  {
                    "preLabel": "Data have been uploaded",
                    "source": "dataUploaded",
                    "type": "boolean"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "",
                    "source": "projectAssuranceDetails",
                    "type": "textarea",
                    "rows": 4,
                    "placeholder": "List the documentary evidence you have available for this project service. Include specifically, the document titles and location (e.g. internal IT network pathway, URLs) to assist with locating this material for future audits/assurance purposes."
                  }
                ]
              },
              {
                "type": "table",
                "source": "assuranceDocuments",
                "userAddedRows": true,
                "disableTableUpload": true,
                "columns": [
                  {
                    "title": "Attached documents",
                    "source": "attachments",
                    "type": "document"
                  }
                ]
              }
            ]
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtFaunaSurvey",
      "optional": true,
      "optionalQuestionText": null,
      "title": "Fauna survey",
      "collapsibleHeading": null,
      "name": "NHT - Fauna survey",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "dataModel": [
          {
            "allowRowDelete": "false",
            "columns": [
              {
                "dataType": "text",
                "name": "participationIndividualsOrGroups",
                "description": "Once Individuals or groups is selected, the related number field in the next two columns will become editable to report.",
                "constraints": [
                  "Individuals",
                  "Groups"
                ],
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "participationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "participationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ]
              },
              {
                "dataType": "number",
                "name": "firstNationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "param": {
                      "expression": "participationIndividualNumber",
                      "type": "computed"
                    },
                    "rule": "max"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "firstNationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "param": {
                      "expression": "participationGroupNumber",
                      "type": "computed"
                    },
                    "rule": "max",
                    "message": "The number of first nation participants cannot be greater than the total number of participants"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "participationDetails",
                "validate": "required, maxSize[3000]"
              }
            ],
            "dataType": "list",
            "name": "participationInformationTableFna"
          },
          {
            "columns": [
              {
                "dataType": "number",
                "name": "noDaysConductingCulturalPractices",
                "description": "",
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "noOfParticipants",
                "description": "",
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "noOfFirstNationsParticipants",
                "description": "",
                "validate": "required"
              },
              {
                "dataType": "date",
                "name": "activitiesStartDate",
                "description": "Specific the dates these events were held on.",
                "validate": "required"
              },
              {
                "dataType": "date",
                "name": "activitiesEndDate",
                "description": "",
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "future",
                    "param": {
                      "expression": "formatDateForValidation(activitiesStartDate)",
                      "type": "computed"
                    }
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "siteVisit",
                "constraints": [
                  "Single",
                  "Multiple"
                ],
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "noOfSitesActivityOccurred",
                "description": "",
                "validate": "required"
              },
              {
                "dataType": "text",
                "name": "typeOfSite",
                "constraints": [
                  "Sacred",
                  "Food source",
                  "Ceremonial",
                  "Other"
                ],
                "validate": "required"
              },
              {
                "dataType": "text",
                "name": "otherTypeOfSite",
                "description": "",
                "behaviour": [
                  {
                    "condition": "typeOfSite == \"Other\"",
                    "type": "enable"
                  }
                ],
                "validate": "required,maxSize[100]"
              },
              {
                "dataType": "feature",
                "name": "sitesUndertakeForFirstNations",
                "description": "Mapping field to be done and Area (ha)/length (km) field be auto-calculated from mapping."
              },
              {
                "computed": {
                  "expression": "$geom.areaHa(sitesUndertakeForFirstNations)"
                },
                "dataType": "number",
                "name": "calculatedAreaTreatedHa",
                "units": "ha",
                "decimalPlaces": 3
              },
              {
                "computed": {
                  "expression": "$geom.lengthKm(sitesUndertakeForFirstNations)"
                },
                "dataType": "number",
                "name": "calculatedLengthTreatedKm",
                "units": "km",
                "decimalPlaces": 3,
                "behaviour": [
                  {
                    "condition": "lengthTreatedKm > 0",
                    "type": "conditional_validation",
                    "value": {
                      "message": "The managed length must be mapped",
                      "validate": "required,min[0.0001]"
                    }
                  }
                ]
              },
              {
                "defaultValue": {
                  "type": "computed",
                  "expression": "calculatedAreaTreatedHa"
                },
                "dataType": "number",
                "name": "areaTreatedHa",
                "description": "Manually enter correct figure for this reporting period if different to mapped value.",
                "units": "ha",
                "decimalPlaces": 3,
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedReason",
                "constraints": [
                  "Mapped area simplifies more complex area/s where work was undertaken during this period",
                  "Other"
                ],
                "validate": "required",
                "behaviour": [
                  {
                    "condition": "not (within(areaTreatedHa, calculatedAreaTreatedHa, 0.1) and within(lengthTreatedKm, calculatedLengthTreatedKm, 0.1))",
                    "type": "if"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedComments",
                "validate": "required,maxSize[100]",
                "behaviour": [
                  {
                    "type": "visible",
                    "condition": "\"Other\" == mappingNotAlignedReason"
                  }
                ]
              },
              {
                "dataType": "document",
                "name": "extraMappingDetails",
                "validate": "required",
                "description": "Please fill in the Mapped/Actual/Invoice fields before attaching a document here. If those fields match this field will be void. <br/>If any of these fields differ please attach your organisation's detailed map for the area, covered by this project service - during reporting period (include the scale measure for each map).",
                "behaviour": [
                  {
                    "condition": "not (within(areaTreatedHa, calculatedAreaTreatedHa, 0.1) and within(lengthTreatedKm, calculatedLengthTreatedKm, 0.1))",
                    "type": "if"
                  }
                ]
              },
              {
                "defaultValue": {
                  "type": "computed",
                  "expression": "calculatedLengthTreatedKm"
                },
                "dataType": "number",
                "name": "lengthTreatedKm",
                "units": "km",
                "decimalPlaces": 3
              },
              {
                "columns": [
                  {
                    "dataType": "text",
                    "name": "activityTypeUndertaken",
                    "constraints": [
                      "Survey",
                      "Site management",
                      "Assessment",
                      "Cultural event",
                      "Curation",
                      "Other"
                    ]
                  },
                  {
                    "dataType": "text",
                    "name": "otherActivityTypeUndertaken",
                    "description": "",
                    "behaviour": [
                      {
                        "condition": "activityTypeUndertaken == \"Other\"",
                        "type": "enable"
                      }
                    ],
                    "validate": "required,maxSize[100]"
                  },
                  {
                    "dataType": "text",
                    "name": "purposeOfActivity",
                    "description": "",
                    "validate": "required,maxSize[300]"
                  },
                  {
                    "dataType": "text",
                    "name": "activityDescription",
                    "description": "",
                    "validate": "maxSize[300]"
                  },
                  {
                    "dataType": "text",
                    "name": "surveyObjective",
                    "description": "",
                    "validate": "required,maxSize[300]"
                  },
                  {
                    "dataType": "text",
                    "name": "surveyTechnique",
                    "description": "",
                    "validate": "required,maxSize[300]"
                  },
                  {
                    "dataType": "text",
                    "name": "siteCondition",
                    "constraints": [
                      "Poor",
                      "Fair",
                      "Good",
                      "Excellent"
                    ]
                  },
                  {
                    "dataType": "text",
                    "name": "siteConditionDetails",
                    "description": "",
                    "validate": "required,maxSize[300]"
                  }
                ],
                "dataType": "list",
                "name": "firstNationsDetails"
              },
              {
                "name": "relatedOutcomes",
                "dataType": "text",
                "description": "Select the outcome/s as defined in your MERI plan that this service was delivered to achieve.",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "label",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "url": "/project/outcomesByScores",
                      "params": [
                        {
                          "expression": "owner.projectId",
                          "name": "id",
                          "type": "computed"
                        },
                        {
                          "expression": "scores",
                          "name": "scoreIds",
                          "type": "computed"
                        }
                      ]
                    }
                  }
                }
              },
              {
                "name": "investmentPriorities2",
                "dataType": "text",
                "description": "",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "value",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "context-path": "owner.investmentPriorities"
                    }
                  }
                }
              },
              {
                "dataType": "text",
                "name": "otherInvestmentPriority",
                "description": "Describe the investment priority (if Other) was selected",
                "behaviour": [
                  {
                    "type": "enable",
                    "condition": "\"Other\" in investmentPriorities2"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "invoicingThisActivity",
                "constraints": [
                  "Yes",
                  "No"
                ],
                "validate": "required"
              }
            ],
            "dataType": "list",
            "name": "firstNationAreasControlled"
          },
          {
            "name": "sitePrepCountHeader",
            "type": "number",
            "decimalPlaces": 0,
            "computed": {
              "expression": "count(firstNationAreasControlled, \"threatenedEcologicalCommunity\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalNoDaysCulturalPractices",
            "validate": "min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(firstNationAreasControlled, \"noDaysConductingCulturalPractices\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalNoDaysCulturalPracticesInvoiced",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalNoDaysCulturalPractices",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": ""
          },
          {
            "dataType": "text",
            "name": "totalInvoicedFirstNationsMismatched",
            "description": "Please provide the reason/s why you are not invoicing for the same number that have been completed and delivered, e.g. the personnel and equipment were available to deliver more than was contracted.",
            "validate": "maxSize[400],required",
            "behaviour": [
              {
                "condition": "totalNoDaysCulturalPracticesInvoiced < totalNoDaysCulturalPractices",
                "type": "enable"
              }
            ]
          },
          {
            "dataType": "text",
            "name": "comments",
            "validate": "maxSize[1500]"
          },
          {
            "dataType": "image",
            "name": "photographicEvidence"
          },
          {
            "dataType": "boolean",
            "name": "dataUploaded",
            "description": "<ul><li>Tick box to confirm data has been uploaded</li><li>URL Link (mandatory if below is ticked) in available evidence</li></ul>"
          },
          {
            "name": "projectAssuranceDetails",
            "dataType": "text",
            "validate": "required,maxSize[5000]"
          },
          {
            "dataType": "list",
            "name": "assuranceDocuments",
            "columns": [
              {
                "dataType": "document",
                "name": "attachments",
                "description": "Please attach any Evidence of Service Delivery here."
              }
            ]
          }
        ],
        "modelName": "NHT - First nations australians cultural practices",
        "title": "First Nations Australians Cultural Practices",
        "viewModel": [
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<h3>Participation information</h3>"
              }
            ]
          },
          {
            "disableTableUpload": true,
            "columns": [
              {
                "width": "10%",
                "source": "participationIndividualsOrGroups",
                "title": "Are individuals or groups delivering this service?",
                "type": "selectOne"
              },
              {
                "width": "20%",
                "type": "col",
                "title": "Total number of people delivering this service <br>(including First Nations people)<b style=\"color:red\">*</b>",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "participationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "participationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "type": "col",
                "width": "20%",
                "title": "Total number of First Nations people delivering this service<b style=\"color:red\">*</b>",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "firstNationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "firstNationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "width": "20%",
                "source": "participationDetails",
                "rows": 4,
                "title": "If no First Nations people participated in the delivery of this service, <br>what are the reasons? If there was participation, please provide details.",
                "helpText": "If there were no First Nations people participating in the delivery of this service, please explain the reasons. If there were First Nations people involved, please outline how they were involved.",
                "type": "textarea"
              }
            ],
            "source": "participationInformationTableFna",
            "type": "table"
          },
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<h3>Totals Summary</h3>"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(i) Total number of days conducting cultural practices during this reporting period",
                        "source": "totalNoDaysCulturalPractices",
                        "type": "number"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(ii) Total number of days conducting cultural practices <u><i>invoiced</i></u> for during this reporting period",
                        "source": "totalNoDaysCulturalPracticesInvoiced",
                        "type": "number"
                      }
                    ]
                  }
                ]
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "If the total invoiced is different to the total completed, please provide the reason",
                "source": "totalInvoicedFirstNationsMismatched",
                "type": "textarea",
                "rows": 4,
                "placeholder": ""
              }
            ]
          },
          {
            "addRowText": "Add a new area",
            "userAddedRows": true,
            "source": "firstNationAreasControlled",
            "type": "repeat",
            "items": [
              {
                "type": "row",
                "items": [
                  {
                    "css": "span3",
                    "type": "col",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "relatedOutcomes",
                            "type": "selectOne",
                            "preLabel": "Which outcome statement/s does this activity relate to?"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "investmentPriorities2",
                            "preLabel": "Which investment priority does this activity relate to?",
                            "type": "select2Many"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "css": "span3",
                    "type": "col",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "invoicingThisActivity",
                            "preLabel": "Are you invoicing for this activity in this reporting period?",
                            "type": "selectOne"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "row",
                "css": "border-bottom",
                "items": [
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Number of days conducting cultural practices",
                            "source": "noDaysConductingCulturalPractices",
                            "type": "number"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Number of participants",
                            "source": "noOfParticipants",
                            "type": "number"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Number of First Nations participants",
                            "source": "noOfFirstNationsParticipants",
                            "type": "number"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Site Visit",
                            "source": "siteVisit",
                            "type": "selectOne"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Number of sites where activity occurred",
                            "source": "noOfSitesActivityOccurred",
                            "type": "number"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Type of site",
                            "source": "typeOfSite",
                            "type": "selectOne"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Type of site (If Other)",
                            "source": "otherTypeOfSite",
                            "type": "text"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Site/s where activity was undertaken",
                            "source": "sitesUndertakeForFirstNations",
                            "type": "feature"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "calculatedAreaTreatedHa",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            },
                            "readonly": "readonly"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "calculatedLengthTreatedKm",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            },
                            "readonly": "readonly"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Please attach mapping details",
                            "source": "extraMappingDetails",
                            "type": "document"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Actual area (ha) / length (km) where activity has been undertaken",
                            "source": "areaTreatedHa",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "lengthTreatedKm",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Reason for actual being different to mapped amount",
                            "source": "mappingNotAlignedReason",
                            "type": "selectOne"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "placeholder": "Please enter the reason/s the mapping didn't align with the invoiced amount",
                            "source": "mappingNotAlignedComments",
                            "type": "textarea",
                            "rows": 5
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Activity start date",
                            "source": "activitiesStartDate",
                            "type": "date"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Activity end date",
                            "source": "activitiesEndDate",
                            "type": "date"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "columns": [
                  {
                    "width": "15%",
                    "title": "Type of activity undertaken",
                    "type": "col",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "activityTypeUndertaken",
                            "type": "selectOne"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "otherActivityTypeUndertaken",
                            "title": "Type of activity (if other)",
                            "type": "textarea"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "width": "15%",
                    "source": "purposeOfActivity",
                    "title": "Purpose of activity",
                    "type": "textarea"
                  },
                  {
                    "width": "15%",
                    "source": "activityDescription",
                    "title": "Detailed description of activity",
                    "type": "textarea"
                  },
                  {
                    "width": "15%",
                    "source": "surveyObjective",
                    "title": "Survey/assessment objective (if applicable)",
                    "type": "textarea"
                  },
                  {
                    "width": "15%",
                    "source": "surveyTechnique",
                    "title": "Survey/assessment technique (if applicable)",
                    "type": "textarea"
                  },
                  {
                    "width": "10%",
                    "source": "siteCondition",
                    "title": "Site condition (if applicable)",
                    "type": "selectOne"
                  },
                  {
                    "width": "15%",
                    "source": "siteConditionDetails",
                    "title": "Site condition further details (if applicable)",
                    "type": "textarea"
                  }
                ],
                "userAddedRows": true,
                "disableTableUpload": true,
                "source": "firstNationsDetails",
                "type": "table"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "Optionally attach photos",
                "source": "photographicEvidence",
                "type": "image"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "Clarification, if needed",
                "type": "textarea",
                "rows": 4,
                "css": "span8",
                "source": "comments",
                "placeholder": "Clarification comments include information for your project manager about the service like:\n • any reported items that are not being invoiced (eg, over-achievement) \n • any extraneous circumstances that affected delivery of the service \n"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<p><b>Available Evidence</b></p>This field is mandatory for all projects as part of the invoicing process. Please list evidence you have retained for this service and provide information to where the evidence is stored (links/file location data). Refer to the Project Service Evidence Guide and the Project Service Summaries for information on the evidence requirements.<b style=\"color:red\">*</b>"
              },
              {
                "preLabel": "Data have been uploaded",
                "source": "dataUploaded",
                "type": "boolean"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "",
                "source": "projectAssuranceDetails",
                "type": "textarea",
                "rows": 4,
                "placeholder": "List the documentary evidence you have available for this project service. Include specifically, the document titles and location (e.g. internal IT network pathway, URLs) to assist with locating this material for future audits/assurance purposes."
              }
            ]
          },
          {
            "type": "table",
            "source": "assuranceDocuments",
            "userAddedRows": true,
            "disableTableUpload": true,
            "columns": [
              {
                "title": "Attached documents",
                "source": "attachments",
                "type": "document"
              }
            ]
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtFirstNation",
      "optional": true,
      "optionalQuestionText": null,
      "title": "First Nations Australians Cultural Practices",
      "collapsibleHeading": null,
      "name": "NHT - First nations australians cultural practices",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "dataModel": [
          {
            "name": "floraSurveys",
            "dataType": "list",
            "minSize": 1,
            "columns": [
              {
                "name": "relatedOutcomes",
                "dataType": "text",
                "description": "Select the outcome/s as defined in your MERI plan that this service was delivered to achieve.",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "value",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "context-path": "outcomes"
                    }
                  }
                }
              },
              {
                "dataType": "text",
                "name": "baselineOrIndicatorSurvey",
                "description": "",
                "constraints": [
                  "Baseline",
                  "Indicator"
                ],
                "validate": "required"
              },
              {
                "dataType": "text",
                "name": "surveyObjective",
                "description": "What the survey aim to capture? How will the information obtained from the survey be used?",
                "validate": "required,maxSize[3000]"
              },
              {
                "dataType": "number",
                "name": "numberOfSurveys",
                "validate": "required,min[1],max[1]",
                "defaultValue": 1,
                "readonly": true
              },
              {
                "dataType": "list",
                "name": "floraDataSets",
                "columns": [
                  {
                    "name": "dataSetId",
                    "entityType": "au.org.ala.ecodata.DataSetSummary",
                    "dataType": "text",
                    "description": "This section will require the Data Set Name so the Metadata fields in the Data Set Summary tab should be filled out before the Outcome Report is due. More than one dataset if relevant for this Project Baseline could be selected.",
                    "validate": "required",
                    "constraints": {
                      "textProperty": "name",
                      "valueProperty": "dataSetId",
                      "excludePath": "floraSurveys.floraDataSets.dataSetId",
                      "type": "pre-populated",
                      "config": {
                        "source": {
                          "context-path": "owner.custom.dataSets"
                        },
                        "filter": {
                          "namespace": "dataSet",
                          "expression": "dataSet.serviceId == 15 and dataSet.progress == 'finished' and dataSet.alreadyReported == false and baselineOrIndicatorSurvey == baselineIndicatorMapping.lookupValue(dataSet.type) and deepEquals(relatedOutcomes,dataSet.outcomesLabel)"
                        }
                      }
                    },
                    "behaviour": [
                      {
                        "type": "pre_populate",
                        "config": {
                          "waitForInitialisation": true,
                          "source": {
                            "url": "/site/geojson",
                            "params": [
                              {
                                "expression": "x=find(owner.custom.dataSets, \"dataSetId\", dataSetId); x.siteId",
                                "name": "id",
                                "type": "computed",
                                "required": true
                              }
                            ]
                          },
                          "target":  {
                            "type": "singleValue",
                            "name": "sitesCoveredForFloraSurvey"
                          }
                        }
                      }
                    ]
                  },
                  {
                    "columns": [
                      {
                        "dataType": "species",
                        "name": "species",
                        "validate": "required"
                      },
                      {
                        "dataType": "text",
                        "name": "threatenedEcologicalCommunity",
                        "validate": "maxSize[300]"
                      },
                      {
                        "dataType": "text",
                        "name": "individualsOrGroups",
                        "constraints": [
                          "Individuals",
                          "Groups"
                        ],
                        "validate": "required"
                      },
                      {
                        "dataType": "number",
                        "name": "numberOfIndividualsOrGroups",
                        "validate": "required,min[0]"
                      }
                    ],
                    "dataType": "list",
                    "name": "floraSurveySpeciesTable"
                  },
                  {
                    "name": "projectBaselines",
                    "dataType": "stringList",
                    "description": "Select the relevant Project Baseline as listed in the Monitoring Methodology section of the MERI Plan.",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.baselines"
                    },
                    "constraints": {
                      "textProperty": "baseline",
                      "valueProperty": "code",
                      "type": "pre-populated",
                      "excludePath": "projectBaselines",
                      "config": {
                        "source": {
                          "context-path": "owner.custom.details.baseline.rows"
                        }
                      }
                    }
                  },
                  {
                    "name": "investmentPriorities2",
                    "dataType": "stringList",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.investmentPriorities"
                    },
                    "constraints": {
                      "type": "pre-populated",
                      "config": {
                        "source": {
                          "params": [
                            {
                              "expression": "owner.projectId",
                              "name": "id",
                              "type": "computed"
                            }
                          ],
                          "url": "/project/listProjectInvestmentPriorities/"
                        }
                      }
                    }
                  },
                  {
                    "dataType": "text",
                    "name": "otherInvestmentPriority",
                    "behaviour": [
                      {
                        "type": "enable",
                        "condition": "\"Other\" in investmentPriorities2"
                      }
                    ]
                  },
                  {
                    "dataType": "date",
                    "name": "activitiesStartDate",
                    "description": "Specific the dates these events were held on.",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.startDate"
                    }
                  },
                  {
                    "dataType": "date",
                    "name": "activitiesEndDate",
                    "description": "Specific the dates these events were held on.",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.endDate"
                    }
                  },
                  {
                    "dataType": "feature",
                    "name": "sitesCoveredForFloraSurvey",
                    "description": "Mapping field to be done and Area (ha)/length (km) field be auto-calculated from mapping."


                  },
                  {
                    "computed": {
                      "expression": "$geom.areaHa(sitesCoveredForFloraSurvey)"
                    },
                    "dataType": "number",
                    "name": "calculatedAreaTreatedHa",
                    "units": "ha",
                    "decimalPlaces": 3
                  },
                  {
                    "computed": {
                      "expression": "$geom.lengthKm(sitesCoveredForFloraSurvey)"
                    },
                    "dataType": "number",
                    "name": "calculatedLengthTreatedKm",
                    "units": "km",
                    "decimalPlaces": 3,
                    "behaviour": [
                      {
                        "condition": "lengthTreatedKm > 0",
                        "type": "conditional_validation",
                        "value": {
                          "message": "The managed length must be mapped",
                          "validate": "required,min[0.0001]"
                        }
                      }
                    ]
                  },
                  {
                    "defaultValue": {
                      "type": "computed",
                      "expression": "calculatedAreaTreatedHa"
                    },
                    "dataType": "number",
                    "name": "areaTreatedHa",
                    "description": "Manually enter correct figure for this reporting period if different to mapped value.",
                    "units": "ha",
                    "decimalPlaces": 3,
                    "validate": "required,min[0]"
                  },
                  {
                    "dataType": "text",
                    "name": "mappingNotAlignedReason",
                    "constraints": [
                      "Mapped area simplifies more complex area/s where work was undertaken during this period",
                      "Other"
                    ],
                    "validate": "required",
                    "behaviour": [
                      {
                        "condition": "not (within(areaTreatedHa, calculatedAreaTreatedHa, 0.1) and within(lengthTreatedKm, calculatedLengthTreatedKm, 0.1))",
                        "type": "if"
                      }
                    ]
                  },
                  {
                    "dataType": "text",
                    "name": "mappingNotAlignedComments",
                    "validate": "required,maxSize[100]",
                    "behaviour": [
                      {
                        "type": "visible",
                        "condition": "\"Other\" == mappingNotAlignedReason"
                      }
                    ]
                  },
                  {
                    "dataType": "document",
                    "name": "extraMappingDetails",
                    "validate": "required",
                    "description": "Please fill in the Mapped/Actual/Invoice fields before attaching a document here. If those fields match this field will be void. <br/>If any of these fields differ please attach your organisation's detailed map for the area, covered by this project service - during reporting period (include the scale measure for each map).",
                    "behaviour": [
                      {
                        "condition": "not (within(areaTreatedHa, calculatedAreaTreatedHa, 0.1) and within(lengthTreatedKm, calculatedLengthTreatedKm, 0.1))",
                        "type": "if"
                      }
                    ]
                  },
                  {
                    "defaultValue": {
                      "type": "computed",
                      "expression": "$geom.lengthKm(sitesCoveredForFloraSurvey)"
                    },
                    "dataType": "number",
                    "name": "lengthTreatedKm",
                    "units": "km",
                    "decimalPlaces": 3
                  },
                  {
                    "dataType": "text",
                    "description": "Select the technique used to conduct the survey. If the EMSA Application tool was not used, you should select 'Other'.",
                    "name": "emsaProtocol",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.protocol"
                    },
                    "constraints": {
                      "textProperty": "label",
                      "valueProperty": "value",
                      "type": "pre-populated",
                      "config": {
                        "source": {
                          "context-path": "owner.protocols"
                        }
                      }
                    }
                  },
                  {
                    "dataType": "stringList",
                    "description": "Describe the technique (if Other) was selected.",
                    "name": "otherEmsaProtocol",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.methods"
                    }
                  },
                  {
                    "dataType": "text",
                    "name": "surveyMethodology",
                    "description": "Provide more details on what is being done.",
                    "validate": "required,maxSize[3000]",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.methodDescription"
                    }
                  },
                  {
                    "dataType": "text",
                    "name": "invoicingThisActivity",
                    "constraints": [
                      "Yes",
                      "No"
                    ],
                    "validate": "required"
                  }
                ],
                "minSize": 1
              }
            ]
          },
          {
            "dataType": "lookupTable",
            "name": "baselineIndicatorMapping",
            "config": {
              "source": {
                "literal": {
                  "Baseline dataset associated with a project outcome": "Baseline",
                  "Project progress dataset that is tracking change against an established project baseline dataset": "Indicator"
                }
              }
            }
          },
          {
            "allowRowDelete": "false",
            "columns": [
              {
                "dataType": "text",
                "name": "participationIndividualsOrGroups",
                "description": "Once Individuals or groups is selected, the related number field in the next two columns will become editable to report.",
                "constraints": [
                  "Individuals",
                  "Groups"
                ],
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "participationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "participationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ]
              },
              {
                "dataType": "number",
                "name": "firstNationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "param": {
                      "expression": "participationIndividualNumber",
                      "type": "computed"
                    },
                    "rule": "max"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "firstNationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "param": {
                      "expression": "participationGroupNumber",
                      "type": "computed"
                    },
                    "rule": "max",
                    "message": "The number of first nation participants cannot be greater than the total number of participants"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "participationDetails",
                "validate": "required, maxSize[3000]"
              }
            ],
            "dataType": "list",
            "name": "participationInformationTableFls"
          },
          {
            "dataType": "number",
            "name": "totalSurveyBaseline",
            "validate": "min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(floraSurveys, \"baselineOrIndicatorSurvey == 'Baseline' ? 1 : 0\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalSurveyBaselineInvoiced",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalSurveyBaseline",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": ""
          },
          {
            "dataType": "number",
            "name": "totalSurveyIndicator",
            "validate": "min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(floraSurveys, \"baselineOrIndicatorSurvey == 'Indicator' ? 1 : 0\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalSurveyIndicatorInvoiced",
            "defaultValue": "",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalSurveyIndicator",
                  "type": "computed"
                },
                "rule": "max"
              }
            ]
          },
          {
            "dataType": "text",
            "name": "totalInvoicedFloraMismatched",
            "description": "Please provide the reason/s why you are not invoicing for the same number that have been completed and delivered, e.g. the personnel and equipment were available to deliver more than was contracted.",
            "validate": "maxSize[400],required",
            "behaviour": [
              {
                "condition": "totalSurveyIndicatorInvoiced < totalSurveyIndicator or totalSurveyBaselineInvoiced < totalSurveyBaseline",
                "type": "enable"
              }
            ]
          },
          {
            "dataType": "text",
            "name": "comments",
            "validate": "maxSize[1500]"
          },
          {
            "dataType": "image",
            "name": "photographicEvidence"
          },
          {
            "dataType": "boolean",
            "name": "dataUploaded",
            "description": ""
          },
          {
            "dataType": "text",
            "name": "projectAssuranceDetails",
            "description": "",
            "validate": "required,maxSize[5000]"
          },
          {
            "dataType": "list",
            "name": "assuranceDocuments",
            "columns": [
              {
                "dataType": "document",
                "name": "attachments",
                "description": "Please attach any Evidence of Service Delivery here."
              }
            ]
          }
        ],
        "modelName": "NHT - Flora survey",
        "title": "Flora Survey",
        "viewModel": [
          {
            "type": "section",
            "items": [
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<h3>Participation information</h3>"
                  }
                ]
              },
              {
                "disableTableUpload": true,
                "columns": [
                  {
                    "width": "10%",
                    "source": "participationIndividualsOrGroups",
                    "title": "Are individuals or groups delivering this service?",
                    "type": "selectOne"
                  },
                  {
                    "width": "20%",
                    "type": "col",
                    "title": "Total number of people delivering this service <br>(including First Nations people)<b style=\"color:red\">*</b>",
                    "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                    "items": [
                      {
                        "source": "participationIndividualNumber",
                        "type": "number"
                      },
                      {
                        "source": "participationGroupNumber",
                        "type": "selectOne"
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "width": "20%",
                    "title": "Total number of First Nations people delivering this service<b style=\"color:red\">*</b>",
                    "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                    "items": [
                      {
                        "source": "firstNationIndividualNumber",
                        "type": "number"
                      },
                      {
                        "source": "firstNationGroupNumber",
                        "type": "selectOne"
                      }
                    ]
                  },
                  {
                    "width": "20%",
                    "source": "participationDetails",
                    "rows": 4,
                    "title": "If no First Nations people participated in the delivery of this service, <br>what are the reasons? If there was participation, please provide details.",
                    "helpText": "If there were no First Nations people participating in the delivery of this service, please explain the reasons. If there were First Nations people involved, please outline how they were involved.",
                    "type": "textarea"
                  }
                ],
                "source": "participationInformationTableFls",
                "type": "table"
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<h3>Survey information</h3><p><b>Before completing this section, please ensure you have created a Data Set Summary information for every data set produced by the surveys you intend to report</b></p><ul><li>Each survey reported must relate to a combination of outcomes as described in your MERI plan</li><li>Each Data Set Summary recorded for a survey must be addressing the same outcomes as selected for the survey</li><li>If a survey produced more than one data set, use the New Data Set button to add each Data Set Summary under your survey</li><li>A single survey can be made up of multiple dataset</li></ul>"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<h3>Totals Summary</h3>"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "col",
                    "css": "span4 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(i) Total Number of baseline flora surveys completed for this reporting period",
                            "source": "totalSurveyBaseline",
                            "type": "number"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(ii) Total Number of baseline flora surveys <u><i>invoiced</i></u> for this reporting period",
                            "source": "totalSurveyBaselineInvoiced",
                            "type": "number"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span4 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(iii)  Total Number of indicator flora surveys completed for this reporting period",
                            "source": "totalSurveyIndicator",
                            "type": "number"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(iv) Total Number of indicator flora surveys <u><i>invoiced</i></u> for this reporting period",
                            "source": "totalSurveyIndicatorInvoiced",
                            "type": "number"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "If the total invoiced is different to the total completed, please provide the reason",
                    "source": "totalInvoicedFloraMismatched",
                    "type": "textarea",
                    "rows": 4,
                    "placeholder": ""
                  }
                ]
              },
              {
                "addRowText": "Add survey",
                "removeRowText": "Delete this survey",
                "userAddedRows": true,
                "source": "floraSurveys",
                "type": "repeat",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "type": "col",
                        "items": [
                          {
                            "source": "relatedOutcomes",
                            "type": "selectOne",
                            "preLabel": "Which outcome statement/s relates to this survey?"
                          }
                        ]
                      },
                      {
                        "type": "col",
                        "items": [
                          {
                            "source": "baselineOrIndicatorSurvey",
                            "type": "selectOne",
                            "preLabel": "Baseline survey or indicator (follow-up) survey?"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "source": "surveyObjective",
                        "preLabel": "Survey objective",
                        "type": "text"
                      }
                    ]
                  },
                  {
                    "type": "repeat",
                    "source": "floraDataSets",
                    "userAddedRows": true,
                    "addRowText": "New data set",
                    "removeRowText": "Delete this data set",
                    "items": [
                      {
                        "type": "row",
                        "css": "border-bottom",
                        "items": [
                          {
                            "type": "col",
                            "items": [
                              {
                                "source": "dataSetId",
                                "type": "selectOne",
                                "preLabel": "Please select the data set produced by this survey.  Note it must have already been entered on the Data Set Summary tab."
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "projectBaselines",
                                    "type": "selectMany",
                                    "preLabel": "Which project baseline/s relate to this survey?",
                                    "readonly": "readonly"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "investmentPriorities2",
                                    "preLabel": "Which investment priority does this activity relate to?",
                                    "type": "select2Many"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Activity start date",
                                    "source": "activitiesStartDate",
                                    "type": "date"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Activity end date",
                                    "source": "activitiesEndDate",
                                    "type": "date"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Sites covered by flora survey",
                                    "source": "sitesCoveredForFloraSurvey",
                                    "type": "feature"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "calculatedAreaTreatedHa",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    },
                                    "readonly": "readonly"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "calculatedLengthTreatedKm",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    },
                                    "readonly": "readonly"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Please attach mapping details",
                                    "source": "extraMappingDetails",
                                    "type": "document"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Actual area (ha) / length (km) covered by flora survey",
                                    "source": "areaTreatedHa",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    }
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "lengthTreatedKm",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    }
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Reason for actual being different to mapped amount",
                                    "source": "mappingNotAlignedReason",
                                    "type": "selectOne"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "placeholder": "Please enter the reason/s the mapping didn't align with the invoiced amount",
                                    "source": "mappingNotAlignedComments",
                                    "type": "textarea",
                                    "rows": 5
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Survey technique",
                                    "source": "emsaProtocol",
                                    "type": "selectOne",
                                    "readonly": "readonly"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Survey technique (if Other)",
                                    "source": "otherEmsaProtocol",
                                    "type": "select2Many"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "surveyMethodology",
                                    "preLabel": "Survey methodology",
                                    "type": "text"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "invoicingThisActivity",
                                    "preLabel": "Are you invoicing for this activity in this reporting period?",
                                    "type": "selectOne"
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "columns": [
                          {
                            "width": "40%",
                            "source": "species",
                            "title": "Target species recorded",
                            "type": "speciesSelect"
                          },
                          {
                            "width": "35%",
                            "source": "threatenedEcologicalCommunity",
                            "title": "Threatened ecological communities (if applicable)",
                            "type": "text"
                          },
                          {
                            "width": "15%",
                            "source": "individualsOrGroups",
                            "title": "Individuals or groups?",
                            "type": "selectOne"
                          },
                          {
                            "width": "10%",
                            "source": "numberOfIndividualsOrGroups",
                            "title": "Number of groups / individuals in flora survey",
                            "type": "number"
                          }
                        ],
                        "userAddedRows": true,
                        "disableTableUpload": true,
                        "source": "floraSurveySpeciesTable",
                        "type": "table"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Optionally attach photos",
                    "source": "photographicEvidence",
                    "type": "image"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Clarification, if needed",
                    "type": "textarea",
                    "rows": 4,
                    "css": "span8",
                    "source": "comments",
                    "placeholder": "Clarification comments include information for your project manager about the service like:\n • any reported items that are not being invoiced (eg, over-achievement) \n • any extraneous circumstances that affected delivery of the service \n"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<p><b>Available Evidence</b></p>This field is mandatory for all projects as part of the invoicing process. Please list evidence you have retained for this service and provide information to where the evidence is stored (links/file location data). Refer to the Project Service Evidence Guide and the Project Service Summaries for information on the evidence requirements.<b style=\"color:red\">*</b>"
                  },
                  {
                    "preLabel": "Data have been uploaded",
                    "source": "dataUploaded",
                    "type": "boolean"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "",
                    "source": "projectAssuranceDetails",
                    "type": "textarea",
                    "rows": 4,
                    "placeholder": "List the documentary evidence you have available for this project service. Include specifically, the document titles and location (e.g. internal IT network pathway, URLs) to assist with locating this material for future audits/assurance purposes."
                  }
                ]
              },
              {
                "type": "table",
                "source": "assuranceDocuments",
                "userAddedRows": true,
                "disableTableUpload": true,
                "columns": [
                  {
                    "title": "Attached documents",
                    "source": "attachments",
                    "type": "document"
                  }
                ]
              }
            ]
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtFloraSurvey",
      "optional": true,
      "optionalQuestionText": null,
      "title": "Flora survey",
      "collapsibleHeading": null,
      "name": "NHT - Flora survey",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "dataModel": [
          {
            "allowRowDelete": "false",
            "columns": [
              {
                "dataType": "text",
                "name": "participationIndividualsOrGroups",
                "description": "Once Individuals or groups is selected, the related number field in the next two columns will become editable to report.",
                "constraints": [
                  "Individuals",
                  "Groups"
                ],
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "participationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "participationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ]
              },
              {
                "dataType": "number",
                "name": "firstNationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "param": {
                      "expression": "participationIndividualNumber",
                      "type": "computed"
                    },
                    "rule": "max"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "firstNationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "param": {
                      "expression": "participationGroupNumber",
                      "type": "computed"
                    },
                    "rule": "max",
                    "message": "The number of first nation participants cannot be greater than the total number of participants"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "participationDetails",
                "validate": "required, maxSize[3000]"
              }
            ],
            "dataType": "list",
            "name": "participationInformationTableHaa"
          },
          {
            "columns": [
              {
                "dataType": "text",
                "name": "initialOrMaintained",
                "constraints": [
                  "Initial",
                  "Maintained"
                ],
                "validate": "required"
              },
              {
                "dataType": "feature",
                "name": "sitesOfHabitatAugmentation",
                "description": "Mapping field to be done and Area (ha)/length (km) field be auto-calculated from mapping."
              },
              {
                "computed": {
                  "expression": "$geom.areaHa(sitesOfHabitatAugmentation)"
                },
                "dataType": "number",
                "name": "calculatedAreaTreatedHa",
                "units": "ha",
                "decimalPlaces": 3
              },
              {
                "computed": {
                  "expression": "$geom.lengthKm(sitesOfHabitatAugmentation)"
                },
                "dataType": "number",
                "name": "calculatedLengthTreatedKm",
                "units": "km",
                "decimalPlaces": 3,
                "behaviour": [
                  {
                    "condition": "lengthTreatedKm > 0",
                    "type": "conditional_validation",
                    "value": {
                      "message": "The managed length must be mapped",
                      "validate": "required,min[0.0001]"
                    }
                  }
                ]
              },
              {
                "defaultValue": {
                  "type": "computed",
                  "expression": "calculatedAreaTreatedHa"
                },
                "dataType": "number",
                "name": "areaTreatedHa",
                "description": "Manually enter correct figure for this reporting period if different to mapped value.",
                "units": "ha",
                "decimalPlaces": 3,
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedReason",
                "constraints": [
                  "Mapped area simplifies more complex area/s where work was undertaken during this period",
                  "Other"
                ],
                "validate": "required",
                "behaviour": [
                  {
                    "condition": "not (within(areaTreatedHa, calculatedAreaTreatedHa, 0.1) and within(lengthTreatedKm, calculatedLengthTreatedKm, 0.1))",
                    "type": "if"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedComments",
                "validate": "required,maxSize[100]",
                "behaviour": [
                  {
                    "type": "visible",
                    "condition": "\"Other\" == mappingNotAlignedReason"
                  }
                ]
              },
              {
                "dataType": "document",
                "name": "extraMappingDetails",
                "validate": "required",
                "description": "Please fill in the Mapped/Actual/Invoice fields before attaching a document here. If those fields match this field will be void. <br/>If any of these fields differ please attach your organisation's detailed map for the area, covered by this project service - during reporting period (include the scale measure for each map).",
                "behaviour": [
                  {
                    "condition": "not (within(areaTreatedHa, calculatedAreaTreatedHa, 0.1) and within(lengthTreatedKm, calculatedLengthTreatedKm, 0.1))",
                    "type": "if"
                  }
                ]
              },
              {
                "defaultValue": {
                  "type": "computed",
                  "expression": "calculatedLengthTreatedKm"
                },
                "dataType": "number",
                "name": "lengthTreatedKm",
                "units": "km",
                "decimalPlaces": 3
              },
              {
                "dataType": "number",
                "name": "noStructuresInstalled",
                "validate": "required"
              },
              {
                "columns": [
                  {
                    "dataType": "date",
                    "name": "activitiesStartDate",
                    "description": "Specific the dates these events were held on.",
                    "validate": "required"
                  },
                  {
                    "dataType": "date",
                    "name": "activitiesEndDate",
                    "description": "Specific the dates these events were held on.",
                    "validate": [
                      {
                        "rule": "required"
                      },
                      {
                        "rule": "future",
                        "param": {
                          "expression": "formatDateForValidation(activitiesStartDate)",
                          "type": "computed"
                        }
                      }
                    ]
                  },
                  {
                    "dataType": "text",
                    "name": "habitatAugmentationType",
                    "description": "",
                    "constraints": [
                      "Artificial fauna movement devices",
                      "Artificial nesting or roosting habitat (incl. tiles, fence posts)",
                      "Environmental thinning",
                      "Improving fish passage",
                      "Natural features (rocks, logs)",
                      "Other"
                    ],
                    "validate": "required"
                  },
                  {
                    "dataType": "text",
                    "name": "otherHabitatAugmentationType",
                    "description": "Please specify the habitat augmentation type if Other (specify in notes) was selected in the Type of habitat augmentation column.",
                    "behaviour": [
                      {
                        "condition": "habitatAugmentationType == \"Other\"",
                        "type": "enable"
                      }
                    ],
                    "validate": "required,maxSize[100]"
                  },
                  {
                    "dataType": "text",
                    "name": "habitatAugmentationObjective",
                    "description": "",
                    "validate": "required,maxSize[300]"
                  }
                ],
                "dataType": "list",
                "name": "habitatAugmentationDetails"
              },
              {
                "name": "relatedOutcomes",
                "dataType": "text",
                "description": "Select the outcome/s as defined in your MERI plan that this service was delivered to achieve.",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "value",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "context-path": "outcomes"
                    }
                  }
                }
              },
              {
                "name": "investmentPriorities2",
                "dataType": "text",
                "description": "",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "value",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "context-path": "owner.investmentPriorities"
                    }
                  }
                }
              },
              {
                "dataType": "text",
                "name": "otherInvestmentPriority",
                "behaviour": [
                  {
                    "type": "enable",
                    "condition": "\"Other\" in investmentPriorities2"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "invoicingThisActivity",
                "constraints": [
                  "Yes",
                  "No"
                ],
                "validate": "required"
              }
            ],
            "dataType": "list",
            "name": "habitatAugmentationAreas"
          },
          {
            "dataType": "number",
            "name": "totalAreaAugmentationInitial",
            "validate": "min[0]",
            "decimalPlaces": 3,
            "computed": {
              "expression": "sum(habitatAugmentationAreas, \"initialOrMaintained == 'Initial' ? areaTreatedHa : 0\")"
            }
          },
          {
            "dataType": "number",
            "decimalPlaces": 3,
            "name": "totalAreaAugmentationInitialInvoiced",
            "description": "Manually enter if values have decimal points e.g. 0.350 or 2.545",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalAreaAugmentationInitial",
                  "type": "computed",
                  "decimalPlaces": 3
                },
                "rule": "max"
              }
            ],
            "defaultValue": ""
          },
          {
            "dataType": "number",
            "name": "totalAreaAugmentationMaintained",
            "validate": "min[0]",
            "decimalPlaces": 3,
            "computed": {
              "expression": "sum(habitatAugmentationAreas, \"initialOrMaintained == 'Maintained' ? areaTreatedHa : 0\")"
            }
          },
          {
            "dataType": "number",
            "decimalPlaces": 3,
            "name": "totalAreaAugmentationMaintainedInvoiced",
            "description": "Manually enter if values have decimal points e.g. 0.350 or 2.545",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalAreaAugmentationMaintained",
                  "type": "computed",
                  "decimalPlaces": 3
                },
                "rule": "max"
              }
            ],
            "defaultValue": ""
          },
          {
            "dataType": "number",
            "name": "totalStructuresInstalledInitial",
            "validate": "min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(habitatAugmentationAreas, \"initialOrMaintained == 'Initial' ? noStructuresInstalled : 0\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalStructuresInstalledInitialInvoiced",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalStructuresInstalledInitial",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": ""
          },
          {
            "dataType": "number",
            "name": "totalStructuresInstalledMaintained",
            "validate": "min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(habitatAugmentationAreas, \"initialOrMaintained == 'Maintained' ? noStructuresInstalled : 0\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalStructuresInstalledMaintainedInvoiced",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalStructuresInstalledMaintained",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": ""
          },
          {
            "dataType": "text",
            "name": "totalInvoicedHabitatAugmentationMismatched",
            "description": "Please provide the reason/s why you are not invoicing for the same number that have been completed and delivered, e.g. the personnel and equipment were available to deliver more than was contracted.",
            "validate": "maxSize[400],required",
            "behaviour": [
              {
                "condition": "totalAreaAugmentationInitialInvoiced < totalAreaAugmentationInitial or totalAreaAugmentationMaintainedInvoiced < totalAreaAugmentationMaintained or totalStructuresInstalledInitialInvoiced < totalStructuresInstalledInitial or totalStructuresInstalledMaintainedInvoiced < totalStructuresInstalledMaintained",
                "type": "enable"
              }
            ]
          },
          {
            "dataType": "text",
            "name": "comments",
            "validate": "maxSize[1500]"
          },
          {
            "dataType": "image",
            "name": "photographicEvidence"
          },
          {
            "dataType": "boolean",
            "name": "dataUploaded",
            "description": "<ul><li>Tick box to confirm data has been uploaded</li><li>URL Link (mandatory if below is ticked) in available evidence</li></ul>"
          },
          {
            "name": "projectAssuranceDetails",
            "dataType": "text",
            "validate": "required,maxSize[5000]"
          },
          {
            "dataType": "list",
            "name": "assuranceDocuments",
            "columns": [
              {
                "dataType": "document",
                "name": "attachments",
                "description": "Please attach any Evidence of Service Delivery here."
              }
            ]
          }
        ],
        "modelName": "NHT - Habitat augmentation",
        "title": "Habitat Augmentation",
        "viewModel": [
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<h3>Participation information</h3>"
              }
            ]
          },
          {
            "disableTableUpload": true,
            "columns": [
              {
                "width": "10%",
                "source": "participationIndividualsOrGroups",
                "title": "Are individuals or groups delivering this service?",
                "type": "selectOne"
              },
              {
                "width": "20%",
                "type": "col",
                "title": "Total number of people delivering this service <br>(including First Nations people)<b style=\"color:red\">*</b>",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "participationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "participationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "type": "col",
                "width": "20%",
                "title": "Total number of First Nations people delivering this service<b style=\"color:red\">*</b>",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "firstNationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "firstNationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "width": "20%",
                "source": "participationDetails",
                "rows": 4,
                "title": "If no First Nations people participated in the delivery of this service, <br>what are the reasons? If there was participation, please provide details.",
                "helpText": "If there were no First Nations people participating in the delivery of this service, please explain the reasons. If there were First Nations people involved, please outline how they were involved.",
                "type": "textarea"
              }
            ],
            "source": "participationInformationTableHaa",
            "type": "table"
          },
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<h3>Totals Summary</h3>"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(i) Total area (ha) of augmentation (initial) during this reporting period",
                        "source": "totalAreaAugmentationInitial",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(ii) Total area (ha) of augmentation (initial) <u><i>invoiced</i></u> for during this reporting period",
                        "source": "totalAreaAugmentationInitialInvoiced",
                        "type": "number",
                        "displayOptions": {
                          "removeTrailingZeros": false
                        }
                      }
                    ]
                  }
                ]
              },
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(iii) Total area (ha) of augmentation (maintained) during this reporting period",
                        "source": "totalAreaAugmentationMaintained",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(iv) Total area (ha) of augmentation (maintained) <u><i>invoiced</i></u> for during this reporting period",
                        "source": "totalAreaAugmentationMaintainedInvoiced",
                        "type": "number",
                        "displayOptions": {
                          "removeTrailingZeros": false
                        }
                      }
                    ]
                  }
                ]
              },
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(v) Number of locations where structures installed (initial) during this reporting period",
                        "source": "totalStructuresInstalledInitial",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(vi) Number of locations where structures installed (initial) <u><i>invoiced</i></u> for during this reporting period",
                        "source": "totalStructuresInstalledInitialInvoiced",
                        "type": "number"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(vii) Number of locations where structures installed (maintained) during this reporting period",
                        "source": "totalStructuresInstalledMaintained",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(viii) Number of locations where structures installed (maintained) <u><i>invoiced</i></u> for during this reporting period",
                        "source": "totalStructuresInstalledMaintainedInvoiced",
                        "type": "number"
                      }
                    ]
                  }
                ]
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "If the total invoiced is different to the total completed, please provide the reason",
                "source": "totalInvoicedHabitatAugmentationMismatched",
                "type": "textarea",
                "rows": 4,
                "placeholder": ""
              }
            ]
          },
          {
            "addRowText": "Add a new area",
            "userAddedRows": true,
            "source": "habitatAugmentationAreas",
            "type": "repeat",
            "items": [
              {
                "type": "row",
                "items": [
                  {
                    "css": "span3 col-border-right",
                    "type": "col",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "relatedOutcomes",
                            "type": "selectOne",
                            "preLabel": "Which outcome statement/s does this activity relate to?"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "investmentPriorities2",
                            "preLabel": "Which investment priority does this activity relate to?",
                            "type": "select2Many"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "css": "span3 col-border-right",
                    "type": "col",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "invoicingThisActivity",
                            "preLabel": "Are you invoicing for this activity in this reporting period?",
                            "type": "selectOne"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "row",
                "css": "border-bottom",
                "items": [
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "initialOrMaintained",
                            "preLabel": "Initial or Maintenance Treatment?",
                            "type": "selectOne"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "noStructuresInstalled",
                            "preLabel": "Number of structures installed/maintained",
                            "type": "number"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Site/s of habitat augmentation",
                            "source": "sitesOfHabitatAugmentation",
                            "type": "feature"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "calculatedAreaTreatedHa",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            },
                            "readonly": "readonly"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "calculatedLengthTreatedKm",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            },
                            "readonly": "readonly"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Please attach mapping details",
                            "source": "extraMappingDetails",
                            "type": "document"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Actual area (ha) / length (km) of habitat augmentation",
                            "source": "areaTreatedHa",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "lengthTreatedKm",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Reason for actual being different to mapped amount",
                            "source": "mappingNotAlignedReason",
                            "type": "selectOne"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "placeholder": "Please enter the reason/s the mapping didn't align with the invoiced amount",
                            "source": "mappingNotAlignedComments",
                            "type": "textarea",
                            "rows": 5
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "columns": [
                  {
                    "title": "Activity start date",
                    "source": "activitiesStartDate",
                    "type": "date",
                    "width": "20%"
                  },
                  {
                    "title": "Activity end date",
                    "source": "activitiesEndDate",
                    "type": "date",
                    "width": "20%"
                  },
                  {
                    "width": "25%",
                    "title": "Type of habitat augmentation / installed",
                    "type": "col",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "habitatAugmentationType",
                            "type": "select2"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "otherHabitatAugmentationType",
                            "type": "textarea"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "width": "35%",
                    "source": "habitatAugmentationObjective",
                    "title": "Purpose of habitat augmentation",
                    "type": "textarea"
                  }
                ],
                "userAddedRows": true,
                "disableTableUpload": true,
                "source": "habitatAugmentationDetails",
                "type": "table"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "Optionally attach photos",
                "source": "photographicEvidence",
                "type": "image"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "Clarification, if needed",
                "type": "textarea",
                "rows": 4,
                "css": "span8",
                "source": "comments",
                "placeholder": "Clarification comments include information for your project manager about the service like:\n • any reported items that are not being invoiced (eg, over-achievement) \n • any extraneous circumstances that affected delivery of the service \n"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<p><b>Available Evidence</b></p>This field is mandatory for all projects as part of the invoicing process. Please list evidence you have retained for this service and provide information to where the evidence is stored (links/file location data). Refer to the Project Service Evidence Guide and the Project Service Summaries for information on the evidence requirements.<b style=\"color:red\">*</b>"
              },
              {
                "preLabel": "Data have been uploaded",
                "source": "dataUploaded",
                "type": "boolean"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "",
                "source": "projectAssuranceDetails",
                "type": "textarea",
                "rows": 4,
                "placeholder": "List the documentary evidence you have available for this project service. Include specifically, the document titles and location (e.g. internal IT network pathway, URLs) to assist with locating this material for future audits/assurance purposes."
              }
            ]
          },
          {
            "type": "table",
            "source": "assuranceDocuments",
            "userAddedRows": true,
            "disableTableUpload": true,
            "columns": [
              {
                "title": "Attached documents",
                "source": "attachments",
                "type": "document"
              }
            ]
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtHabitatAugmentation",
      "optional": true,
      "optionalQuestionText": null,
      "title": "Habitat augmentation",
      "collapsibleHeading": null,
      "name": "NHT - Habitat augmentation",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "dataModel": [
          {
            "name": "habitatConditionSurveys",
            "dataType": "list",
            "minSize": 1,
            "columns": [
              {
                "name": "relatedOutcomes",
                "dataType": "text",
                "description": "Select the outcome/s as defined in your MERI plan that this service was delivered to achieve.",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "value",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "context-path": "outcomes"
                    }
                  }
                }
              },
              {
                "dataType": "text",
                "name": "baselineOrIndicatorSurvey",
                "description": "",
                "constraints": [
                  "Baseline",
                  "Indicator"
                ],
                "validate": "required"
              },
              {
                "dataType": "text",
                "name": "surveyObjective",
                "description": "What the survey aim to capture? How will the information obtained from the survey be used?",
                "validate": "required,maxSize[3000]"
              },
              {
                "dataType": "number",
                "name": "numberOfSurveys",
                "validate": "required,min[1],max[1]",
                "defaultValue": 1,
                "readonly": true
              },
              {
                "dataType": "list",
                "name": "habitatConditionDataSets",
                "columns": [
                  {
                    "name": "dataSetId",
                    "entityType": "au.org.ala.ecodata.DataSetSummary",
                    "dataType": "text",
                    "description": "This section will require the Data Set Name so the Metadata fields in the Data Set Summary tab should be filled out before the Outcome Report is due. More than one dataset if relevant for this Project Baseline could be selected.",
                    "validate": "required",
                    "constraints": {
                      "textProperty": "name",
                      "valueProperty": "dataSetId",
                      "excludePath": "habitatConditionSurveys.habitatConditionDataSets.dataSetId",
                      "type": "pre-populated",
                      "config": {
                        "source": {
                          "context-path": "owner.custom.dataSets"
                        },
                        "filter": {
                          "namespace": "dataSet",
                          "expression": "dataSet.serviceId == 42 and dataSet.progress == 'finished' and dataSet.alreadyReported == false and baselineOrIndicatorSurvey == baselineIndicatorMapping.lookupValue(dataSet.type) and deepEquals(relatedOutcomes,dataSet.outcomesLabel)"
                        }
                      }
                    },
                    "behaviour": [
                      {
                        "type": "pre_populate",
                        "config": {
                          "waitForInitialisation": true,
                          "source": {
                            "url": "/site/geojson",
                            "params": [
                              {
                                "expression": "x=find(owner.custom.dataSets, \"dataSetId\", dataSetId); x.siteId",
                                "name": "id",
                                "type": "computed",
                                "required": true
                              }
                            ]
                          },
                          "target":  {
                            "type": "singleValue",
                            "name": "sitesCoveredForHabitatConditionSurvey"
                          }
                        }
                      }
                    ]
                  },
                  {
                    "name": "projectBaselines",
                    "dataType": "stringList",
                    "description": "Select the relevant Project Baseline as listed in the Monitoring Methodology section of the MERI Plan.",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.baselines"
                    },
                    "constraints": {
                      "textProperty": "baseline",
                      "valueProperty": "code",
                      "type": "pre-populated",
                      "excludePath": "projectBaselines",
                      "config": {
                        "source": {
                          "context-path": "owner.custom.details.baseline.rows"
                        }
                      }
                    }
                  },
                  {
                    "name": "investmentPriorities2",
                    "dataType": "stringList",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.investmentPriorities"
                    },
                    "constraints": {
                      "type": "pre-populated",
                      "config": {
                        "source": {
                          "params": [
                            {
                              "expression": "owner.projectId",
                              "name": "id",
                              "type": "computed"
                            }
                          ],
                          "url": "/project/listProjectInvestmentPriorities/"
                        }
                      }
                    }
                  },
                  {
                    "dataType": "text",
                    "name": "otherInvestmentPriority",
                    "behaviour": [
                      {
                        "type": "enable",
                        "condition": "\"Other\" in investmentPriorities2"
                      }
                    ]
                  },
                  {
                    "dataType": "date",
                    "name": "activitiesStartDate",
                    "description": "Specific the dates these events were held on.",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.startDate"
                    }
                  },
                  {
                    "dataType": "date",
                    "name": "activitiesEndDate",
                    "description": "Specific the dates these events were held on.",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.endDate"
                    }
                  },
                  {
                    "dataType": "feature",
                    "name": "sitesCoveredForHabitatConditionSurvey",
                    "description": "Mapping field to be done and Area (ha)/length (km) field be auto-calculated from mapping."
                  },
                  {
                    "computed": {
                      "expression": "$geom.areaHa(sitesCoveredForHabitatConditionSurvey)"
                    },
                    "dataType": "number",
                    "name": "calculatedAreaTreatedHa",
                    "units": "ha",
                    "decimalPlaces": 3,
                    "behaviour": [
                      {
                        "condition": "areaInvoicedTreatedHa > 0",
                        "type": "conditional_validation",
                        "value": {
                          "message": "The managed area must be mapped",
                          "validate": "required,min[0.0001]"
                        }
                      }
                    ]
                  },
                  {
                    "computed": {
                      "expression": "$geom.lengthKm(sitesCoveredForHabitatConditionSurvey)"
                    },
                    "dataType": "number",
                    "name": "calculatedLengthTreatedKm",
                    "units": "km",
                    "decimalPlaces": 3,
                    "behaviour": [
                      {
                        "condition": "lengthTreatedKm > 0",
                        "type": "conditional_validation",
                        "value": {
                          "message": "The managed length must be mapped",
                          "validate": "required,min[0.0001]"
                        }
                      }
                    ]
                  },
                  {
                    "defaultValue": {
                      "type": "computed",
                      "expression": "calculatedAreaTreatedHa"
                    },
                    "dataType": "number",
                    "name": "areaTreatedHa",
                    "description": "Manually enter correct figure for this reporting period if different to mapped value.",
                    "units": "ha",
                    "decimalPlaces": 3,
                    "validate": "required,min[0]"
                  },
                  {
                    "dataType": "text",
                    "name": "mappingNotAlignedReason",
                    "constraints": [
                      "Mapped area simplifies more complex area/s where work was undertaken during this period",
                      "Other"
                    ],
                    "validate": "required",
                    "behaviour": [
                      {
                        "condition": "not (within(areaTreatedHa, calculatedAreaTreatedHa, 0.1) and within(lengthTreatedKm, calculatedLengthTreatedKm, 0.1))",
                        "type": "if"
                      }
                    ]
                  },
                  {
                    "dataType": "text",
                    "name": "mappingNotAlignedComments",
                    "validate": "required,maxSize[100]",
                    "behaviour": [
                      {
                        "type": "visible",
                        "condition": "\"Other\" == mappingNotAlignedReason"
                      }
                    ]
                  },
                  {
                    "dataType": "document",
                    "name": "extraMappingDetails",
                    "validate": "required",
                    "description": "Please fill in the Mapped/Actual/Invoice fields before attaching a document here. If those fields match this field will be void. <br/>If any of these fields differ please attach your organisation's detailed map for the area, covered by this project service - during reporting period (include the scale measure for each map).",
                    "behaviour": [
                      {
                        "condition": "not (within(areaTreatedHa, calculatedAreaTreatedHa, 0.1) and within(lengthTreatedKm, calculatedLengthTreatedKm, 0.1))",
                        "type": "if"
                      }
                    ]
                  },
                  {
                    "defaultValue": {
                      "type": "computed",
                      "expression": "calculatedLengthTreatedKm"
                    },
                    "dataType": "number",
                    "name": "lengthTreatedKm",
                    "units": "km",
                    "decimalPlaces": 3
                  },
                  {
                    "dataType": "text",
                    "description": "Select the technique used to conduct the survey. If the EMSA Application tool was not used, you should select 'Other'.",
                    "name": "emsaProtocol",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.protocol"
                    },
                    "constraints": {
                      "textProperty": "label",
                      "valueProperty": "value",
                      "type": "pre-populated",
                      "config": {
                        "source": {
                          "context-path": "owner.protocols"
                        }
                      }
                    }
                  },
                  {
                    "dataType": "stringList",
                    "description": "Describe the technique (if Other) was selected.",
                    "name": "otherEmsaProtocol",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.methods"
                    }
                  },
                  {
                    "dataType": "text",
                    "name": "surveyMethodology",
                    "description": "Provide more details on what is being done.",
                    "validate": "required,maxSize[3000]",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.methodDescription"
                    }
                  },
                  {
                    "dataType": "text",
                    "name": "invoicingThisActivity",
                    "constraints": [
                      "Yes",
                      "No"
                    ],
                    "validate": "required"
                  },
                  {
                    "columns": [
                      {
                        "dataType": "species",
                        "name": "species",
                        "validate": "required"
                      },
                      {
                        "dataType": "text",
                        "name": "typesOfHabitat",
                        "description": "",
                        "constraints": [
                          "Desert",
                          "Grassland/Savanna",
                          "Bush/Forest",
                          "Subterranean",
                          "Marsh/Swamps",
                          "Rivers/Streams/Wetlands",
                          "Coastal areas",
                          "Marine areas",
                          "Other"
                        ],
                        "validate": "required"
                      },
                      {
                        "dataType": "text",
                        "name": "habitatCondition",
                        "validate": "maxSize[300]"
                      }
                    ],
                    "dataType": "list",
                    "name": "habitatConditionSurveySpeciesTable"
                  }
                ],
                "minSize": 1
              }
            ]
          },
          {
            "dataType": "lookupTable",
            "name": "baselineIndicatorMapping",
            "config": {
              "source": {
                "literal": {
                  "Baseline dataset associated with a project outcome": "Baseline",
                  "Project progress dataset that is tracking change against an established project baseline dataset": "Indicator"
                }
              }
            }
          },
          {
            "allowRowDelete": "false",
            "columns": [
              {
                "dataType": "text",
                "name": "participationIndividualsOrGroups",
                "description": "Once Individuals or groups is selected, the related number field in the next two columns will become editable to report.",
                "constraints": [
                  "Individuals",
                  "Groups"
                ],
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "participationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "participationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ]
              },
              {
                "dataType": "number",
                "name": "firstNationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "param": {
                      "expression": "participationIndividualNumber",
                      "type": "computed"
                    },
                    "rule": "max"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "firstNationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "param": {
                      "expression": "participationGroupNumber",
                      "type": "computed"
                    },
                    "rule": "max",
                    "message": "The number of first nation participants cannot be greater than the total number of participants"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "participationDetails",
                "validate": "required, maxSize[3000]"
              }
            ],
            "dataType": "list",
            "name": "participationInformationTableHca"
          },
          {
            "dataType": "number",
            "name": "totalSurveyBaseline",
            "validate": "min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(habitatConditionSurveys, \"baselineOrIndicatorSurvey == 'Baseline' ? 1 : 0\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalSurveyBaselineInvoiced",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalSurveyBaseline",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": ""
          },
          {
            "dataType": "number",
            "name": "totalSurveyIndicator",
            "validate": "min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(habitatConditionSurveys, \"baselineOrIndicatorSurvey == 'Indicator' ? 1 : 0\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalSurveyIndicatorInvoiced",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalSurveyIndicator",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": ""
          },
          {
            "dataType": "text",
            "name": "totalInvoicedHabitatConditionMismatched",
            "description": "Please provide the reason/s why you are not invoicing for the same number that have been completed and delivered, e.g. the personnel and equipment were available to deliver more than was contracted.",
            "validate": "maxSize[400],required",
            "behaviour": [
              {
                "condition": "totalSurveyIndicatorInvoiced < totalSurveyIndicator or totalSurveyBaselineInvoiced < totalSurveyBaseline",
                "type": "enable"
              }
            ]
          },
          {
            "dataType": "text",
            "name": "comments",
            "validate": "maxSize[1500]"
          },
          {
            "dataType": "image",
            "name": "photographicEvidence"
          },
          {
            "dataType": "boolean",
            "name": "dataUploaded",
            "description": ""
          },
          {
            "dataType": "text",
            "name": "projectAssuranceDetails",
            "description": "",
            "validate": "required,maxSize[5000]"
          },
          {
            "dataType": "list",
            "name": "assuranceDocuments",
            "columns": [
              {
                "dataType": "document",
                "name": "attachments",
                "description": "Please attach any Evidence of Service Delivery here."
              }
            ]
          }
        ],
        "modelName": "NHT - Habitat condition assessment survey",
        "title": "Habitat Condition Assessment Survey",
        "viewModel": [
          {
            "type": "section",
            "items": [
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<h3>Participation information</h3>"
                  }
                ]
              },
              {
                "disableTableUpload": true,
                "columns": [
                  {
                    "width": "10%",
                    "source": "participationIndividualsOrGroups",
                    "title": "Are individuals or groups delivering this service?",
                    "type": "selectOne"
                  },
                  {
                    "width": "20%",
                    "type": "col",
                    "title": "Total number of people delivering this service <br>(including First Nations people)<b style=\"color:red\">*</b>",
                    "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                    "items": [
                      {
                        "source": "participationIndividualNumber",
                        "type": "number"
                      },
                      {
                        "source": "participationGroupNumber",
                        "type": "selectOne"
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "width": "20%",
                    "title": "Total number of First Nations people delivering this service<b style=\"color:red\">*</b>",
                    "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                    "items": [
                      {
                        "source": "firstNationIndividualNumber",
                        "type": "number"
                      },
                      {
                        "source": "firstNationGroupNumber",
                        "type": "selectOne"
                      }
                    ]
                  },
                  {
                    "width": "20%",
                    "source": "participationDetails",
                    "rows": 4,
                    "title": "If no First Nations people participated in the delivery of this service, <br>what are the reasons? If there was participation, please provide details.",
                    "helpText": "If there were no First Nations people participating in the delivery of this service, please explain the reasons. If there were First Nations people involved, please outline how they were involved.",
                    "type": "textarea"
                  }
                ],
                "source": "participationInformationTableHca",
                "type": "table"
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<h3>Survey information</h3><p><b>Before completing this section, please ensure you have created a Data Set Summary information for every data set produced by the surveys you intend to report</b></p><ul><li>Each survey reported must relate to a combination of outcomes as described in your MERI plan</li><li>Each Data Set Summary recorded for a survey must be addressing the same outcomes as selected for the survey</li><li>If a survey produced more than one data set, use the New Data Set button to add each Data Set Summary under your survey</li><li>A single survey can be made up of multiple dataset</li></ul>"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<h3>Totals Summary</h3>"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "col",
                    "css": "span4 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(i) Total Number of baseline habitat condition assessment surveys completed for this reporting period",
                            "source": "totalSurveyBaseline",
                            "type": "number"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(ii) Total Number of baseline habitat condition assessment surveys <u><i>invoiced</i></u> for this reporting period",
                            "source": "totalSurveyBaselineInvoiced",
                            "type": "number"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span4 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(iii)  Total Number of  indicator habitat condition assessment surveys completed for this reporting period",
                            "source": "totalSurveyIndicator",
                            "type": "number"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(iv) Total Number of indicator habitat condition assessment surveys <u><i>invoiced</i></u> for this reporting period",
                            "source": "totalSurveyIndicatorInvoiced",
                            "type": "number"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "If the total invoiced is different to the total completed, please provide the reason",
                    "source": "totalInvoicedHabitatConditionMismatched",
                    "type": "textarea",
                    "rows": 4,
                    "placeholder": ""
                  }
                ]
              },
              {
                "addRowText": "Add survey",
                "removeRowText": "Delete this survey",
                "userAddedRows": true,
                "source": "habitatConditionSurveys",
                "type": "repeat",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "type": "col",
                        "items": [
                          {
                            "source": "relatedOutcomes",
                            "type": "selectOne",
                            "preLabel": "Which outcome statement/s relates to this survey?"
                          }
                        ]
                      },
                      {
                        "type": "col",
                        "items": [
                          {
                            "source": "baselineOrIndicatorSurvey",
                            "type": "selectOne",
                            "preLabel": "Baseline survey or indicator (follow-up) survey?"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "source": "surveyObjective",
                        "preLabel": "Survey objective",
                        "type": "text"
                      }
                    ]
                  },
                  {
                    "type": "repeat",
                    "source": "habitatConditionDataSets",
                    "userAddedRows": true,
                    "addRowText": "New data set",
                    "removeRowText": "Delete this data set",
                    "items": [
                      {
                        "type": "row",
                        "css": "border-bottom",
                        "items": [
                          {
                            "type": "col",
                            "items": [
                              {
                                "source": "dataSetId",
                                "type": "selectOne",
                                "preLabel": "Please select the data set produced by this survey.  Note it must have already been entered on the Data Set Summary tab."
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "projectBaselines",
                                    "type": "selectMany",
                                    "preLabel": "Which project baseline/s relate to this survey?",
                                    "readonly": "readonly"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "investmentPriorities2",
                                    "preLabel": "Which investment priority does this activity relate to?",
                                    "type": "select2Many"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Activity start date",
                                    "source": "activitiesStartDate",
                                    "type": "date"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Activity end date",
                                    "source": "activitiesEndDate",
                                    "type": "date"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Sites covered by habitat condition assessment survey",
                                    "source": "sitesCoveredForHabitatConditionSurvey",
                                    "type": "feature"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "calculatedAreaTreatedHa",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    },
                                    "readonly": "readonly"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "calculatedLengthTreatedKm",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    },
                                    "readonly": "readonly"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Please attach mapping details",
                                    "source": "extraMappingDetails",
                                    "type": "document"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Actual area (ha) / length (km) covered by habitat condition assessment survey",
                                    "source": "areaTreatedHa",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    }
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "lengthTreatedKm",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    }
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Reason for actual being different to mapped amount",
                                    "source": "mappingNotAlignedReason",
                                    "type": "selectOne"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "placeholder": "Please enter the reason/s the mapping didn't align with the invoiced amount",
                                    "source": "mappingNotAlignedComments",
                                    "type": "textarea",
                                    "rows": 5
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Survey technique",
                                    "source": "emsaProtocol",
                                    "type": "selectOne",
                                    "readonly": "readonly"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Survey technique (if Other)",
                                    "source": "otherEmsaProtocol",
                                    "type": "select2Many"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "surveyMethodology",
                                    "preLabel": "Survey methodology",
                                    "type": "text"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "invoicingThisActivity",
                                    "preLabel": "Are you invoicing for this activity in this reporting period?",
                                    "type": "selectOne"
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "columns": [
                          {
                            "width": "40%",
                            "source": "typesOfHabitat",
                            "title": "Types of habitat",
                            "type": "selectOne"
                          },
                          {
                            "width": "60%",
                            "source": "habitatCondition",
                            "title": "Condition of habitat",
                            "type": "text"
                          }
                        ],
                        "userAddedRows": true,
                        "disableTableUpload": true,
                        "source": "habitatConditionSurveySpeciesTable",
                        "type": "table"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Optionally attach photos",
                    "source": "photographicEvidence",
                    "type": "image"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Clarification, if needed",
                    "type": "textarea",
                    "rows": 4,
                    "css": "span8",
                    "source": "comments",
                    "placeholder": "Clarification comments include information for your project manager about the service like:\n • any reported items that are not being invoiced (eg, over-achievement) \n • any extraneous circumstances that affected delivery of the service \n"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<p><b>Available Evidence</b></p>This field is mandatory for all projects as part of the invoicing process. Please list evidence you have retained for this service and provide information to where the evidence is stored (links/file location data). Refer to the Project Service Evidence Guide and the Project Service Summaries for information on the evidence requirements.<b style=\"color:red\">*</b>"
                  },
                  {
                    "preLabel": "Data have been uploaded",
                    "source": "dataUploaded",
                    "type": "boolean"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "",
                    "source": "projectAssuranceDetails",
                    "type": "textarea",
                    "rows": 4,
                    "placeholder": "List the documentary evidence you have available for this project service. Include specifically, the document titles and location (e.g. internal IT network pathway, URLs) to assist with locating this material for future audits/assurance purposes."
                  }
                ]
              },
              {
                "type": "table",
                "source": "assuranceDocuments",
                "userAddedRows": true,
                "disableTableUpload": true,
                "columns": [
                  {
                    "title": "Attached documents",
                    "source": "attachments",
                    "type": "document"
                  }
                ]
              }
            ]
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtHabitatConditionAssessmentSurvey",
      "optional": true,
      "optionalQuestionText": null,
      "title": "Habitat condition assessment",
      "collapsibleHeading": null,
      "name": "NHT - Habitat condition assessment",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "title": "Identifying and Prioritising the Location of Potential Sites",
        "modelName": "NHT - Identifying sites",
        "dataModel": [
          {
            "allowRowDelete": "false",
            "columns": [
              {
                "dataType": "text",
                "name": "participationIndividualsOrGroups",
                "description": "Once Individuals or groups is selected, the related number field in the next two columns will become editable to report.",
                "constraints": [
                  "Individuals",
                  "Groups"
                ],
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "participationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "participationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ]
              },
              {
                "dataType": "number",
                "name": "firstNationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "param": {
                      "expression": "participationIndividualNumber",
                      "type": "computed"
                    },
                    "rule": "max"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "firstNationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "param": {
                      "expression": "participationGroupNumber",
                      "type": "computed"
                    },
                    "rule": "max",
                    "message": "The number of first nation participants cannot be greater than the total number of participants"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "participationDetails",
                "validate": "required, maxSize[3000]"
              }
            ],
            "dataType": "list",
            "name": "participationInformationTableIpl"
          },
          {
            "columns": [
              {
                "dataType": "text",
                "name": "sitesHaveBeenIdentified",
                "description": "",
                "validate": "required,maxSize[300]"
              },
              {
                "dataType": "text",
                "name": "methodsUsedToIdentify",
                "description": "",
                "validate": "required,maxSize[300]"
              },
              {
                "name": "relatedOutcomes",
                "dataType": "text",
                "description": "Select the outcome/s as defined in your MERI plan that this service was delivered to achieve.",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "label",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "url": "/project/outcomesByScores",
                      "params": [
                        {
                          "expression": "owner.projectId",
                          "name": "id",
                          "type": "computed"
                        },
                        {
                          "expression": "scores",
                          "name": "scoreIds",
                          "type": "computed"
                        }
                      ]
                    }
                  }
                }
              },
              {
                "name": "investmentPriorities2",
                "dataType": "text",
                "description": "",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "value",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "context-path": "owner.investmentPriorities"
                    }
                  }
                }
              },
              {
                "dataType": "text",
                "name": "otherInvestmentPriority",
                "description": "Describe the investment priority (if Other) was selected",
                "behaviour": [
                  {
                    "type": "enable",
                    "condition": "\"Other\" in investmentPriorities2"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "invoicingThisActivity",
                "constraints": [
                  "Yes",
                  "No"
                ],
                "validate": "required"
              },
              {
                "columns": [
                  {
                    "dataType": "feature",
                    "name": "sitesTreated",
                    "validate": [
                      {
                        "rule": "required"
                      }
                    ]
                  },
                  {
                    "computed": {
                      "expression": "$geom.areaHa(sitesTreated)"
                    },
                    "dataType": "number",
                    "name": "calculatedAreaTreatedHa",
                    "units": "ha",
                    "decimalPlaces": 3,
                    "behaviour": [
                      {
                        "condition": "areaInvoicedTreatedHa > 0",
                        "type": "conditional_validation",
                        "value": {
                          "message": "The managed area must be mapped",
                          "validate": "required,min[0.0001]"
                        }
                      }
                    ]
                  },
                  {
                    "computed": {
                      "expression": "$geom.lengthKm(sitesTreated)"
                    },
                    "dataType": "number",
                    "name": "calculatedLengthTreatedKm",
                    "units": "km",
                    "decimalPlaces": 3,
                    "behaviour": [
                      {
                        "condition": "lengthTreatedKm > 0",
                        "type": "conditional_validation",
                        "value": {
                          "message": "The managed length must be mapped",
                          "validate": "required,min[0.0001]"
                        }
                      }
                    ]
                  },
                  {
                    "defaultValue": {
                      "type": "computed",
                      "expression": "calculatedAreaTreatedHa"
                    },
                    "dataType": "number",
                    "name": "areaTreatedHa",
                    "units": "ha",
                    "decimalPlaces": 3,
                    "validate": [
                      {
                        "rule": "required"
                      },
                      {
                        "rule": "min[0]"
                      }
                    ]
                  },
                  {
                    "dataType": "text",
                    "name": "mappingNotAlignedReason",
                    "constraints": [
                      "Mapped area simplifies more complex area/s where work was undertaken during this period",
                      "Other"
                    ],
                    "validate": "required",
                    "behaviour": [
                      {
                        "condition": "not (within(areaTreatedHa, calculatedAreaTreatedHa, 0.1) and within(lengthTreatedKm, calculatedLengthTreatedKm, 0.1))",
                        "type": "visible"
                      }
                    ]
                  },
                  {
                    "dataType": "text",
                    "name": "mappingNotAlignedComments",
                    "validate": "required,maxSize[100]",
                    "behaviour": [
                      {
                        "type": "visible",
                        "condition": "\"Other\" == mappingNotAlignedReason"
                      }
                    ]
                  },
                  {
                    "dataType": "document",
                    "name": "extraMappingDetails",
                    "validate": "required",
                    "description": "Please fill in the Mapped/Actual/Invoice fields before attaching a document here. If those fields match this field will be void. <br/>If any of these fields differ please attach your organisation's detailed map for the area, covered by this project service - during reporting period (include the scale measure for each map).",
                    "behaviour": [
                      {
                        "condition": "not (within(areaTreatedHa, calculatedAreaTreatedHa, 0.1) and within(lengthTreatedKm, calculatedLengthTreatedKm, 0.1))",
                        "type": "visible"
                      }
                    ]
                  },
                  {
                    "dataType": "text",
                    "name": "identifiedSitesName",
                    "description": "",
                    "validate": "required,maxSize[300]"
                  },
                  {
                    "dataType": "number",
                    "name": "areaInvoicedTreatedHa",
                    "units": "ha",
                    "decimalPlaces": 3,
                    "validate": [
                      {
                        "rule": "required"
                      },
                      {
                        "rule": "min[0]"
                      },
                      {
                        "rule": "max",
                        "param": {
                          "type": "computed",
                          "expression": "areaTreatedHa"
                        }
                      }
                    ]
                  },
                  {
                    "dataType": "text",
                    "name": "invoicedNotActualReason",
                    "constraints": [
                      "Work was undertaken over a greater area than will be invoiced for",
                      "Other"
                    ],
                    "validate": "required",
                    "behaviour": [
                      {
                        "condition": "roundTo(areaTreatedHa, 2) != roundTo(areaInvoicedTreatedHa, 2)",
                        "type": "visible"
                      }
                    ]
                  },
                  {
                    "dataType": "text",
                    "name": "invoicedNotActualComments",
                    "behaviour": [
                      {
                        "type": "visible",
                        "condition": "\"Other\" == invoicedNotActualReason"
                      }
                    ],
                    "validate": "required,maxSize[300]"
                  },
                  {
                    "defaultValue": {
                      "type": "computed",
                      "expression": "$geom.lengthKm(sitesTreated)"
                    },
                    "dataType": "number",
                    "name": "lengthTreatedKm",
                    "units": "km",
                    "decimalPlaces": 3
                  },
                  {
                    "dataType": "text",
                    "name": "assessedSitesName",
                    "description": "",
                    "validate": "required,maxSize[300]"
                  },
                  {
                    "dataType": "text",
                    "name": "outcomesAchievement",
                    "description": "",
                    "validate": "required,maxSize[300]"
                  }
                ],
                "dataType": "list",
                "name": "potentialSitesSurveyBaselineTable"
              }
            ],
            "dataType": "list",
            "name": "potentialSiteSurveys",
            "minSize": 1
          },
          {
            "dataType": "number",
            "name": "totalPotentialSites",
            "validate": "min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(potentialSiteSurveys, \"relatedOutcomes ? 1 : 0\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalPotentialSitesInvoiced",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalPotentialSites",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": ""
          },
          {
            "dataType": "text",
            "name": "totalInvoicedIdentifyingMismatched",
            "description": "Please provide the reason/s why you are not invoicing for the same number that have been completed and delivered, e.g. the personnel and equipment were available to deliver more than was contracted.",
            "validate": "maxSize[400],required",
            "behaviour": [
              {
                "condition": "totalPotentialSitesInvoiced < totalPotentialSites",
                "type": "enable"
              }
            ]
          },
          {
            "dataType": "text",
            "name": "comments",
            "validate": "maxSize[1500]"
          },
          {
            "dataType": "image",
            "name": "photographicEvidence"
          },
          {
            "dataType": "boolean",
            "name": "dataUploaded",
            "description": "<ul><li>Tick box to confirm data has been uploaded</li><li>URL Link (mandatory if below is ticked) in available evidence</li></ul>"
          },
          {
            "name": "projectAssuranceDetails",
            "dataType": "text",
            "validate": "required,maxSize[5000]"
          },
          {
            "dataType": "list",
            "name": "assuranceDocuments",
            "columns": [
              {
                "dataType": "document",
                "name": "attachments",
                "description": "Please attach any Evidence of Service Delivery here."
              }
            ]
          }
        ],
        "viewModel": [
          {
            "type": "section",
            "items": [
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<h3>Participation information</h3>"
                  }
                ]
              },
              {
                "disableTableUpload": true,
                "columns": [
                  {
                    "width": "10%",
                    "source": "participationIndividualsOrGroups",
                    "title": "Are individuals or groups delivering this service?",
                    "type": "selectOne"
                  },
                  {
                    "width": "20%",
                    "type": "col",
                    "title": "Total number of people delivering this service <br>(including First Nations people)<b style=\"color:red\">*</b>",
                    "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                    "items": [
                      {
                        "source": "participationIndividualNumber",
                        "type": "number"
                      },
                      {
                        "source": "participationGroupNumber",
                        "type": "selectOne"
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "width": "20%",
                    "title": "Total number of First Nations people delivering this service<b style=\"color:red\">*</b>",
                    "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                    "items": [
                      {
                        "source": "firstNationIndividualNumber",
                        "type": "number"
                      },
                      {
                        "source": "firstNationGroupNumber",
                        "type": "selectOne"
                      }
                    ]
                  },
                  {
                    "width": "20%",
                    "source": "participationDetails",
                    "rows": 4,
                    "title": "If no First Nations people participated in the delivery of this service, <br>what are the reasons? If there was participation, please provide details.",
                    "helpText": "If there were no First Nations people participating in the delivery of this service, please explain the reasons. If there were First Nations people involved, please outline how they were involved.",
                    "type": "textarea"
                  }
                ],
                "source": "participationInformationTableIpl",
                "type": "table"
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<h3>Totals Summary</h3>"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "col",
                    "css": "span4 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(i) Total number of potential sites assessed during this reporting period",
                            "source": "totalPotentialSites",
                            "type": "number"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span4 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(ii) Total number of potential sites assessed <u><i>invoiced</i></u> for during this reporting period",
                            "source": "totalPotentialSitesInvoiced",
                            "type": "number"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "If the total invoiced is different to the total completed, please provide the reason",
                    "source": "totalInvoicedIdentifyingMismatched",
                    "type": "textarea",
                    "rows": 4,
                    "placeholder": ""
                  }
                ]
              },
              {
                "addRowText": "Add a new site",
                "userAddedRows": true,
                "source": "potentialSiteSurveys",
                "type": "repeat",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "css": "span3",
                        "type": "col",
                        "items": [
                          {
                            "type": "row",
                            "items": [
                              {
                                "source": "relatedOutcomes",
                                "type": "selectOne",
                                "preLabel": "Which outcome statement/s does this activity relate to?"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "col",
                        "css": "span3 col-border-right",
                        "items": [
                          {
                            "type": "row",
                            "items": [
                              {
                                "source": "investmentPriorities2",
                                "preLabel": "Which investment priority does this activity relate to?",
                                "type": "select2Many"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "css": "span3",
                        "type": "col",
                        "items": [
                          {
                            "type": "row",
                            "items": [
                              {
                                "source": "invoicingThisActivity",
                                "preLabel": "Are you invoicing for this activity in this reporting period?",
                                "type": "selectOne"
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "css": "span3",
                        "type": "col",
                        "items": [
                          {
                            "type": "row",
                            "items": [
                              {
                                "source": "sitesHaveBeenIdentified",
                                "preLabel": "What sites have been identified?",
                                "type": "text"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "col",
                        "css": "span3 col-border-right",
                        "items": [
                          {
                            "type": "row",
                            "items": [
                              {
                                "source": "methodsUsedToIdentify",
                                "preLabel": "What method/s were used to identify and prioritise?",
                                "type": "text"
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "columns": [
                      {
                        "width": "20%",
                        "title": "Identified and prioritised site",
                        "type": "col",
                        "items": [
                          {
                            "source": "sitesTreated",
                            "type": "feature"
                          },
                          {
                            "source": "calculatedAreaTreatedHa",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            },
                            "readonly": "readonly"
                          },
                          {
                            "source": "calculatedLengthTreatedKm",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            },
                            "readonly": "readonly"
                          },
                          {
                            "type": "row",
                            "items": [
                              {
                                "preLabel": "Please attach mapping details",
                                "source": "extraMappingDetails",
                                "type": "document"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "width": "20%",
                        "source": "identifiedSitesName",
                        "title": "Name of identified and prioritised site",
                        "type": "textarea"
                      },
                      {
                        "width": "20%",
                        "type": "col",
                        "title": "Assessed site",
                        "helpText": "",
                        "items": [
                          {
                            "source": "areaTreatedHa",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          },
                          {
                            "source": "lengthTreatedKm",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          },
                          {
                            "type": "row",
                            "items": [
                              {
                                "preLabel": "Reason for actual being different to mapped amount",
                                "source": "mappingNotAlignedReason",
                                "type": "selectOne"
                              }
                            ]
                          },
                          {
                            "type": "row",
                            "items": [
                              {
                                "placeholder": "Please enter the reason/s the mapping didn't align with the invoiced amount",
                                "source": "mappingNotAlignedComments",
                                "type": "textarea",
                                "rows": 5
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "width": "20%",
                        "source": "assessedSitesName",
                        "title": "Name of assessed site",
                        "type": "text"
                      },
                      {
                        "width": "20%",
                        "source": "outcomesAchievement",
                        "title": "How do they contribute to the achievement of the outcome statement/s?",
                        "type": "textarea"
                      }
                    ],
                    "userAddedRows": true,
                    "disableTableUpload": true,
                    "source": "potentialSitesSurveyBaselineTable",
                    "type": "table"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Optionally attach photos",
                    "source": "photographicEvidence",
                    "type": "image"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Clarification, if needed",
                    "type": "textarea",
                    "rows": 4,
                    "css": "span8",
                    "source": "comments",
                    "placeholder": "Clarification comments include information for your project manager about the service like:\n • any reported items that are not being invoiced (eg, over-achievement) \n • any extraneous circumstances that affected delivery of the service \n"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<p><b>Available Evidence</b></p>This field is mandatory for all projects as part of the invoicing process. Please list evidence you have retained for this service and provide information to where the evidence is stored (links/file location data). Refer to the Project Service Evidence Guide and the Project Service Summaries for information on the evidence requirements.<b style=\"color:red\">*</b>"
                  },
                  {
                    "preLabel": "Data have been uploaded",
                    "source": "dataUploaded",
                    "type": "boolean"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "",
                    "source": "projectAssuranceDetails",
                    "type": "textarea",
                    "rows": 4,
                    "placeholder": "List the documentary evidence you have available for this project service. Include specifically, the document titles and location (e.g. internal IT network pathway, URLs) to assist with locating this material for future audits/assurance purposes."
                  }
                ]
              },
              {
                "type": "table",
                "source": "assuranceDocuments",
                "userAddedRows": true,
                "disableTableUpload": true,
                "columns": [
                  {
                    "title": "Attached documents",
                    "source": "attachments",
                    "type": "document"
                  }
                ]
              }
            ]
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtIdentifyingSites",
      "optional": true,
      "optionalQuestionText": null,
      "title": "Identifying and Prioritising the Location of Potential Sites",
      "collapsibleHeading": null,
      "name": "NHT - Identifying sites",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "dataModel": [
          {
            "allowRowDelete": "false",
            "columns": [
              {
                "dataType": "text",
                "name": "participationIndividualsOrGroups",
                "description": "Once Individuals or groups is selected, the related number field in the next two columns will become editable to report.",
                "constraints": [
                  "Individuals",
                  "Groups"
                ],
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "participationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "participationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ]
              },
              {
                "dataType": "number",
                "name": "firstNationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "param": {
                      "expression": "participationIndividualNumber",
                      "type": "computed"
                    },
                    "rule": "max"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "firstNationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "param": {
                      "expression": "participationGroupNumber",
                      "type": "computed"
                    },
                    "rule": "max",
                    "message": "The number of first nation participants cannot be greater than the total number of participants"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "participationDetails",
                "validate": "required, maxSize[3000]"
              }
            ],
            "dataType": "list",
            "name": "participationInformationTableIfm"
          },
          {
            "columns": [
              {
                "columns": [
                  {
                    "dataType": "feature",
                    "name": "sitesBenefittedByFireAction"
                  },
                  {
                    "computed": {
                      "expression": "$geom.areaHa(sitesBenefittedByFireAction)"
                    },
                    "dataType": "number",
                    "name": "areaBenefittedByFireActionHa"
                  },
                  {
                    "dataType": "text",
                    "name": "evidenceOfBenefit",
                    "validate": "maxSize[300]"
                  }
                ],
                "dataType": "list",
                "name": "fireManagementDetails"
              },
              {
                "dataType": "text",
                "name": "initialOrFollowup",
                "constraints": [
                  "Initial",
                  "Follow-up"
                ],
                "validate": "required"
              },
              {
                "dataType": "feature",
                "name": "sitesTreatedByFireManagement",
                "description": "Mapping field to be done and Area (ha) field be auto-calculated from mapping."
              },
              {
                "computed": {
                  "expression": "$geom.areaHa(sitesTreatedByFireManagement)"
                },
                "dataType": "number",
                "name": "calculatedAreaTreatedHa",
                "units": "ha",
                "decimalPlaces": 3
              },
              {
                "computed": {
                  "expression": "$geom.lengthKm(sitesTreatedByFireManagement)"
                },
                "dataType": "number",
                "name": "calculatedLengthTreatedKm",
                "units": "km",
                "decimalPlaces": 3,
                "behaviour": [
                  {
                    "condition": "lengthTreatedKm > 0",
                    "type": "conditional_validation",
                    "value": {
                      "message": "The managed length must be mapped",
                      "validate": "required,min[0.0001]"
                    }
                  }
                ]
              },
              {
                "defaultValue": {
                  "type": "computed",
                  "expression": "calculatedAreaTreatedHa"
                },
                "dataType": "number",
                "name": "areaTreatedHa",
                "description": "Manually enter correct figure for this reporting period if different to mapped value.",
                "units": "ha",
                "decimalPlaces": 3,
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedReason",
                "constraints": [
                  "Mapped area simplifies more complex area/s where work was undertaken during this period",
                  "Other"
                ],
                "validate": "required",
                "behaviour": [
                  {
                    "condition": "not (within(areaTreatedHa, calculatedAreaTreatedHa, 0.1) and within(lengthTreatedKm, calculatedLengthTreatedKm, 0.1))",
                    "type": "if"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedComments",
                "validate": "required,maxSize[100]",
                "behaviour": [
                  {
                    "type": "visible",
                    "condition": "\"Other\" == mappingNotAlignedReason"
                  }
                ]
              },
              {
                "dataType": "document",
                "name": "extraMappingDetails",
                "validate": "required",
                "description": "Please fill in the Mapped/Actual/Invoice fields before attaching a document here. If those fields match this field will be void. <br/>If any of these fields differ please attach your organisation's detailed map for the area, covered by this project service - during reporting period (include the scale measure for each map).",
                "behaviour": [
                  {
                    "condition": "not (within(areaTreatedHa, calculatedAreaTreatedHa, 0.1) and within(lengthTreatedKm, calculatedLengthTreatedKm, 0.1))",
                    "type": "if"
                  }
                ]
              },
              {
                "defaultValue": {
                  "type": "computed",
                  "expression": "calculatedLengthTreatedKm"
                },
                "dataType": "number",
                "name": "lengthTreatedKm",
                "units": "km",
                "decimalPlaces": 3
              },
              {
                "dataType": "text",
                "name": "fireManagementType",
                "description": "",
                "constraints": [
                  "Cultural burn",
                  "Ecological burn",
                  "Grading",
                  "Hazard reduction burn",
                  "Herbicide",
                  "Slashing",
                  "Other"
                ],
                "validate": "required"
              },
              {
                "dataType": "text",
                "name": "otherFireManagementType",
                "behaviour": [
                  {
                    "condition": "fireManagementType == \"Other\"",
                    "type": "enable"
                  }
                ],
                "validate": "required,maxSize[100]"
              },
              {
                "dataType": "feature",
                "name": "sitesBenefittedByFireAction"
              },
              {
                "computed": {
                  "expression": "$geom.areaHa(sitesBenefittedByFireAction)"
                },
                "dataType": "number",
                "name": "areaBenefittedByFireActionHa2",
                "units": "ha",
                "decimalPlaces": 3
              },
              {
                "dataType": "text",
                "name": "evidenceOfBenefit",
                "validate": "maxSize[300]"
              },
              {
                "name": "relatedOutcomes",
                "dataType": "text",
                "description": "Select the outcome/s as defined in your MERI plan that this service was delivered to achieve.",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "value",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "context-path": "outcomes"
                    }
                  }
                }
              },
              {
                "name": "investmentPriorities2",
                "dataType": "text",
                "description": "",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "value",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "context-path": "owner.investmentPriorities"
                    }
                  }
                }
              },
              {
                "dataType": "text",
                "name": "otherInvestmentPriority",
                "behaviour": [
                  {
                    "type": "enable",
                    "condition": "\"Other\" in investmentPriorities2"
                  }
                ]
              }
            ],
            "dataType": "list",
            "name": "fireManagementAreasControlled"
          },
          {
            "dataType": "number",
            "name": "totalAreaTreatedFireMgmtInitial",
            "validate": "min[0]",
            "decimalPlaces": 3,
            "computed": {
              "expression": "sum(fireManagementAreasControlled, \"initialOrFollowup == 'Initial' ? areaTreatedHa : 0\")"
            }
          },
          {
            "dataType": "number",
            "decimalPlaces": 3,
            "name": "totalAreaTreatedFireMgmtInitialInvoiced",
            "description": "Manually enter if values have decimal points e.g. 0.350 or 2.545",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalAreaTreatedFireMgmtInitial",
                  "type": "computed",
                  "decimalPlaces": 3
                },
                "rule": "max"
              }
            ],
            "defaultValue": ""
          },
          {
            "dataType": "number",
            "name": "totalAreaTreatedFireMgmtFollowup",
            "validate": "min[0]",
            "decimalPlaces": 3,
            "computed": {
              "expression": "sum(fireManagementAreasControlled, \"initialOrFollowup == 'Follow-up' ? areaTreatedHa : 0\")"
            }
          },
          {
            "dataType": "number",
            "decimalPlaces": 3,
            "name": "totalAreaTreatedFireMgmtFollowupInvoiced",
            "description": "Manually enter if values have decimal points e.g. 0.350 or 2.545",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalAreaTreatedFireMgmtFollowup",
                  "type": "computed",
                  "decimalPlaces": 3
                },
                "rule": "max"
              }
            ],
            "defaultValue": ""
          },
          {
            "dataType": "text",
            "name": "totalInvoicedFireMgmtMismatched",
            "description": "Please provide the reason/s why you are not invoicing for the same number that have been completed and delivered, e.g. the personnel and equipment were available to deliver more than was contracted.",
            "validate": "maxSize[400],required",
            "behaviour": [
              {
                "condition": "totalAreaTreatedFireMgmtInitialInvoiced < totalAreaTreatedFireMgmtInitial or totalAreaTreatedFireMgmtFollowupInvoiced < totalAreaTreatedFireMgmtFollowup",
                "type": "enable"
              }
            ]
          },
          {
            "dataType": "text",
            "name": "comments",
            "validate": "maxSize[1500]"
          },
          {
            "dataType": "image",
            "name": "photographicEvidence"
          },
          {
            "dataType": "boolean",
            "name": "dataUploaded",
            "description": "<ul><li>Tick box to confirm data has been uploaded</li><li>URL Link (mandatory if below is ticked) in available evidence</li></ul>"
          },
          {
            "name": "projectAssuranceDetails",
            "dataType": "text",
            "validate": "required,maxSize[5000]"
          },
          {
            "dataType": "list",
            "name": "assuranceDocuments",
            "columns": [
              {
                "dataType": "document",
                "name": "attachments",
                "description": "Please attach any Evidence of Service Delivery here."
              }
            ]
          }
        ],
        "modelName": "NHT - Fire management",
        "title": "Implementing Fire Management Actions",
        "viewModel": [
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<h3>Participation information</h3>"
              }
            ]
          },
          {
            "disableTableUpload": true,
            "columns": [
              {
                "width": "10%",
                "source": "participationIndividualsOrGroups",
                "title": "Are individuals or groups delivering this service?",
                "type": "selectOne"
              },
              {
                "width": "20%",
                "type": "col",
                "title": "Total number of people delivering this service <br>(including First Nations people)<b style=\"color:red\">*</b>",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "participationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "participationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "type": "col",
                "width": "20%",
                "title": "Total number of First Nations people delivering this service<b style=\"color:red\">*</b>",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "firstNationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "firstNationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "width": "20%",
                "source": "participationDetails",
                "rows": 4,
                "title": "If no First Nations people participated in the delivery of this service, <br>what are the reasons? If there was participation, please provide details.",
                "helpText": "If there were no First Nations people participating in the delivery of this service, please explain the reasons. If there were First Nations people involved, please outline how they were involved.",
                "type": "textarea"
              }
            ],
            "source": "participationInformationTableIfm",
            "type": "table"
          },
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<h3>Totals Summary</h3>"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(i) Total area (ha) treated by fire management action/s (initial) during this reporting period",
                        "source": "totalAreaTreatedFireMgmtInitial",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(ii) Total area (ha) treated by fire management action/s (initial) <u><i>invoiced</i></u> for during this reporting period",
                        "source": "totalAreaTreatedFireMgmtInitialInvoiced",
                        "type": "number",
                        "displayOptions": {
                          "removeTrailingZeros": false
                        }
                      }
                    ]
                  }
                ]
              },
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(iii) Total area (ha) treated by fire management action/s (follow up) during this reporting period",
                        "source": "totalAreaTreatedFireMgmtFollowup",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(iv) Total area (ha) treated by fire management action/s (follow up) <u><i>invoiced</i></u> for during this reporting period",
                        "source": "totalAreaTreatedFireMgmtFollowupInvoiced",
                        "type": "number",
                        "displayOptions": {
                          "removeTrailingZeros": false
                        }
                      }
                    ]
                  }
                ]
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "If the total invoiced is different to the total completed, please provide the reason",
                "source": "totalInvoicedFireMgmtMismatched",
                "type": "textarea",
                "rows": 4,
                "placeholder": ""
              }
            ]
          },
          {
            "addRowText": "Add a new area",
            "userAddedRows": true,
            "source": "fireManagementAreasControlled",
            "type": "repeat",
            "items": [
              {
                "type": "row",
                "items": [
                  {
                    "css": "span3",
                    "type": "col",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "relatedOutcomes",
                            "type": "selectOne",
                            "preLabel": "Which outcome statement/s does this activity relate to?"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "investmentPriorities2",
                            "preLabel": "Which investment priority does this activity relate to?",
                            "type": "select2Many"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "row",
                "css": "border-bottom",
                "items": [
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "initialOrFollowup",
                            "preLabel": "Initial or follow-up?",
                            "type": "selectOne"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "row",
                "css": "border-bottom",
                "items": [
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Site/s treated by fire management action",
                            "source": "sitesTreatedByFireManagement",
                            "type": "feature"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "calculatedAreaTreatedHa",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            },
                            "readonly": "readonly"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Please attach mapping details",
                            "source": "extraMappingDetails",
                            "type": "document"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Actual area (ha) treated by fire management action",
                            "source": "areaTreatedHa",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Reason for actual being different to mapped amount",
                            "source": "mappingNotAlignedReason",
                            "type": "selectOne"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "placeholder": "Please enter the reason/s the mapping didn't align with the invoiced amount",
                            "source": "mappingNotAlignedComments",
                            "type": "textarea",
                            "rows": 5
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "row",
                "css": "border-bottom",
                "items": [
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "fireManagementType",
                            "preLabel": "Type of fire management action",
                            "type": "select2"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "otherFireManagementType",
                            "preLabel": "",
                            "type": "text"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "sitesBenefittedByFireAction",
                            "type": "feature",
                            "preLabel": "Please map any off-site area/s if they benefitted from this fire management action"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "areaBenefittedByFireActionHa2",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            },
                            "readonly": "readonly"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "evidenceOfBenefit",
                            "type": "textarea",
                            "preLabel": "If off-site area was mapped please provide a description on the evidence available to reflect this benefit"
                          }
                        ]
                      }
                    ]
                  }
                ]
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "Optionally attach photos",
                "source": "photographicEvidence",
                "type": "image"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "Clarification, if needed",
                "type": "textarea",
                "rows": 4,
                "css": "span8",
                "source": "comments",
                "placeholder": "Clarification comments include information for your project manager about the service like:\n • any reported items that are not being invoiced (eg, over-achievement) \n • any extraneous circumstances that affected delivery of the service \n"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<p><b>Available Evidence</b></p>This field is mandatory for all projects as part of the invoicing process. Please list evidence you have retained for this service and provide information to where the evidence is stored (links/file location data). Refer to the Project Service Evidence Guide and the Project Service Summaries for information on the evidence requirements.<b style=\"color:red\">*</b>"
              },
              {
                "preLabel": "Data have been uploaded",
                "source": "dataUploaded",
                "type": "boolean"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "",
                "source": "projectAssuranceDetails",
                "type": "textarea",
                "rows": 4,
                "placeholder": "List the documentary evidence you have available for this project service. Include specifically, the document titles and location (e.g. internal IT network pathway, URLs) to assist with locating this material for future audits/assurance purposes."
              }
            ]
          },
          {
            "type": "table",
            "source": "assuranceDocuments",
            "userAddedRows": true,
            "disableTableUpload": true,
            "columns": [
              {
                "title": "Attached documents",
                "source": "attachments",
                "type": "document"
              }
            ]
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtFireManagement",
      "optional": true,
      "optionalQuestionText": null,
      "title": "Fire management actions",
      "collapsibleHeading": null,
      "name": "NHT - Fire management",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "dataModel": [
          {
            "allowRowDelete": "false",
            "columns": [
              {
                "dataType": "text",
                "name": "participationIndividualsOrGroups",
                "description": "Once Individuals or groups is selected, the related number field in the next two columns will become editable to report.",
                "constraints": [
                  "Individuals",
                  "Groups"
                ],
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "participationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "participationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ]
              },
              {
                "dataType": "number",
                "name": "firstNationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "param": {
                      "expression": "participationIndividualNumber",
                      "type": "computed"
                    },
                    "rule": "max"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "firstNationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "param": {
                      "expression": "participationGroupNumber",
                      "type": "computed"
                    },
                    "rule": "max",
                    "message": "The number of first nation participants cannot be greater than the total number of participants"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "participationDetails",
                "validate": "required, maxSize[3000]"
              }
            ],
            "dataType": "list",
            "name": "participationInformationTableHyd"
          },
          {
            "columns": [
              {
                "dataType": "text",
                "name": "initialOrFollowup",
                "constraints": [
                  "Initial",
                  "Follow-up"
                ],
                "validate": "required"
              },
              {
                "name": "relatedOutcomes",
                "dataType": "text",
                "description": "Select the outcome/s as defined in your MERI plan that this service was delivered to achieve.",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "value",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "context-path": "outcomes"
                    }
                  }
                }
              },
              {
                "name": "investmentPriorities2",
                "dataType": "text",
                "description": "",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "value",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "context-path": "owner.investmentPriorities"
                    }
                  }
                }
              },
              {
                "dataType": "text",
                "name": "otherInvestmentPriority",
                "behaviour": [
                  {
                    "type": "enable",
                    "condition": "\"Other\" in investmentPriorities2"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "invoicingThisActivity",
                "constraints": [
                  "Yes",
                  "No"
                ],
                "validate": "required"
              },
              {
                "dataType": "feature",
                "name": "sitesOfHydrological",
                "description": "Mapping field to be done and Area (ha) field be auto-calculated from mapping."
              },
              {
                "computed": {
                  "expression": "$geom.areaHa(sitesOfHydrological)"
                },
                "dataType": "number",
                "name": "calculatedAreaTreatedHa",
                "units": "ha",
                "decimalPlaces": 3
              },
              {
                "computed": {
                  "expression": "$geom.lengthKm(sitesOfHydrological)"
                },
                "dataType": "number",
                "name": "calculatedLengthTreatedKm",
                "units": "km",
                "decimalPlaces": 3,
                "behaviour": [
                  {
                    "condition": "lengthTreatedKm > 0",
                    "type": "conditional_validation",
                    "value": {
                      "message": "The managed length must be mapped",
                      "validate": "required,min[0.0001]"
                    }
                  }
                ]
              },
              {
                "defaultValue": {
                  "type": "computed",
                  "expression": "calculatedAreaTreatedHa"
                },
                "dataType": "number",
                "name": "areaTreatedHa",
                "description": "Manually enter correct figure for this reporting period if different to mapped value.",
                "units": "ha",
                "decimalPlaces": 3,
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedReason",
                "constraints": [
                  "Mapped area simplifies more complex area/s where work was undertaken during this period",
                  "Other"
                ],
                "validate": "required",
                "behaviour": [
                  {
                    "condition": "not (within(areaTreatedHa, calculatedAreaTreatedHa, 0.1))",
                    "type": "if"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedComments",
                "validate": "required,maxSize[100]",
                "behaviour": [
                  {
                    "type": "visible",
                    "condition": "\"Other\" == mappingNotAlignedReason"
                  }
                ]
              },
              {
                "dataType": "document",
                "name": "extraMappingDetails",
                "validate": "required",
                "description": "Please fill in the Mapped/Actual/Invoice fields before attaching a document here. If those fields match this field will be void. <br/>If any of these fields differ please attach your organisation's detailed map for the area, covered by this project service - during reporting period (include the scale measure for each map).",
                "behaviour": [
                  {
                    "condition": "not (within(areaTreatedHa, calculatedAreaTreatedHa, 0.1))",
                    "type": "if"
                  }
                ]
              },
              {
                "defaultValue": {
                  "type": "computed",
                  "expression": "calculatedLengthTreatedKm"
                },
                "dataType": "number",
                "name": "lengthTreatedKm",
                "units": "km",
                "decimalPlaces": 3
              },
              {
                "dataType": "number",
                "name": "noTreatments",
                "defaultValue": "",
                "validate": "required,min[0]"
              },
              {
                "dataType": "number",
                "name": "waterVolume",
                "defaultValue": "",
                "validate": "required,min[0]"
              },
              {
                "dataType": "number",
                "name": "stormWaterVolume",
                "defaultValue": "",
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "treatmentType",
                "description": "",
                "constraints": [
                  "Removing barriers (e.g fish barriers)",
                  "Structure instalment or modification (e.g. weirs, flow gauging stations, fords, culverts)",
                  "Resnagging",
                  "Other"
                ],
                "validate": "required"
              },
              {
                "dataType": "text",
                "name": "otherTreatmentType",
                "behaviour": [
                  {
                    "condition": "treatmentType == \"Other\"",
                    "type": "enable"
                  }
                ],
                "validate": "required,maxSize[300]"
              },
              {
                "dataType": "text",
                "name": "treatmentObjective",
                "description": "Aim of the action - e.g. hydrological regime change from X to Y.",
                "validate": "required,maxSize[300]"
              }
            ],
            "dataType": "list",
            "name": "hydroAreasControlled"
          },
          {
            "dataType": "number",
            "name": "totalHydroTreatmentsInitial",
            "validate": "min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(hydroAreasControlled, \"initialOrFollowup == 'Initial' ? 1 : 0\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalHydroTreatmentsInitialInvoiced",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalHydroTreatmentsInitial",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": ""
          },
          {
            "dataType": "number",
            "name": "totalHydroTreatmentsFollowup",
            "validate": "min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(hydroAreasControlled, \"initialOrFollowup == 'Follow-up' ? 1 : 0\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalHydroTreatmentsFollowupInvoiced",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalHydroTreatmentsFollowup",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": ""
          },
          {
            "dataType": "text",
            "name": "totalInvoicedIdentifyingMismatched",
            "description": "Please provide the reason/s why you are not invoicing for the same number that have been completed and delivered, e.g. the personnel and equipment were available to deliver more than was contracted.",
            "validate": "maxSize[400],required",
            "behaviour": [
              {
                "condition": "totalHydroTreatmentsInitialInvoiced < totalHydroTreatmentsInitial or totalHydroTreatmentsFollowupInvoiced < totalHydroTreatmentsFollowup",
                "type": "enable"
              }
            ]
          },
          {
            "dataType": "text",
            "name": "comments",
            "validate": "maxSize[1500]"
          },
          {
            "dataType": "image",
            "name": "photographicEvidence"
          },
          {
            "dataType": "boolean",
            "name": "dataUploaded",
            "description": "<ul><li>Tick box to confirm data has been uploaded</li><li>URL Link (mandatory if below is ticked) in available evidence</li></ul>"
          },
          {
            "name": "projectAssuranceDetails",
            "dataType": "text",
            "validate": "required,maxSize[5000]"
          },
          {
            "dataType": "list",
            "name": "assuranceDocuments",
            "columns": [
              {
                "dataType": "document",
                "name": "attachments",
                "description": "Please attach any Evidence of Service Delivery here."
              }
            ]
          }
        ],
        "modelName": "NHT - Improving hydrological regimes",
        "title": "Improving Hydrological Regimes for Site Eco-hydrology",
        "viewModel": [
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<h3>Participation information</h3>"
              }
            ]
          },
          {
            "disableTableUpload": true,
            "columns": [
              {
                "width": "10%",
                "source": "participationIndividualsOrGroups",
                "title": "Are individuals or groups delivering this service?",
                "type": "selectOne"
              },
              {
                "width": "20%",
                "type": "col",
                "title": "Total number of people delivering this service <br>(including First Nations people)<b style=\"color:red\">*</b>",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "participationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "participationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "type": "col",
                "width": "20%",
                "title": "Total number of First Nations people delivering this service<b style=\"color:red\">*</b>",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "firstNationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "firstNationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "width": "20%",
                "source": "participationDetails",
                "rows": 4,
                "title": "If no First Nations people participated in the delivery of this service, <br>what are the reasons? If there was participation, please provide details.",
                "helpText": "If there were no First Nations people participating in the delivery of this service, please explain the reasons. If there were First Nations people involved, please outline how they were involved.",
                "type": "textarea"
              }
            ],
            "source": "participationInformationTableHyd",
            "type": "table"
          },
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<h3>Totals Summary</h3>"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(i) Total number of treatments implemented to improve site eco-hydrology (initial) for this reporting period",
                        "source": "totalHydroTreatmentsInitial",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(ii) Total number of treatments implemented to improve site eco-hydrology (initial) <u><i>invoiced</i></u> for this reporting period",
                        "source": "totalHydroTreatmentsInitialInvoiced",
                        "type": "number"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(iii) Total number of treatments implemented to improve site eco-hydrology (follow up) for this reporting period",
                        "source": "totalHydroTreatmentsFollowup",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(iv) Total number of treatments implemented to improve site eco-hydrology (follow up) <u><i>invoiced</i></u> for this reporting period",
                        "source": "totalHydroTreatmentsFollowupInvoiced",
                        "type": "number"
                      }
                    ]
                  }
                ]
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "If the total invoiced is different to the total completed, please provide the reason",
                "source": "totalInvoicedIdentifyingMismatched",
                "type": "textarea",
                "rows": 4,
                "placeholder": ""
              }
            ]
          },
          {
            "addRowText": "Add a new area",
            "userAddedRows": true,
            "source": "hydroAreasControlled",
            "type": "repeat",
            "items": [
              {
                "type": "row",
                "items": [
                  {
                    "css": "span3 col-border-right",
                    "type": "col",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "relatedOutcomes",
                            "type": "selectOne",
                            "preLabel": "Which outcome statement/s does this activity relate to?"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "investmentPriorities2",
                            "preLabel": "Which investment priority does this activity relate to?",
                            "type": "select2Many"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "css": "span3 col-border-right",
                    "type": "col",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "invoicingThisActivity",
                            "preLabel": "Are you invoicing for this activity in this reporting period?",
                            "type": "selectOne"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "initialOrFollowup",
                            "preLabel": "Initial or Follow-up?",
                            "type": "selectOne"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Site/s where hydrological regimes have been improved",
                            "source": "sitesOfHydrological",
                            "type": "feature"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "calculatedAreaTreatedHa",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            },
                            "readonly": "readonly"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Please attach mapping details",
                            "source": "extraMappingDetails",
                            "type": "document"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Actual area (ha) where the hydrological regimes have been improved",
                            "source": "areaTreatedHa",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Reason for actual being different to mapped amount",
                            "source": "mappingNotAlignedReason",
                            "type": "selectOne"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "placeholder": "Please enter the reason/s the mapping didn't align with the invoiced amount",
                            "source": "mappingNotAlignedComments",
                            "type": "textarea",
                            "rows": 5
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "row",
                "css": "border-bottom",
                "items": [
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "noTreatments",
                            "preLabel": "Number of treatments implemented to improve site eco-hydrology",
                            "type": "number"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "waterVolume",
                            "type": "number",
                            "preLabel": "Volume of water (in megalitres) introduced as a result of the intervention"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "stormWaterVolume",
                            "type": "number",
                            "preLabel": "Volume of stormwater (in megalitres) redirected or removed"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "row",
                "css": "border-bottom",
                "items": [
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "treatmentType",
                            "preLabel": "Type of treatment implemented to improve eco-hydrological treatment",
                            "type": "select2"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "otherTreatmentType",
                            "placeholder": "Type of treatment implemented (if Other)",
                            "type": "text"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "treatmentObjective",
                            "type": "textarea",
                            "preLabel": "Treatment objective"
                          }
                        ]
                      }
                    ]
                  }
                ]
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "Optionally attach photos",
                "source": "photographicEvidence",
                "type": "image"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "Clarification, if needed",
                "type": "textarea",
                "rows": 4,
                "css": "span8",
                "source": "comments",
                "placeholder": "Clarification comments include information for your project manager about the service like:\n • any reported items that are not being invoiced (eg, over-achievement) \n • any extraneous circumstances that affected delivery of the service \n"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<p><b>Available Evidence</b></p>This field is mandatory for all projects as part of the invoicing process. Please list evidence you have retained for this service and provide information to where the evidence is stored (links/file location data). Refer to the Project Service Evidence Guide and the Project Service Summaries for information on the evidence requirements.<b style=\"color:red\">*</b>"
              },
              {
                "preLabel": "Data have been uploaded",
                "source": "dataUploaded",
                "type": "boolean"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "",
                "source": "projectAssuranceDetails",
                "type": "textarea",
                "rows": 4,
                "placeholder": "List the documentary evidence you have available for this project service. Include specifically, the document titles and location (e.g. internal IT network pathway, URLs) to assist with locating this material for future audits/assurance purposes."
              }
            ]
          },
          {
            "type": "table",
            "source": "assuranceDocuments",
            "userAddedRows": true,
            "disableTableUpload": true,
            "columns": [
              {
                "title": "Attached documents",
                "source": "attachments",
                "type": "document"
              }
            ]
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtImprovingHydrologicalRegimes",
      "optional": true,
      "optionalQuestionText": null,
      "title": "Improving hydrological regimes",
      "collapsibleHeading": null,
      "name": "NHT - Improving hydrological regimes",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "dataModel": [
          {
            "allowRowDelete": "false",
            "columns": [
              {
                "dataType": "text",
                "name": "participationIndividualsOrGroups",
                "description": "Once Individuals or groups is selected, the related number field in the next two columns will become editable to report.",
                "constraints": [
                  "Individuals",
                  "Groups"
                ],
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "participationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "participationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ]
              },
              {
                "dataType": "number",
                "name": "firstNationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "param": {
                      "expression": "participationIndividualNumber",
                      "type": "computed"
                    },
                    "rule": "max"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "firstNationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "param": {
                      "expression": "participationGroupNumber",
                      "type": "computed"
                    },
                    "rule": "max",
                    "message": "The number of first nation participants cannot be greater than the total number of participants"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "participationDetails",
                "validate": "required, maxSize[3000]"
              }
            ],
            "dataType": "list",
            "name": "participationInformationTableIlm"
          },
          {
            "dataType": "text",
            "name": "comments",
            "validate": "maxSize[1500]"
          },
          {
            "dataType": "image",
            "name": "photographicEvidence"
          },
          {
            "dataType": "boolean",
            "name": "dataUploaded",
            "description": "<ul><li>Tick box to confirm data has been uploaded</li><li>URL Link (mandatory if below is ticked) in available evidence</li></ul>"
          },
          {
            "name": "projectAssuranceDetails",
            "dataType": "text",
            "validate": "required,maxSize[5000]"
          },
          {
            "dataType": "list",
            "name": "assuranceDocuments",
            "columns": [
              {
                "dataType": "document",
                "name": "attachments",
                "description": "Please attach any Evidence of Service Delivery here."
              }
            ]
          },
          {
            "columns": [
              {
                "name": "relatedOutcomes",
                "dataType": "text",
                "description": "Select the outcome/s as defined in your MERI plan that this service was delivered to achieve.",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "value",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "context-path": "outcomes"
                    }
                  }
                }
              },
              {
                "name": "investmentPriorities2",
                "dataType": "text",
                "description": "",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "value",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "context-path": "owner.investmentPriorities"
                    }
                  }
                }
              },
              {
                "dataType": "text",
                "name": "otherInvestmentPriority",
                "behaviour": [
                  {
                    "type": "enable",
                    "condition": "\"Other\" in investmentPriorities2"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "invoicingThisActivity",
                "constraints": [
                  "Yes",
                  "No"
                ],
                "validate": "required"
              },
              {
                "dataType": "text",
                "name": "initialOrFollowup",
                "constraints": [
                  "Initial",
                  "Follow-up"
                ],
                "validate": "required"
              },
              {
                "dataType": "feature",
                "name": "sitesCoveredByPracticeChange",
                "description": "Mapping field to be done and Area (ha) field be auto-calculated from mapping."
              },
              {
                "computed": {
                  "expression": "$geom.areaHa(sitesCoveredByPracticeChange)"
                },
                "dataType": "number",
                "name": "calculatedAreaTreatedHa",
                "units": "ha",
                "decimalPlaces": 3
              },
              {
                "computed": {
                  "expression": "$geom.lengthKm(sitesCoveredByPracticeChange)"
                },
                "dataType": "number",
                "name": "calculatedLengthTreatedKm",
                "units": "km",
                "decimalPlaces": 3,
                "behaviour": [
                  {
                    "condition": "lengthTreatedKm > 0",
                    "type": "conditional_validation",
                    "value": {
                      "message": "The managed length must be mapped",
                      "validate": "required,min[0.0001]"
                    }
                  }
                ]
              },
              {
                "defaultValue": {
                  "type": "computed",
                  "expression": "calculatedAreaTreatedHa"
                },
                "dataType": "number",
                "name": "areaTreatedHa",
                "description": "Manually enter correct figure for this reporting period if different to mapped value.",
                "units": "ha",
                "decimalPlaces": 3,
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedReason",
                "constraints": [
                  "Mapped area simplifies more complex area/s where work was undertaken during this period",
                  "Other"
                ],
                "validate": "required",
                "behaviour": [
                  {
                    "condition": "not (within(areaTreatedHa, calculatedAreaTreatedHa, 0.1))",
                    "type": "if"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedComments",
                "validate": "required,maxSize[100]",
                "behaviour": [
                  {
                    "type": "visible",
                    "condition": "\"Other\" == mappingNotAlignedReason"
                  }
                ]
              },
              {
                "dataType": "document",
                "name": "extraMappingDetails",
                "validate": "required",
                "description": "Please fill in the Mapped/Actual/Invoice fields before attaching a document here. If those fields match this field will be void. <br/>If any of these fields differ please attach your organisation's detailed map for the area, covered by this project service - during reporting period (include the scale measure for each map).",
                "behaviour": [
                  {
                    "condition": "not (within(areaTreatedHa, calculatedAreaTreatedHa, 0.1))",
                    "type": "if"
                  }
                ]
              },
              {
                "defaultValue": {
                  "type": "computed",
                  "expression": "calculatedLengthTreatedKm"
                },
                "dataType": "number",
                "name": "lengthTreatedKm",
                "units": "km",
                "decimalPlaces": 3
              },
              {
                "columns": [
                  {
                    "dataType": "text",
                    "name": "practiceChangeType",
                    "description": "",
                    "constraints": [
                      "Fencing",
                      "Erosion management",
                      "Stocking rates",
                      "Watering arrangements",
                      "Paddock design",
                      "Rotation grazing",
                      "Permaculture",
                      "Other"
                    ],
                    "validate": "required"
                  },
                  {
                    "dataType": "text",
                    "name": "otherPracticeChangeType",
                    "description": "Please specify the type of land management practice change if Other (specify in notes) was selected in the Type of land management practice change.",
                    "behaviour": [
                      {
                        "condition": "practiceChangeType == \"Other\"",
                        "type": "enable"
                      }
                    ],
                    "validate": "required,maxSize[100]"
                  },
                  {
                    "dataType": "text",
                    "name": "industryType",
                    "constraints": [
                      "Broad acre cropping",
                      "Dairy",
                      "Horticulture",
                      "Grazing",
                      "Fisheries",
                      "Aquaculture",
                      "Environment"
                    ],
                    "validate": "required"
                  },
                  {
                    "dataType": "text",
                    "name": "practiceChangeObjective",
                    "description": "How will the practice change/s contribute to the area?",
                    "validate": "required,maxSize[300]"
                  },
                  {
                    "dataType": "feature",
                    "name": "offSiteBenefitSites"
                  },
                  {
                    "computed": {
                      "expression": "$geom.areaHa(offSiteBenefitSites)"
                    },
                    "dataType": "number",
                    "name": "offSiteBenefitAreaHa2",
                    "units": "ha",
                    "decimalPlaces": 3
                  },
                  {
                    "dataType": "text",
                    "name": "evidenceOfBenefit",
                    "validate": "maxSize[300]"
                  }
                ],
                "dataType": "list",
                "name": "landManagementDetails"
              }
            ],
            "dataType": "list",
            "name": "landManagementAreasControlled"
          },
          {
            "dataType": "number",
            "name": "totalAreaPracticeChangeInitial",
            "validate": "min[0]",
            "decimalPlaces": 3,
            "computed": {
              "expression": "sum(landManagementAreasControlled, \"initialOrFollowup == 'Initial' ? areaTreatedHa : 0\")"
            }
          },
          {
            "dataType": "number",
            "decimalPlaces": 3,
            "name": "totalAreaPracticeChangeInitialInvoiced",
            "description": "Manually enter if values have decimal points e.g. 0.350 or 2.545",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalAreaPracticeChangeInitial",
                  "type": "computed",
                  "decimalPlaces": 3
                },
                "rule": "max"
              }
            ],
            "defaultValue": ""
          },
          {
            "dataType": "number",
            "name": "totalAreaPracticeChangeFollowup",
            "validate": "min[0]",
            "decimalPlaces": 3,
            "computed": {
              "expression": "sum(landManagementAreasControlled, \"initialOrFollowup == 'Follow-up' ? areaTreatedHa : 0\")"
            }
          },
          {
            "dataType": "number",
            "decimalPlaces": 3,
            "name": "totalAreaPracticeChangeInvoicedFollowup",
            "description": "Manually enter if values have decimal points e.g. 0.350 or 2.545",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalAreaPracticeChangeFollowup",
                  "type": "computed",
                  "decimalPlaces": 3
                },
                "rule": "max"
              }
            ],
            "defaultValue": ""
          },
          {
            "dataType": "text",
            "name": "totalInvoicedPracticeChangeMismatched",
            "description": "Please provide the reason/s why you are not invoicing for the same number that have been completed and delivered, e.g. the personnel and equipment were available to deliver more than was contracted.",
            "validate": "maxSize[400],required",
            "behaviour": [
              {
                "condition": "totalAreaPracticeChangeInitialInvoiced < totalAreaPracticeChangeInitial or totalAreaPracticeChangeInvoicedFollowup < totalAreaPracticeChangeFollowup",
                "type": "enable"
              }
            ]
          }
        ],
        "modelName": "NHT - Improving land management practices",
        "title": "Improving Land Management Practices",
        "viewModel": [
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<h3>Participation information</h3>"
              }
            ]
          },
          {
            "disableTableUpload": true,
            "columns": [
              {
                "width": "10%",
                "source": "participationIndividualsOrGroups",
                "title": "Are individuals or groups delivering this service?",
                "type": "selectOne"
              },
              {
                "width": "20%",
                "type": "col",
                "title": "Total number of people delivering this service <br>(including First Nations people)<b style=\"color:red\">*</b>",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "participationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "participationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "type": "col",
                "width": "20%",
                "title": "Total number of First Nations people delivering this service<b style=\"color:red\">*</b>",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "firstNationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "firstNationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "width": "20%",
                "source": "participationDetails",
                "rows": 4,
                "title": "If no First Nations people participated in the delivery of this service, <br>what are the reasons? If there was participation, please provide details.",
                "helpText": "If there were no First Nations people participating in the delivery of this service, please explain the reasons. If there were First Nations people involved, please outline how they were involved.",
                "type": "textarea"
              }
            ],
            "source": "participationInformationTableIlm",
            "type": "table"
          },
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<h3>Totals Summary</h3>"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(i) Total area (ha) covered by practice change (initial) during this reporting period",
                        "source": "totalAreaPracticeChangeInitial",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(ii) Total area (ha) covered by practice change (initial) <u><i>invoiced</i></u> for during this reporting period",
                        "source": "totalAreaPracticeChangeInitialInvoiced",
                        "type": "number",
                        "displayOptions": {
                          "removeTrailingZeros": false
                        }
                      }
                    ]
                  }
                ]
              },
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(iii) Total area (ha) covered by practice change (follow up) during this reporting period",
                        "source": "totalAreaPracticeChangeFollowup",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(iv) Total area (ha) covered by practice change (follow up) <u><i>invoiced</i></u> for during this reporting period",
                        "source": "totalAreaPracticeChangeInvoicedFollowup",
                        "type": "number",
                        "displayOptions": {
                          "removeTrailingZeros": false
                        }
                      }
                    ]
                  }
                ]
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "If the total invoiced is different to the total completed, please provide the reason",
                "source": "totalInvoicedPracticeChangeMismatched",
                "type": "textarea",
                "rows": 4,
                "placeholder": ""
              }
            ]
          },
          {
            "addRowText": "Add a new area",
            "userAddedRows": true,
            "source": "landManagementAreasControlled",
            "type": "repeat",
            "items": [
              {
                "type": "row",
                "items": [
                  {
                    "css": "span3",
                    "type": "col",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "relatedOutcomes",
                            "type": "selectOne",
                            "preLabel": "Which outcome statement/s does this activity relate to?"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "investmentPriorities2",
                            "preLabel": "Which investment priority does this activity relate to?",
                            "type": "select2Many"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "css": "span3",
                    "type": "col",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "invoicingThisActivity",
                            "preLabel": "Are you invoicing for this activity in this reporting period?",
                            "type": "selectOne"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "row",
                "css": "border-bottom",
                "items": [
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "initialOrFollowup",
                            "preLabel": "Initial or follow-up?",
                            "type": "selectOne"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "row",
                "css": "border-bottom",
                "items": [
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Sites covered by practice change",
                            "source": "sitesCoveredByPracticeChange",
                            "type": "feature"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "calculatedAreaTreatedHa",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            },
                            "readonly": "readonly"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Please attach mapping details",
                            "source": "extraMappingDetails",
                            "type": "document"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Actual area (ha) covered by practice change",
                            "source": "areaTreatedHa",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Reason for actual being different to mapped amount",
                            "source": "mappingNotAlignedReason",
                            "type": "selectOne"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "placeholder": "Please enter the reason/s the mapping didn't align with the invoiced amount",
                            "source": "mappingNotAlignedComments",
                            "type": "textarea",
                            "rows": 5
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "columns": [
                  {
                    "width": "20%",
                    "title": "Type of action",
                    "type": "col",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "practiceChangeType",
                            "type": "selectOne"
                          }
                        ]
                      },
                      {
                        "source": "otherPracticeChangeType",
                        "title": "Type of action (if Other)",
                        "type": "text"
                      }
                    ]
                  },
                  {
                    "width": "20%",
                    "source": "industryType",
                    "title": "Industry type",
                    "type": "selectOne"
                  },
                  {
                    "width": "35%",
                    "source": "practiceChangeObjective",
                    "title": "Purpose of improving land management practice",
                    "type": "textarea"
                  },
                  {
                    "width": "25%",
                    "title": "Please map any off-site area/s if they benefitted from this practice change",
                    "type": "col",
                    "items": [
                      {
                        "source": "offSiteBenefitSites",
                        "type": "feature"
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "offSiteBenefitAreaHa2",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            },
                            "readonly": "readonly"
                          }
                        ]
                      },
                      {
                        "source": "evidenceOfBenefit",
                        "placeholder": "If off-site area was mapped please provide a description on the evidence available to reflect this benefit",
                        "type": "textarea"
                      }
                    ]
                  }
                ],
                "userAddedRows": true,
                "disableTableUpload": true,
                "source": "landManagementDetails",
                "type": "table"
              }
            ]
          },
          {
            "type": "section",
            "items": [
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Optionally attach photos",
                    "source": "photographicEvidence",
                    "type": "image"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Clarification, if needed",
                    "type": "textarea",
                    "rows": 4,
                    "css": "span8",
                    "source": "comments",
                    "placeholder": "Clarification comments include information for your project manager about the service like:\n • any reported items that are not being invoiced (eg, over-achievement) \n • any extraneous circumstances that affected delivery of the service \n"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<p><b>Available Evidence</b></p>This field is mandatory for all projects as part of the invoicing process. Please list evidence you have retained for this service and provide information to where the evidence is stored (links/file location data). Refer to the Project Service Evidence Guide and the Project Service Summaries for information on the evidence requirements.<b style=\"color:red\">*</b>"
                  },
                  {
                    "preLabel": "Data have been uploaded",
                    "source": "dataUploaded",
                    "type": "boolean"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "",
                    "source": "projectAssuranceDetails",
                    "type": "textarea",
                    "rows": 4,
                    "placeholder": "List the documentary evidence you have available for this project service. Include specifically, the document titles and location (e.g. internal IT network pathway, URLs) to assist with locating this material for future audits/assurance purposes."
                  }
                ]
              },
              {
                "type": "table",
                "source": "assuranceDocuments",
                "userAddedRows": true,
                "disableTableUpload": true,
                "columns": [
                  {
                    "title": "Attached documents",
                    "source": "attachments",
                    "type": "document"
                  }
                ]
              }
            ]
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtLandManagementPractices",
      "optional": true,
      "optionalQuestionText": null,
      "title": "Improving land management practices",
      "collapsibleHeading": null,
      "name": "NHT - Improving land management practices",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "dataModel": [
          {
            "allowRowDelete": "false",
            "columns": [
              {
                "dataType": "text",
                "name": "participationIndividualsOrGroups",
                "description": "Once Individuals or groups is selected, the related number field in the next two columns will become editable to report.",
                "constraints": [
                  "Individuals",
                  "Groups"
                ],
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "participationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "participationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ]
              },
              {
                "dataType": "number",
                "name": "firstNationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "param": {
                      "expression": "participationIndividualNumber",
                      "type": "computed"
                    },
                    "rule": "max"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "firstNationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "param": {
                      "expression": "participationGroupNumber",
                      "type": "computed"
                    },
                    "rule": "max",
                    "message": "The number of first nation participants cannot be greater than the total number of participants"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "participationDetails",
                "validate": "required, maxSize[3000]"
              }
            ],
            "dataType": "list",
            "name": "participationInformationTableMad"
          },
          {
            "columns": [
              {
                "dataType": "text",
                "name": "initialOrFollowup",
                "constraints": [
                  "Initial",
                  "Follow-up"
                ],
                "validate": "required"
              },
              {
                "columns": [
                  {
                    "dataType": "text",
                    "name": "targetDisease",
                    "description": "",
                    "validate": "required,maxSize[100]"
                  },
                  {
                    "dataType": "text",
                    "name": "managementMethod",
                    "dwcAttribute": "treatmentMethod",
                    "constraints": [
                      "Biological control agents",
                      "Fumigation",
                      "Host destruction",
                      "Plant disease management - quarantine",
                      "Plant disease management - treatment",
                      "Plant disease management - hygiene",
                      "Positive competition",
                      "Other"
                    ],
                    "validate": "required"
                  },
                  {
                    "dataType": "text",
                    "name": "otherManagementMethod",
                    "description": "Please specify the management method used if Other (specify in notes) was selected in the Management Method column.",
                    "behaviour": [
                      {
                        "condition": "managementMethod == \"Other\"",
                        "type": "enable"
                      }
                    ],
                    "validate": "required,maxSize[100]"
                  },
                  {
                    "dataType": "text",
                    "name": "treatmentObjective",
                    "description": "Please start with either part of the field heading [dash]. If reporting on both separate the information with a ';'. (eg. 'Management method -' and a brief description of method being used to fix the area; 'Treatment objective -' and a brief description of how the work will contribute to the area.",
                    "validate": "required,maxSize[300]"
                  }
                ],
                "dataType": "list",
                "name": "diseaseManagementDetails"
              },
              {
                "name": "relatedOutcomes",
                "dataType": "text",
                "description": "Select the outcome/s as defined in your MERI plan that this service was delivered to achieve.",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "value",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "context-path": "outcomes"
                    }
                  }
                }
              },
              {
                "name": "investmentPriorities2",
                "dataType": "text",
                "description": "",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "value",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "context-path": "owner.investmentPriorities"
                    }
                  }
                }
              },
              {
                "dataType": "text",
                "name": "otherInvestmentPriority",
                "behaviour": [
                  {
                    "type": "enable",
                    "condition": "\"Other\" in investmentPriorities2"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "invoicingThisActivity",
                "constraints": [
                  "Yes",
                  "No"
                ],
                "validate": "required"
              },
              {
                "dataType": "feature",
                "name": "sitesDiseaseManaged",
                "description": "Mapping field to be done and Area (ha)/length (km) field be auto-calculated from mapping."
              },
              {
                "computed": {
                  "expression": "$geom.areaHa(sitesDiseaseManaged)"
                },
                "dataType": "number",
                "name": "calculatedAreaTreatedHa",
                "units": "ha",
                "decimalPlaces": 3
              },
              {
                "computed": {
                  "expression": "$geom.lengthKm(sitesDiseaseManaged)"
                },
                "dataType": "number",
                "name": "calculatedLengthTreatedKm",
                "units": "km",
                "decimalPlaces": 3,
                "behaviour": [
                  {
                    "condition": "lengthTreatedKm > 0",
                    "type": "conditional_validation",
                    "value": {
                      "message": "The managed length must be mapped",
                      "validate": "required,min[0.0001]"
                    }
                  }
                ]
              },
              {
                "defaultValue": {
                  "type": "computed",
                  "expression": "calculatedAreaTreatedHa"
                },
                "dataType": "number",
                "name": "areaTreatedHa",
                "description": "Manually enter correct figure for this reporting period if different to mapped value.",
                "units": "ha",
                "decimalPlaces": 3,
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedReason",
                "constraints": [
                  "Mapped area simplifies more complex area/s where work was undertaken during this period",
                  "Other"
                ],
                "validate": "required",
                "behaviour": [
                  {
                    "condition": "not (within(areaTreatedHa, calculatedAreaTreatedHa, 0.1) and within(lengthTreatedKm, calculatedLengthTreatedKm, 0.1))",
                    "type": "if"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedComments",
                "validate": "required,maxSize[100]",
                "behaviour": [
                  {
                    "type": "visible",
                    "condition": "\"Other\" == mappingNotAlignedReason"
                  }
                ]
              },
              {
                "dataType": "document",
                "name": "extraMappingDetails",
                "validate": "required",
                "description": "Please fill in the Mapped/Actual/Invoice fields before attaching a document here. If those fields match this field will be void. <br/>If any of these fields differ please attach your organisation's detailed map for the area, covered by this project service - during reporting period (include the scale measure for each map).",
                "behaviour": [
                  {
                    "condition": "not (within(areaTreatedHa, calculatedAreaTreatedHa, 0.1) and within(lengthTreatedKm, calculatedLengthTreatedKm, 0.1))",
                    "type": "if"
                  }
                ]
              },
              {
                "defaultValue": {
                  "type": "computed",
                  "expression": "calculatedLengthTreatedKm"
                },
                "dataType": "number",
                "name": "lengthTreatedKm",
                "units": "km",
                "decimalPlaces": 3
              }
            ],
            "dataType": "list",
            "name": "diseaseManagementAreasControlled"
          },
          {
            "dataType": "number",
            "name": "totalAreaDiseaseManagementInitial",
            "validate": "min[0]",
            "decimalPlaces": 3,
            "computed": {
              "expression": "sum(diseaseManagementAreasControlled, \"initialOrFollowup == 'Initial' ? areaTreatedHa : 0\")"
            }
          },
          {
            "dataType": "number",
            "decimalPlaces": 3,
            "name": "totalAreaDiseaseManagementInitialInvoiced",
            "description": "Manually enter if values have decimal points e.g. 0.350 or 2.545",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalAreaDiseaseManagementInitial",
                  "type": "computed",
                  "decimalPlaces": 3
                },
                "rule": "max"
              }
            ],
            "defaultValue": ""
          },
          {
            "dataType": "number",
            "name": "totalAreaDiseaseManagementFollowup",
            "validate": "min[0]",
            "decimalPlaces": 3,
            "computed": {
              "expression": "sum(diseaseManagementAreasControlled, \"initialOrFollowup == 'Follow-up' ? areaTreatedHa : 0\")"
            }
          },
          {
            "dataType": "number",
            "decimalPlaces": 3,
            "name": "totalAreaDiseaseManagementInvoicedFollowup",
            "description": "Manually enter if values have decimal points e.g. 0.350 or 2.545",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalAreaDiseaseManagementFollowup",
                  "type": "computed",
                  "decimalPlaces": 3
                },
                "rule": "max"
              }
            ],
            "defaultValue": ""
          },
          {
            "dataType": "number",
            "name": "totalLengthDiseaseManagementInitial",
            "validate": "min[0]",
            "decimalPlaces": 3,
            "computed": {
              "expression": "sum(diseaseManagementAreasControlled, \"initialOrFollowup == 'Initial' ? lengthTreatedKm : 0\")"
            }
          },
          {
            "dataType": "number",
            "decimalPlaces": 3,
            "name": "totalLengthDiseaseManagementInvoicedInitial",
            "description": "Manually enter if values have decimal points e.g. 0.350 or 2.545",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalLengthDiseaseManagementInitial",
                  "type": "computed",
                  "decimalPlaces": 3
                },
                "rule": "max"
              }
            ],
            "defaultValue": ""
          },
          {
            "dataType": "number",
            "name": "totalLengthDiseaseManagementFollowup",
            "validate": "min[0]",
            "decimalPlaces": 3,
            "computed": {
              "expression": "sum(diseaseManagementAreasControlled, \"initialOrFollowup == 'Follow-up' ? lengthTreatedKm : 0\")"
            }
          },
          {
            "dataType": "number",
            "decimalPlaces": 3,
            "name": "totalLengthDiseaseManagementInvoicedFollowup",
            "description": "Manually enter if values have decimal points e.g. 0.350 or 2.545",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalLengthDiseaseManagementFollowup",
                  "type": "computed",
                  "decimalPlaces": 3
                },
                "rule": "max"
              }
            ],
            "defaultValue": ""
          },
          {
            "dataType": "text",
            "name": "totalInvoicedDiseaseMismatched",
            "description": "Please provide the reason/s why you are not invoicing for the same number that have been completed and delivered, e.g. the personnel and equipment were available to deliver more than was contracted.",
            "validate": "maxSize[400],required",
            "behaviour": [
              {
                "condition": "totalAreaDiseaseManagementInitialInvoiced < totalAreaDiseaseManagementInitial or totalAreaDiseaseManagementInvoicedFollowup < totalAreaDiseaseManagementFollowup or totalLengthDiseaseManagementInvoicedInitial < totalLengthDiseaseManagementInitial or totalLengthDiseaseManagementInvoicedFollowup < totalLengthDiseaseManagementFollowup",
                "type": "enable"
              }
            ]
          },
          {
            "dataType": "text",
            "name": "comments",
            "validate": "maxSize[1500]"
          },
          {
            "dataType": "image",
            "name": "photographicEvidence"
          },
          {
            "dataType": "boolean",
            "name": "dataUploaded",
            "description": "<ul><li>Tick box to confirm data has been uploaded</li><li>URL Link (mandatory if below is ticked) in available evidence</li></ul>"
          },
          {
            "name": "projectAssuranceDetails",
            "dataType": "text",
            "validate": "required,maxSize[5000]"
          },
          {
            "dataType": "list",
            "name": "assuranceDocuments",
            "columns": [
              {
                "dataType": "document",
                "name": "attachments",
                "description": "Please attach any Evidence of Service Delivery here."
              }
            ]
          }
        ],
        "modelName": "NHT - Disease management",
        "title": "Managing Disease",
        "viewModel": [
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<h3>Participation information</h3>"
              }
            ]
          },
          {
            "disableTableUpload": true,
            "columns": [
              {
                "width": "10%",
                "source": "participationIndividualsOrGroups",
                "title": "Are individuals or groups delivering this service?",
                "type": "selectOne"
              },
              {
                "width": "20%",
                "type": "col",
                "title": "Total number of people delivering this service <br>(including First Nations people)<b style=\"color:red\">*</b>",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "participationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "participationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "type": "col",
                "width": "20%",
                "title": "Total number of First Nations people delivering this service<b style=\"color:red\">*</b>",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "firstNationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "firstNationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "width": "20%",
                "source": "participationDetails",
                "rows": 4,
                "title": "If no First Nations people participated in the delivery of this service, <br>what are the reasons? If there was participation, please provide details.",
                "helpText": "If there were no First Nations people participating in the delivery of this service, please explain the reasons. If there were First Nations people involved, please outline how they were involved.",
                "type": "textarea"
              }
            ],
            "source": "participationInformationTableMad",
            "type": "table"
          },
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<h3>Totals Summary</h3>"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(i) Total area (ha) for disease treatment/prevention (initial) for this reporting period",
                        "source": "totalAreaDiseaseManagementInitial",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(ii) Total area (ha) for disease treatment/prevention (initial) <u><i>invoiced</i></u> for this reporting period",
                        "source": "totalAreaDiseaseManagementInitialInvoiced",
                        "type": "number",
                        "displayOptions": {
                          "removeTrailingZeros": false
                        }
                      }
                    ]
                  }
                ]
              },
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(iii) Total area (ha) for disease treatment/prevention (follow up) for this reporting period",
                        "source": "totalAreaDiseaseManagementFollowup",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(iv) Total Area (ha) for disease treatment/prevention (follow up) <u><i>invoiced</i></u> for this reporting period",
                        "source": "totalAreaDiseaseManagementInvoicedFollowup",
                        "type": "number",
                        "displayOptions": {
                          "removeTrailingZeros": false
                        }
                      }
                    ]
                  }
                ]
              },
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(v) Total length (km) for disease treatment/prevention (initial) for this reporting period",
                        "source": "totalLengthDiseaseManagementInitial",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(vi) Total length (km) for disease treatment/prevention (initial) <u><i>invoiced</i></u> for this reporting period",
                        "source": "totalLengthDiseaseManagementInvoicedInitial",
                        "type": "number",
                        "displayOptions": {
                          "removeTrailingZeros": false
                        }
                      }
                    ]
                  }
                ]
              },
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(vii) Total length (km) for disease treatment/prevention (follow up) for this reporting period",
                        "source": "totalLengthDiseaseManagementFollowup",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(viii) Total length (km) for disease treatment/prevention (follow up) <u><i>invoiced</i></u> for this reporting period",
                        "source": "totalLengthDiseaseManagementInvoicedFollowup",
                        "type": "number",
                        "displayOptions": {
                          "removeTrailingZeros": false
                        }
                      }
                    ]
                  }
                ]
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "If the total invoiced is different to the total completed, please provide the reason",
                "source": "totalInvoicedDiseaseMismatched",
                "type": "textarea",
                "rows": 4,
                "placeholder": ""
              }
            ]
          },
          {
            "addRowText": "Add a new area",
            "userAddedRows": true,
            "source": "diseaseManagementAreasControlled",
            "type": "repeat",
            "items": [
              {
                "type": "row",
                "items": [
                  {
                    "css": "span3",
                    "type": "col",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "relatedOutcomes",
                            "type": "selectOne",
                            "preLabel": "Which outcome statement/s does this activity relate to?"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "investmentPriorities2",
                            "preLabel": "Which investment priority does this activity relate to?",
                            "type": "select2Many"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "css": "span3",
                    "type": "col",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "invoicingThisActivity",
                            "preLabel": "Are you invoicing for this activity in this reporting period?",
                            "type": "selectOne"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "row",
                "css": "border-bottom",
                "items": [
                  {
                    "preLabel": "Initial or Follow-up?",
                    "css": "span3",
                    "source": "initialOrFollowup",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "type": "row",
                "css": "border-bottom",
                "items": [
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Site/s where disease managed",
                            "source": "sitesDiseaseManaged",
                            "type": "feature"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "calculatedAreaTreatedHa",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            },
                            "readonly": "readonly"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "calculatedLengthTreatedKm",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            },
                            "readonly": "readonly"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Please attach mapping details",
                            "source": "extraMappingDetails",
                            "type": "document"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Actual area (ha) / length (km) where disease has been managed",
                            "source": "areaTreatedHa",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "lengthTreatedKm",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Reason for actual being different to mapped amount",
                            "source": "mappingNotAlignedReason",
                            "type": "selectOne"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "placeholder": "Please enter the reason/s the mapping didn't align with the invoiced amount",
                            "source": "mappingNotAlignedComments",
                            "type": "textarea",
                            "rows": 5
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "columns": [
                  {
                    "width": "30%",
                    "source": "targetDisease",
                    "title": "Disease treated",
                    "type": "textarea"
                  },
                  {
                    "width": "20%",
                    "type": "col",
                    "title": "Type of management method / treatment",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "managementMethod",
                            "type": "selectOne"
                          }
                        ]
                      },
                      {
                        "source": "otherManagementMethod",
                        "placeholder": "Type of management method / treatment (if other)",
                        "type": "text"
                      }
                    ]
                  },
                  {
                    "width": "50%",
                    "source": "treatmentObjective",
                    "title": "Management method / treatment objective",
                    "type": "textarea"
                  }
                ],
                "userAddedRows": true,
                "disableTableUpload": true,
                "source": "diseaseManagementDetails",
                "type": "table"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "Optionally attach photos",
                "source": "photographicEvidence",
                "type": "image"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "Clarification, if needed",
                "type": "textarea",
                "rows": 4,
                "css": "span8",
                "source": "comments",
                "placeholder": "Clarification comments include information for your project manager about the service like:\n • any reported items that are not being invoiced (eg, over-achievement) \n • any extraneous circumstances that affected delivery of the service \n"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<p><b>Available Evidence</b></p>This field is mandatory for all projects as part of the invoicing process. Please list evidence you have retained for this service and provide information to where the evidence is stored (links/file location data). Refer to the Project Service Evidence Guide and the Project Service Summaries for information on the evidence requirements.<b style=\"color:red\">*</b>"
              },
              {
                "preLabel": "Data have been uploaded",
                "source": "dataUploaded",
                "type": "boolean"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "",
                "source": "projectAssuranceDetails",
                "type": "textarea",
                "rows": 4,
                "placeholder": "List the documentary evidence you have available for this project service. Include specifically, the document titles and location (e.g. internal IT network pathway, URLs) to assist with locating this material for future audits/assurance purposes."
              }
            ]
          },
          {
            "type": "table",
            "source": "assuranceDocuments",
            "userAddedRows": true,
            "disableTableUpload": true,
            "columns": [
              {
                "title": "Attached documents",
                "source": "attachments",
                "type": "document"
              }
            ]
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtDiseaseManagement",
      "optional": true,
      "optionalQuestionText": null,
      "title": "Managing disease",
      "collapsibleHeading": null,
      "name": "NHT - Disease management",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "dataModel": [
          {
            "name": "pestAnimalSurveys",
            "dataType": "list",
            "minSize": 1,
            "columns": [
              {
                "name": "relatedOutcomes",
                "dataType": "text",
                "description": "Select the outcome/s as defined in your MERI plan that this service was delivered to achieve.",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "value",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "context-path": "outcomes"
                    }
                  }
                }
              },
              {
                "dataType": "text",
                "name": "baselineOrIndicatorSurvey",
                "description": "",
                "constraints": [
                  "Baseline",
                  "Indicator"
                ],
                "validate": "required"
              },
              {
                "dataType": "text",
                "name": "surveyObjective",
                "description": "What the survey aim to capture? How will the information obtained from the survey be used?",
                "validate": "required,maxSize[3000]"
              },
              {
                "dataType": "number",
                "name": "numberOfSurveys",
                "validate": "required,min[1],max[1]",
                "defaultValue": 1,
                "readonly": true
              },
              {
                "dataType": "number",
                "name": "numberOfSurveysInvoiced",
                "validate": "required,min[0]",
                "defaultValue": 1
              },
              {
                "dataType": "list",
                "name": "pestAnimalDataSets",
                "columns": [
                  {
                    "name": "dataSetId",
                    "entityType": "au.org.ala.ecodata.DataSetSummary",
                    "dataType": "text",
                    "description": "This section will require the Data Set Name so the Metadata fields in the Data Set Summary tab should be filled out before the Outcome Report is due. More than one dataset if relevant for this Project Baseline could be selected.",
                    "validate": "required",
                    "constraints": {
                      "textProperty": "name",
                      "valueProperty": "dataSetId",
                      "excludePath": "pestAnimalSurveys.pestAnimalDataSets.dataSetId",
                      "type": "pre-populated",
                      "config": {
                        "source": {
                          "context-path": "owner.custom.dataSets"
                        },
                        "filter": {
                          "namespace": "dataSet",
                          "expression": "dataSet.serviceId == 23 and dataSet.progress == 'finished' and dataSet.alreadyReported == false and baselineOrIndicatorSurvey == baselineIndicatorMapping.lookupValue(dataSet.type) and deepEquals(relatedOutcomes,dataSet.outcomesLabel)"
                        }
                      }
                    },
                    "behaviour": [
                      {
                        "type": "pre_populate",
                        "config": {
                          "waitForInitialisation": true,
                          "source": {
                            "url": "/site/geojson",
                            "params": [
                              {
                                "expression": "x=find(owner.custom.dataSets, \"dataSetId\", dataSetId); x.siteId",
                                "name": "id",
                                "type": "computed",
                                "required": true
                              }
                            ]
                          },
                          "target":  {
                            "type": "singleValue",
                            "name": "sitesCoveredForPestAnimal"
                          }
                        }
                      }
                    ]
                  },
                  {
                    "columns": [
                      {
                        "dataType": "species",
                        "name": "species",
                        "validate": "required"
                      },
                      {
                        "dataType": "text",
                        "name": "individualsOrGroups",
                        "constraints": [
                          "Individuals",
                          "Groups"
                        ],
                        "validate": "required"
                      },
                      {
                        "dataType": "number",
                        "name": "numberOfIndividualsOrGroups",
                        "validate": "required,min[0]"
                      }
                    ],
                    "dataType": "list",
                    "name": "pestAnimalSurveySpeciesTable"
                  },
                  {
                    "name": "projectBaselines",
                    "dataType": "stringList",
                    "description": "Select the relevant Project Baseline as listed in the Monitoring Methodology section of the MERI Plan.",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.baselines"
                    },
                    "constraints": {
                      "textProperty": "baseline",
                      "valueProperty": "code",
                      "type": "pre-populated",
                      "excludePath": "projectBaselines",
                      "config": {
                        "source": {
                          "context-path": "owner.custom.details.baseline.rows"
                        }
                      }
                    }
                  },
                  {
                    "name": "investmentPriorities2",
                    "dataType": "stringList",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.investmentPriorities"
                    },
                    "constraints": {
                      "type": "pre-populated",
                      "config": {
                        "source": {
                          "params": [
                            {
                              "expression": "owner.projectId",
                              "name": "id",
                              "type": "computed"
                            }
                          ],
                          "url": "/project/listProjectInvestmentPriorities/"
                        }
                      }
                    }
                  },
                  {
                    "dataType": "text",
                    "name": "otherInvestmentPriority",
                    "behaviour": [
                      {
                        "type": "enable",
                        "condition": "\"Other\" in investmentPriorities2"
                      }
                    ]
                  },
                  {
                    "dataType": "date",
                    "name": "activitiesStartDate",
                    "description": "Specific the dates these events were held on.",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.startDate"
                    }
                  },
                  {
                    "dataType": "date",
                    "name": "activitiesEndDate",
                    "description": "Specific the dates these events were held on.",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.endDate"
                    }
                  },
                  {
                    "dataType": "feature",
                    "name": "sitesCoveredForPestAnimal",
                    "description": "Mapping field to be done and Area (ha)/length (km) field be auto-calculated from mapping."

                  },
                  {
                    "computed": {
                      "expression": "$geom.areaHa(sitesCoveredForPestAnimal)"
                    },
                    "dataType": "number",
                    "name": "calculatedAreaTreatedHa",
                    "units": "ha",
                    "decimalPlaces": 3
                  },
                  {
                    "computed": {
                      "expression": "$geom.lengthKm(sitesCoveredForPestAnimal)"
                    },
                    "dataType": "number",
                    "name": "calculatedLengthTreatedKm",
                    "units": "km",
                    "decimalPlaces": 3,
                    "behaviour": [
                      {
                        "condition": "lengthTreatedKm > 0",
                        "type": "conditional_validation",
                        "value": {
                          "message": "The managed length must be mapped",
                          "validate": "required,min[0.0001]"
                        }
                      }
                    ]
                  },
                  {
                    "defaultValue": {
                      "type": "computed",
                      "expression": "calculatedAreaTreatedHa"
                    },
                    "dataType": "number",
                    "name": "areaTreatedHa",
                    "description": "Manually enter correct figure for this reporting period if different to mapped value.",
                    "units": "ha",
                    "decimalPlaces": 3,
                    "validate": "required,min[0]"
                  },
                  {
                    "dataType": "text",
                    "name": "mappingNotAlignedReason",
                    "constraints": [
                      "Mapped area simplifies more complex area/s where work was undertaken during this period",
                      "Other"
                    ],
                    "validate": "required",
                    "behaviour": [
                      {
                        "condition": "not (within(areaTreatedHa, calculatedAreaTreatedHa, 0.1) and within(lengthTreatedKm, calculatedLengthTreatedKm, 0.1))",
                        "type": "if"
                      }
                    ]
                  },
                  {
                    "dataType": "text",
                    "name": "mappingNotAlignedComments",
                    "validate": "required,maxSize[100]",
                    "behaviour": [
                      {
                        "type": "visible",
                        "condition": "\"Other\" == mappingNotAlignedReason"
                      }
                    ]
                  },
                  {
                    "dataType": "document",
                    "name": "extraMappingDetails",
                    "validate": "required",
                    "description": "Please fill in the Mapped/Actual/Invoice fields before attaching a document here. If those fields match this field will be void. <br/>If any of these fields differ please attach your organisation's detailed map for the area, covered by this project service - during reporting period (include the scale measure for each map).",
                    "behaviour": [
                      {
                        "condition": "not (within(areaTreatedHa, calculatedAreaTreatedHa, 0.1) and within(lengthTreatedKm, calculatedLengthTreatedKm, 0.1))",
                        "type": "if"
                      }
                    ]
                  },
                  {
                    "defaultValue": {
                      "type": "computed",
                      "expression": "$geom.lengthKm(sitesCoveredForPestAnimal)"
                    },
                    "dataType": "number",
                    "name": "lengthTreatedKm",
                    "units": "km",
                    "decimalPlaces": 3
                  },
                  {
                    "dataType": "text",
                    "description": "Select the technique used to conduct the survey. If the EMSA Application tool was not used, you should select 'Other'.",
                    "name": "emsaProtocol",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.protocol"
                    },
                    "constraints": {
                      "textProperty": "label",
                      "valueProperty": "value",
                      "type": "pre-populated",
                      "config": {
                        "source": {
                          "context-path": "owner.protocols"
                        }
                      }
                    }
                  },
                  {
                    "dataType": "stringList",
                    "description": "Describe the technique (if Other) was selected.",
                    "name": "otherEmsaProtocol",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.methods"
                    }
                  },
                  {
                    "dataType": "text",
                    "name": "surveyMethodology",
                    "description": "Provide more details on what is being done.",
                    "validate": "required,maxSize[3000]",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.methodDescription"
                    }
                  },
                  {
                    "dataType": "text",
                    "name": "invoicingThisActivity",
                    "constraints": [
                      "Yes",
                      "No"
                    ],
                    "validate": "required"
                  }
                ],
                "minSize": 1
              }
            ]
          },
          {
            "dataType": "lookupTable",
            "name": "baselineIndicatorMapping",
            "config": {
              "source": {
                "literal": {
                  "Baseline dataset associated with a project outcome": "Baseline",
                  "Project progress dataset that is tracking change against an established project baseline dataset": "Indicator"
                }
              }
            }
          },
          {
            "allowRowDelete": "false",
            "columns": [
              {
                "dataType": "text",
                "name": "participationIndividualsOrGroups",
                "description": "Once Individuals or groups is selected, the related number field in the next two columns will become editable to report.",
                "constraints": [
                  "Individuals",
                  "Groups"
                ],
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "participationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "participationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ]
              },
              {
                "dataType": "number",
                "name": "firstNationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "param": {
                      "expression": "participationIndividualNumber",
                      "type": "computed"
                    },
                    "rule": "max"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "firstNationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "param": {
                      "expression": "participationGroupNumber",
                      "type": "computed"
                    },
                    "rule": "max",
                    "message": "The number of first nation participants cannot be greater than the total number of participants"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "participationDetails",
                "validate": "required, maxSize[3000]"
              }
            ],
            "dataType": "list",
            "name": "participationInformationTablePas"
          },
          {
            "dataType": "number",
            "name": "totalSurveyBaseline",
            "validate": "min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(pestAnimalSurveys, \"baselineOrIndicatorSurvey == 'Baseline' ? 1 : 0\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalSurveyBaselineInvoiced",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalSurveyBaseline",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": ""
          },
          {
            "dataType": "number",
            "name": "totalSurveyIndicator",
            "validate": "min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(pestAnimalSurveys, \"baselineOrIndicatorSurvey == 'Indicator' ? 1 : 0\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalSurveyIndicatorInvoiced",
            "defaultValue": "",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalSurveyIndicator",
                  "type": "computed"
                },
                "rule": "max"
              }
            ]
          },
          {
            "dataType": "text",
            "name": "totalInvoicedPestAnimalMismatched",
            "description": "Please provide the reason/s why you are not invoicing for the same number that have been completed and delivered, e.g. the personnel and equipment were available to deliver more than was contracted.",
            "validate": "maxSize[400],required",
            "behaviour": [
              {
                "condition": "totalSurveyIndicatorInvoiced < totalSurveyIndicator or totalSurveyBaselineInvoiced < totalSurveyBaseline",
                "type": "enable"
              }
            ]
          },
          {
            "dataType": "text",
            "name": "comments",
            "validate": "maxSize[1500]"
          },
          {
            "dataType": "image",
            "name": "photographicEvidence"
          },
          {
            "dataType": "boolean",
            "name": "dataUploaded",
            "description": ""
          },
          {
            "dataType": "text",
            "name": "projectAssuranceDetails",
            "description": "",
            "validate": "required,maxSize[5000]"
          },
          {
            "dataType": "list",
            "name": "assuranceDocuments",
            "columns": [
              {
                "dataType": "document",
                "name": "attachments",
                "description": "Please attach any Evidence of Service Delivery here."
              }
            ]
          }
        ],
        "modelName": "NHT - Pest animal survey",
        "title": "Pest Animal Survey",
        "viewModel": [
          {
            "type": "section",
            "items": [
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<h3>Participation information</h3>"
                  }
                ]
              },
              {
                "disableTableUpload": true,
                "columns": [
                  {
                    "width": "10%",
                    "source": "participationIndividualsOrGroups",
                    "title": "Are individuals or groups delivering this service?",
                    "type": "selectOne"
                  },
                  {
                    "width": "20%",
                    "type": "col",
                    "title": "Total number of people delivering this service <br>(including First Nations people)<b style=\"color:red\">*</b>",
                    "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                    "items": [
                      {
                        "source": "participationIndividualNumber",
                        "type": "number"
                      },
                      {
                        "source": "participationGroupNumber",
                        "type": "selectOne"
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "width": "20%",
                    "title": "Total number of First Nations people delivering this service<b style=\"color:red\">*</b>",
                    "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                    "items": [
                      {
                        "source": "firstNationIndividualNumber",
                        "type": "number"
                      },
                      {
                        "source": "firstNationGroupNumber",
                        "type": "selectOne"
                      }
                    ]
                  },
                  {
                    "width": "20%",
                    "source": "participationDetails",
                    "rows": 4,
                    "title": "If no First Nations people participated in the delivery of this service, <br>what are the reasons? If there was participation, please provide details.",
                    "helpText": "If there were no First Nations people participating in the delivery of this service, please explain the reasons. If there were First Nations people involved, please outline how they were involved.",
                    "type": "textarea"
                  }
                ],
                "source": "participationInformationTablePas",
                "type": "table"
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<h3>Survey information</h3><p><b>Before completing this section, please ensure you have created a Data Set Summary information for every data set produced by the surveys you intend to report</b></p><ul><li>Each survey reported must relate to a combination of outcomes as described in your MERI plan</li><li>Each Data Set Summary recorded for a survey must be addressing the same outcomes as selected for the survey</li><li>If a survey produced more than one data set, use the New Data Set button to add each Data Set Summary under your survey</li><li>A single survey can be made up of multiple dataset</li></ul>"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<h3>Totals Summary</h3>"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "col",
                    "css": "span4 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(i) Total Number of baseline pest animal surveys completed for this reporting period",
                            "source": "totalSurveyBaseline",
                            "type": "number"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(ii) Total Number of baseline pest animal surveys <u><i>invoiced</i></u> for this reporting period",
                            "source": "totalSurveyBaselineInvoiced",
                            "type": "number"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span4 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(iii)  Total Number of  indicator pest animal surveys completed for this reporting period",
                            "source": "totalSurveyIndicator",
                            "type": "number"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(iv) Total Number of indicator pest animal surveys <u><i>invoiced</i></u> for this reporting period",
                            "source": "totalSurveyIndicatorInvoiced",
                            "type": "number"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "If the total invoiced is different to the total completed, please provide the reason",
                    "source": "totalInvoicedPestAnimalMismatched",
                    "type": "textarea",
                    "rows": 4,
                    "placeholder": ""
                  }
                ]
              },
              {
                "addRowText": "Add survey",
                "removeRowText": "Delete this survey",
                "userAddedRows": true,
                "source": "pestAnimalSurveys",
                "type": "repeat",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "type": "col",
                        "items": [
                          {
                            "source": "relatedOutcomes",
                            "type": "selectOne",
                            "preLabel": "Which outcome statement/s relates to this survey?"
                          }
                        ]
                      },
                      {
                        "type": "col",
                        "items": [
                          {
                            "source": "baselineOrIndicatorSurvey",
                            "type": "selectOne",
                            "preLabel": "Baseline survey or indicator (follow-up) survey?"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "source": "surveyObjective",
                        "preLabel": "Survey objective",
                        "type": "text"
                      }
                    ]
                  },
                  {
                    "type": "repeat",
                    "source": "pestAnimalDataSets",
                    "userAddedRows": true,
                    "addRowText": "New data set",
                    "removeRowText": "Delete this data set",
                    "items": [
                      {
                        "type": "row",
                        "css": "border-bottom",
                        "items": [
                          {
                            "type": "col",
                            "items": [
                              {
                                "source": "dataSetId",
                                "type": "selectOne",
                                "preLabel": "Please select the data set produced by this survey.  Note it must have already been entered on the Data Set Summary tab."
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "projectBaselines",
                                    "type": "selectMany",
                                    "preLabel": "Which project baseline/s relate to this survey?",
                                    "readonly": "readonly"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "investmentPriorities2",
                                    "preLabel": "Which investment priority does this activity relate to?",
                                    "type": "select2Many"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Activity start date",
                                    "source": "activitiesStartDate",
                                    "type": "date"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Activity end date",
                                    "source": "activitiesEndDate",
                                    "type": "date"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Sites covered by pest animal survey",
                                    "source": "sitesCoveredForPestAnimal",
                                    "type": "feature"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "calculatedAreaTreatedHa",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    },
                                    "readonly": "readonly"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "calculatedLengthTreatedKm",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    },
                                    "readonly": "readonly"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Please attach mapping details",
                                    "source": "extraMappingDetails",
                                    "type": "document"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Actual area (ha) / length (km) covered by pest animal survey",
                                    "source": "areaTreatedHa",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    }
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "lengthTreatedKm",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    }
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Reason for actual being different to mapped amount",
                                    "source": "mappingNotAlignedReason",
                                    "type": "selectOne"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "placeholder": "Please enter the reason/s the mapping didn't align with the invoiced amount",
                                    "source": "mappingNotAlignedComments",
                                    "type": "textarea",
                                    "rows": 5
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Survey technique",
                                    "source": "emsaProtocol",
                                    "type": "selectOne",
                                    "readonly": "readonly"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Survey technique (if Other)",
                                    "source": "otherEmsaProtocol",
                                    "type": "select2Many"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "surveyMethodology",
                                    "preLabel": "Survey methodology",
                                    "type": "text"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "invoicingThisActivity",
                                    "preLabel": "Are you invoicing for this activity in this reporting period?",
                                    "type": "selectOne"
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "columns": [
                          {
                            "width": "55%",
                            "source": "species",
                            "title": "Target species recorded",
                            "type": "speciesSelect"
                          },
                          {
                            "width": "25%",
                            "source": "individualsOrGroups",
                            "title": "Individuals or groups?",
                            "type": "selectOne"
                          },
                          {
                            "width": "20%",
                            "source": "numberOfIndividualsOrGroups",
                            "title": "Number of individuals / groups in pest animal survey",
                            "type": "number"
                          }
                        ],
                        "userAddedRows": true,
                        "disableTableUpload": true,
                        "source": "pestAnimalSurveySpeciesTable",
                        "type": "table"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Optionally attach photos",
                    "source": "photographicEvidence",
                    "type": "image"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Clarification, if needed",
                    "type": "textarea",
                    "rows": 4,
                    "css": "span8",
                    "source": "comments",
                    "placeholder": "Clarification comments include information for your project manager about the service like:\n • any reported items that are not being invoiced (eg, over-achievement) \n • any extraneous circumstances that affected delivery of the service \n"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<p><b>Available Evidence</b></p>This field is mandatory for all projects as part of the invoicing process. Please list evidence you have retained for this service and provide information to where the evidence is stored (links/file location data). Refer to the Project Service Evidence Guide and the Project Service Summaries for information on the evidence requirements.<b style=\"color:red\">*</b>"
                  },
                  {
                    "preLabel": "Data have been uploaded",
                    "source": "dataUploaded",
                    "type": "boolean"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "",
                    "source": "projectAssuranceDetails",
                    "type": "textarea",
                    "rows": 4,
                    "placeholder": "List the documentary evidence you have available for this project service. Include specifically, the document titles and location (e.g. internal IT network pathway, URLs) to assist with locating this material for future audits/assurance purposes."
                  }
                ]
              },
              {
                "type": "table",
                "source": "assuranceDocuments",
                "userAddedRows": true,
                "disableTableUpload": true,
                "columns": [
                  {
                    "title": "Attached documents",
                    "source": "attachments",
                    "type": "document"
                  }
                ]
              }
            ]
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtPestAnimalSurvey",
      "optional": true,
      "optionalQuestionText": null,
      "title": "Pest animal survey",
      "collapsibleHeading": null,
      "name": "NHT - Pest animal survey",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "dataModel": [
          {
            "allowRowDelete": "false",
            "columns": [
              {
                "dataType": "text",
                "name": "participationIndividualsOrGroups",
                "description": "Once Individuals or groups is selected, the related number field in the next two columns will become editable to report.",
                "constraints": [
                  "Individuals",
                  "Groups"
                ],
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "participationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "participationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ]
              },
              {
                "dataType": "number",
                "name": "firstNationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "param": {
                      "expression": "participationIndividualNumber",
                      "type": "computed"
                    },
                    "rule": "max"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "firstNationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "param": {
                      "expression": "participationGroupNumber",
                      "type": "computed"
                    },
                    "rule": "max",
                    "message": "The number of first nation participants cannot be greater than the total number of participants"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "participationDetails",
                "validate": "required, maxSize[3000]"
              }
            ],
            "dataType": "list",
            "name": "participationInformationTableRem"
          },
          {
            "columns": [
              {
                "name": "relatedOutcomes",
                "dataType": "text",
                "description": "Select the outcome/s as defined in your MERI plan that this service was delivered to achieve.",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "value",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "context-path": "outcomes"
                    }
                  }
                }
              },
              {
                "name": "investmentPriorities2",
                "dataType": "text",
                "description": "",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "value",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "context-path": "owner.investmentPriorities"
                    }
                  }
                }
              },
              {
                "dataType": "text",
                "name": "otherInvestmentPriority",
                "behaviour": [
                  {
                    "type": "enable",
                    "condition": "\"Other\" in investmentPriorities2"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "invoicingThisActivity",
                "constraints": [
                  "Yes",
                  "No"
                ],
                "validate": "required"
              },
              {
                "dataType": "text",
                "name": "initialOrFollowup",
                "constraints": [
                  "Initial",
                  "Follow-up"
                ],
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "noRemediationInterventions",
                "validate": "required"
              },
              {
                "dataType": "feature",
                "name": "sitesRemediated",
                "description": "Mapping field to be done and Area (ha)/length (km) field be auto-calculated from mapping."
              },
              {
                "computed": {
                  "expression": "$geom.areaHa(sitesRemediated)"
                },
                "dataType": "number",
                "name": "calculatedAreaTreatedHaRemediated",
                "units": "ha",
                "decimalPlaces": 3
              },
              {
                "computed": {
                  "expression": "$geom.lengthKm(sitesRemediated)"
                },
                "dataType": "number",
                "name": "calculatedLengthTreatedKmRemediated",
                "units": "km",
                "decimalPlaces": 3,
                "behaviour": [
                  {
                    "condition": "lengthTreatedKmRemediated > 0",
                    "type": "conditional_validation",
                    "value": {
                      "message": "The managed length must be mapped",
                      "validate": "required,min[0.0001]"
                    }
                  }
                ]
              },
              {
                "defaultValue": {
                  "type": "computed",
                  "expression": "calculatedAreaTreatedHaRemediated"
                },
                "dataType": "number",
                "name": "areaTreatedHaRemediated",
                "description": "Manually enter correct figure for this reporting period if different to mapped value.",
                "units": "ha",
                "decimalPlaces": 3,
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedReasonRemediated",
                "constraints": [
                  "Mapped area simplifies more complex area/s where work was undertaken during this period",
                  "Other"
                ],
                "validate": "required",
                "behaviour": [
                  {
                    "condition": "not (within(areaTreatedHaRemediated, calculatedAreaTreatedHaRemediated, 0.1) and within(lengthTreatedKmRemediated, calculatedLengthTreatedKmRemediated, 0.1))",
                    "type": "if"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedCommentsRemediated",
                "validate": "required,maxSize[100]",
                "behaviour": [
                  {
                    "type": "visible",
                    "condition": "\"Other\" == mappingNotAlignedReasonRemediated"
                  }
                ]
              },
              {
                "dataType": "document",
                "name": "extraMappingDetailsRemediated",
                "validate": "required",
                "description": "Please fill in the Mapped/Actual/Invoice fields before attaching a document here. If those fields match this field will be void. <br/>If any of these fields differ please attach your organisation's detailed map for the area, covered by this project service - during reporting period (include the scale measure for each map).",
                "behaviour": [
                  {
                    "condition": "not (within(areaTreatedHaRemediated, calculatedAreaTreatedHaRemediated, 0.1) and within(lengthTreatedKmRemediated, calculatedLengthTreatedKmRemediated, 0.1))",
                    "type": "if"
                  }
                ]
              },
              {
                "defaultValue": {
                  "type": "computed",
                  "expression": "calculatedLengthTreatedKmRemediated"
                },
                "dataType": "number",
                "name": "lengthTreatedKmRemediated",
                "units": "km",
                "decimalPlaces": 3
              },
              {
                "dataType": "date",
                "name": "activitiesStartDate",
                "description": "Specific the dates these events were held on.",
                "validate": "required"
              },
              {
                "dataType": "date",
                "name": "activitiesEndDate",
                "description": "Specific the dates these events were held on.",
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "future",
                    "param": {
                      "expression": "formatDateForValidation(activitiesStartDate)",
                      "type": "computed"
                    }
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "typesOfRemediationInstalled",
                "description": "",
                "constraints": [
                  "Access control",
                  "Bank grooming",
                  "Flow gauging stations",
                  "Fords",
                  "Culverts",
                  "Revegetation",
                  "Weirs",
                  "Other"
                ],
                "validate": "required"
              },
              {
                "dataType": "text",
                "name": "otherRemediationType",
                "behaviour": [
                  {
                    "condition": "typesOfRemediationInstalled == \"Other\"",
                    "type": "enable"
                  }
                ],
                "validate": "required,maxSize[100]"
              },
              {
                "dataType": "text",
                "name": "remediationType",
                "description": "",
                "constraints": [
                  "Access control",
                  "Bank grooming",
                  "Flow gauging stations",
                  "Fords",
                  "Culverts",
                  "Revegetation",
                  "Weirs",
                  "Other"
                ],
                "validate": "required"
              },
              {
                "dataType": "text",
                "name": "otherRemediationType",
                "behaviour": [
                  {
                    "condition": "remediationType == \"Other\"",
                    "type": "enable"
                  }
                ],
                "validate": "required,maxSize[100]"
              },
              {
                "dataType": "feature",
                "name": "sitesBenefitted",
                "description": "Mapping field to be done and Area (ha) field be auto-calculated from mapping."
              },
              {
                "computed": {
                  "expression": "$geom.areaHa(sitesBenefitted)"
                },
                "dataType": "number",
                "name": "calculatedAreaTreatedHaBenefitted",
                "units": "ha",
                "decimalPlaces": 3
              },
              {
                "computed": {
                  "expression": "$geom.lengthKm(sitesBenefitted)"
                },
                "dataType": "number",
                "name": "calculatedLengthTreatedKmBenefitted",
                "units": "km",
                "decimalPlaces": 3,
                "behaviour": [
                  {
                    "condition": "lengthTreatedKmBenefitted > 0",
                    "type": "conditional_validation",
                    "value": {
                      "message": "The managed length must be mapped",
                      "validate": "required,min[0.0001]"
                    }
                  }
                ]
              },
              {
                "defaultValue": {
                  "type": "computed",
                  "expression": "calculatedAreaTreatedHaBenefitted"
                },
                "dataType": "number",
                "name": "areaTreatedHaBenefitted",
                "description": "Manually enter correct figure for this reporting period if different to mapped value.",
                "units": "ha",
                "decimalPlaces": 3,
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedReasonBenefitted",
                "constraints": [
                  "Mapped area simplifies more complex area/s where work was undertaken during this period",
                  "Other"
                ],
                "validate": "required",
                "behaviour": [
                  {
                    "condition": "not (within(areaTreatedHaBenefitted, calculatedAreaTreatedHaBenefitted, 0.1))",
                    "type": "if"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedCommentsBenefitted",
                "validate": "required,maxSize[100]",
                "behaviour": [
                  {
                    "type": "visible",
                    "condition": "\"Other\" == mappingNotAlignedReasonBenefitted"
                  }
                ]
              },
              {
                "dataType": "document",
                "name": "extraMappingDetailsBenefitted",
                "validate": "required",
                "description": "Please fill in the Mapped/Actual/Invoice fields before attaching a document here. If those fields match this field will be void. <br/>If any of these fields differ please attach your organisation's detailed map for the area, covered by this project service - during reporting period (include the scale measure for each map).",
                "behaviour": [
                  {
                    "condition": "not (within(areaTreatedHaBenefitted, calculatedAreaTreatedHaBenefitted, 0.1) and within(lengthTreatedKmBenefitted, calculatedLengthTreatedKmBenefitted, 0.1))",
                    "type": "if"
                  }
                ]
              },
              {
                "defaultValue": {
                  "type": "computed",
                  "expression": "calculatedLengthTreatedKmBenefitted"
                },
                "dataType": "number",
                "name": "lengthTreatedKmBenefitted",
                "units": "km",
                "decimalPlaces": 3
              },
              {
                "dataType": "text",
                "name": "evidenceOfBenefit",
                "validate": "maxSize[100]"
              }
            ],
            "dataType": "list",
            "name": "remediatingAreas"
          },
          {
            "dataType": "number",
            "name": "totalAreaRemediationInitial",
            "validate": "min[0]",
            "decimalPlaces": 3,
            "computed": {
              "expression": "sum(remediatingAreas, \"initialOrFollowup == 'Initial' ? areaTreatedHaRemediated : 0\")"
            }
          },
          {
            "dataType": "number",
            "decimalPlaces": 3,
            "name": "totalAreaRemediationInitialInvoiced",
            "description": "Manually enter if values have decimal points e.g. 0.350 or 2.545",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalAreaRemediationInitial",
                  "type": "computed",
                  "decimalPlaces": 3
                },
                "rule": "max"
              }
            ],
            "defaultValue": ""
          },
          {
            "dataType": "number",
            "name": "totalAreaRemediationFollowup",
            "validate": "min[0]",
            "decimalPlaces": 3,
            "computed": {
              "expression": "sum(remediatingAreas, \"initialOrFollowup == 'Follow-up' ? areaTreatedHaRemediated : 0\")"
            }
          },
          {
            "dataType": "number",
            "decimalPlaces": 3,
            "name": "totalAreaRemediationFollowupInvoiced",
            "description": "Manually enter if values have decimal points e.g. 0.350 or 2.545",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalAreaRemediationFollowup",
                  "type": "computed",
                  "decimalPlaces": 3
                },
                "rule": "max"
              }
            ],
            "defaultValue": ""
          },

          {
            "dataType": "number",
            "name": "totalLengthRemediationInitial",
            "validate": "min[0]",
            "decimalPlaces": 3,
            "computed": {
              "expression": "sum(remediatingAreas, \"initialOrFollowup == 'Initial' ? lengthTreatedKmRemediated : 0\")"
            }
          },
          {
            "dataType": "number",
            "decimalPlaces": 3,
            "name": "totalLengthRemediationInitialInvoiced",
            "description": "Manually enter if values have decimal points e.g. 0.350 or 2.545",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalLengthRemediationInitial",
                  "type": "computed",
                  "decimalPlaces": 3
                },
                "rule": "max"
              }
            ],
            "defaultValue": ""
          },
          {
            "dataType": "number",
            "name": "totalLengthRemediationFollowup",
            "validate": "min[0]",
            "decimalPlaces": 3,
            "computed": {
              "expression": "sum(remediatingAreas, \"initialOrFollowup == 'Follow-up' ? lengthTreatedKmRemediated : 0\")"
            }
          },
          {
            "dataType": "number",
            "decimalPlaces": 3,
            "name": "totalLengthRemediationFollowupInvoiced",
            "description": "Manually enter if values have decimal points e.g. 0.350 or 2.545",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalLengthRemediationFollowup",
                  "type": "computed",
                  "decimalPlaces": 3
                },
                "rule": "max"
              }
            ],
            "defaultValue": ""
          },

          {
            "dataType": "number",
            "name": "totalStructuresInstalled",
            "validate": "min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(remediatingAreas, \"noRemediationInterventions\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalStructuresInstalledInvoiced",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalStructuresInstalled",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": ""
          },
          {
            "dataType": "number",
            "name": "totalStructuresInstalledFollowup",
            "validate": "min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(remediatingAreas, \"initialOrFollowup == 'Follow-up' ? noRemediationInterventions : 0\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalStructuresInstalledFollowupInvoiced",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalStructuresInstalledFollowup",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": ""
          },
          {
            "dataType": "text",
            "name": "totalInvoicedRemediationMismatched",
            "description": "Please provide the reason/s why you are not invoicing for the same number that have been completed and delivered, e.g. the personnel and equipment were available to deliver more than was contracted.",
            "validate": "maxSize[400],required",
            "behaviour": [
              {
                "condition": "totalAreaRemediationInitialInvoiced < totalAreaRemediationInitial or totalAreaRemediationFollowupInvoiced < totalAreaRemediationFollowup or totalLengthRemediationInitialInvoiced < totalLengthRemediationInitial or totalLengthRemediationFollowupInvoiced < totalLengthRemediationFollowup or totalStructuresInstalledInvoiced < totalStructuresInstalled",
                "type": "enable"
              }
            ]
          },
          {
            "dataType": "text",
            "name": "comments",
            "validate": "maxSize[1500]"
          },
          {
            "dataType": "image",
            "name": "photographicEvidence"
          },
          {
            "dataType": "boolean",
            "name": "dataUploaded",
            "description": "<ul><li>Tick box to confirm data has been uploaded</li><li>URL Link (mandatory if below is ticked) in available evidence</li></ul>"
          },
          {
            "name": "projectAssuranceDetails",
            "dataType": "text",
            "validate": "required,maxSize[5000]"
          },
          {
            "dataType": "list",
            "name": "assuranceDocuments",
            "columns": [
              {
                "dataType": "document",
                "name": "attachments",
                "description": "Please attach any Evidence of Service Delivery here."
              }
            ]
          }
        ],
        "modelName": "NHT - Remediating riparian and aquatic areas",
        "title": "Remediating Riparian and Aquatic Areas",
        "viewModel": [
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<h3>Participation information</h3>"
              }
            ]
          },
          {
            "disableTableUpload": true,
            "columns": [
              {
                "width": "10%",
                "source": "participationIndividualsOrGroups",
                "title": "Are individuals or groups delivering this service?",
                "type": "selectOne"
              },
              {
                "width": "20%",
                "type": "col",
                "title": "Total number of people delivering this service <br>(including First Nations people)<b style=\"color:red\">*</b>",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "participationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "participationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "type": "col",
                "width": "20%",
                "title": "Total number of First Nations people delivering this service<b style=\"color:red\">*</b>",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "firstNationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "firstNationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "width": "20%",
                "source": "participationDetails",
                "rows": 4,
                "title": "If no First Nations people participated in the delivery of this service, <br>what are the reasons? If there was participation, please provide details.",
                "helpText": "If there were no First Nations people participating in the delivery of this service, please explain the reasons. If there were First Nations people involved, please outline how they were involved.",
                "type": "textarea"
              }
            ],
            "source": "participationInformationTableRem",
            "type": "table"
          },
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<h3>Totals Summary</h3>"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(i) Total area (ha) of remediation of riparian/aquatic areas (initial) during this reporting period",
                        "source": "totalAreaRemediationInitial",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(ii) Total area (ha) of remediation of riparian/aquatic areas (initial) <u><i>invoiced</i></u> for during this reporting period",
                        "source": "totalAreaRemediationInitialInvoiced",
                        "type": "number",
                        "displayOptions": {
                          "removeTrailingZeros": false
                        }
                      }
                    ]
                  }
                ]
              },
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(iii) Total area (ha) of remediation of riparian/aquatic areas (follow - up) during this reporting period",
                        "source": "totalAreaRemediationFollowup",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(iv) Total area (ha) of remediation of riparian/aquatic areas (follow - up) <u><i>invoiced</i></u> for during this reporting period",
                        "source": "totalAreaRemediationFollowupInvoiced",
                        "type": "number",
                        "displayOptions": {
                          "removeTrailingZeros": false
                        }
                      }
                    ]
                  }
                ]
              },
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(v) Total length (km) of remediation of riparian/aquatic areas (initial) during this reporting period",
                        "source": "totalLengthRemediationInitial",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(vi) Total length (km) of remediation of riparian/aquatic areas (initial) <u><i>invoiced</i></u> for during this reporting period",
                        "source": "totalLengthRemediationInitialInvoiced",
                        "type": "number",
                        "displayOptions": {
                          "removeTrailingZeros": false
                        }
                      }
                    ]
                  }
                ]
              },
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(vii) Total length (km) of remediation of riparian/aquatic areas (follow-up) during this reporting period",
                        "source": "totalLengthRemediationFollowup",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(viii) Total length (km) of remediation of riparian/aquatic areas (follow-up) <u><i>invoiced</i></u> for during this reporting period",
                        "source": "totalLengthRemediationFollowupInvoiced",
                        "type": "number",
                        "displayOptions": {
                          "removeTrailingZeros": false
                        }
                      }
                    ]
                  }
                ]
              },
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(ix) Number of remediation interventions applied to promote aquatic health during this reporting period",
                        "source": "totalStructuresInstalled",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(x) Number of remediation interventions applied to promote aquatic health <u><i>invoiced</i></u> for during this reporting period",
                        "source": "totalStructuresInstalledInvoiced",
                        "type": "number"
                      }
                    ]
                  }
                ]
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "If the total invoiced is different to the total completed, please provide the reason",
                "source": "totalInvoicedRemediationMismatched",
                "type": "textarea",
                "rows": 4,
                "placeholder": ""
              }
            ]
          },
          {
            "addRowText": "Add a new area",
            "userAddedRows": true,
            "source": "remediatingAreas",
            "type": "repeat",
            "items": [
              {
                "type": "row",
                "items": [
                  {
                    "css": "span3 col-border-right",
                    "type": "col",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "relatedOutcomes",
                            "type": "selectOne",
                            "preLabel": "Which outcome statement/s does this activity relate to?"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "investmentPriorities2",
                            "preLabel": "Which investment priority does this activity relate to?",
                            "type": "select2Many"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "css": "span3",
                    "type": "col",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "invoicingThisActivity",
                            "preLabel": "Are you invoicing for this activity in this reporting period?",
                            "type": "selectOne"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "noRemediationInterventions",
                            "preLabel": "Number of remediation interventions installed",
                            "type": "number"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "initialOrFollowup",
                            "preLabel": "Initial or follow-up treatment?",
                            "type": "selectOne"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Site/s covered by remediation",
                            "source": "sitesRemediated",
                            "type": "feature"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "calculatedAreaTreatedHaRemediated",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            },
                            "readonly": "readonly"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "calculatedLengthTreatedKmRemediated",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            },
                            "readonly": "readonly"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Please attach mapping details",
                            "source": "extraMappingDetailsRemediated",
                            "type": "document"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Actual area (ha) / length (km) being remediated",
                            "source": "areaTreatedHaRemediated",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "lengthTreatedKmRemediated",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Reason for actual being different to mapped amount",
                            "source": "mappingNotAlignedReasonRemediated",
                            "type": "selectOne"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "placeholder": "Please enter the reason/s the mapping didn't align with the invoiced amount",
                            "source": "mappingNotAlignedCommentsRemediated",
                            "type": "textarea",
                            "rows": 5
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "css": "span3",
                    "type": "col",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "activitiesStartDate",
                            "type": "date",
                            "preLabel": "Activity start date"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "activitiesEndDate",
                            "preLabel": "Activity end date",
                            "type": "date"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Type of remediation intervention installed",
                            "source": "typesOfRemediationInstalled",
                            "type": "select2"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "otherRemediationType",
                            "placeholder": "Type of remediation intervention (if Other)",
                            "type": "text"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Type of aquatic and riparian remediation",
                            "source": "remediationType",
                            "type": "select2"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "otherRemediationType",
                            "placeholder": "Type of aquatic and riparian remediation (if Other)",
                            "type": "text"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Please identify any off-site area/s that may benefit from this service",
                            "source": "sitesBenefitted",
                            "type": "feature"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "calculatedAreaTreatedHaBenefitted",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            },
                            "readonly": "readonly"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Please attach mapping details",
                            "source": "extraMappingDetailsBenefitted",
                            "type": "document"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "evidenceOfBenefit",
                            "preLabel": "Please provide a description on the evidence available to reflect this benefit",
                            "type": "textarea"
                          }
                        ]
                      }
                    ]
                  }
                ]
              }
            ]
          },
          {
            "type": "section",
            "items": [
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Optionally attach photos",
                    "source": "photographicEvidence",
                    "type": "image"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Clarification, if needed",
                    "type": "textarea",
                    "rows": 4,
                    "css": "span8",
                    "source": "comments",
                    "placeholder": "Clarification comments include information for your project manager about the service like:\n • any reported items that are not being invoiced (eg, over-achievement) \n • any extraneous circumstances that affected delivery of the service \n"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<p><b>Available Evidence</b></p>This field is mandatory for all projects as part of the invoicing process. Please list evidence you have retained for this service and provide information to where the evidence is stored (links/file location data). Refer to the Project Service Evidence Guide and the Project Service Summaries for information on the evidence requirements.<b style=\"color:red\">*</b>"
                  },
                  {
                    "preLabel": "Data have been uploaded",
                    "source": "dataUploaded",
                    "type": "boolean"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "",
                    "source": "projectAssuranceDetails",
                    "type": "textarea",
                    "rows": 4,
                    "placeholder": "List the documentary evidence you have available for this project service. Include specifically, the document titles and location (e.g. internal IT network pathway, URLs) to assist with locating this material for future audits/assurance purposes."
                  }
                ]
              },
              {
                "type": "table",
                "source": "assuranceDocuments",
                "userAddedRows": true,
                "disableTableUpload": true,
                "columns": [
                  {
                    "title": "Attached documents",
                    "source": "attachments",
                    "type": "document"
                  }
                ]
              }
            ]
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtRemediatingRiparianAndAquaticAreas",
      "optional": true,
      "optionalQuestionText": null,
      "title": "Remediating riparian and aquatic areas",
      "collapsibleHeading": null,
      "name": "NHT - Remediating riparian and aquatic areas",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "dataModel": [
          {
            "columns": [
              {
                "dataType": "text",
                "name": "initialOrFollowup",
                "constraints": [
                  "Initial",
                  "Follow-up"
                ],
                "validate": "required"
              },
              {
                "dataType": "feature",
                "name": "sitesUndertakenForWeedTreatment",
                "description": "Mapping field to be done and Area (ha)/length (km) field be auto-calculated from mapping."
              },
              {
                "computed": {
                  "expression": "$geom.areaHa(sitesUndertakenForWeedTreatment)"
                },
                "dataType": "number",
                "name": "calculatedAreaTreatedHa",
                "units": "ha",
                "decimalPlaces": 3
              },
              {
                "computed": {
                  "expression": "$geom.lengthKm(sitesUndertakenForWeedTreatment)"
                },
                "dataType": "number",
                "name": "calculatedLengthTreatedKm",
                "units": "km",
                "decimalPlaces": 3,
                "behaviour": [
                  {
                    "condition": "lengthTreatedKm > 0",
                    "type": "conditional_validation",
                    "value": {
                      "message": "The managed length must be mapped",
                      "validate": "required,min[0.0001]"
                    }
                  }
                ]
              },
              {
                "defaultValue": {
                  "type": "computed",
                  "expression": "calculatedAreaTreatedHa"
                },
                "dataType": "number",
                "name": "areaTreatedHa",
                "description": "Manually enter correct figure for this reporting period if different to mapped value.",
                "units": "ha",
                "decimalPlaces": 3,
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedReason",
                "constraints": [
                  "Mapped area simplifies more complex area/s where work was undertaken during this period",
                  "Other"
                ],
                "validate": "required",
                "behaviour": [
                  {
                    "condition": "not (within(areaTreatedHa, calculatedAreaTreatedHa, 0.1) and within(lengthTreatedKm, calculatedLengthTreatedKm, 0.1))",
                    "type": "if"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedComments",
                "validate": "required,maxSize[100]",
                "behaviour": [
                  {
                    "type": "visible",
                    "condition": "\"Other\" == mappingNotAlignedReason"
                  }
                ]
              },
              {
                "dataType": "document",
                "name": "extraMappingDetails",
                "validate": "required",
                "description": "Please fill in the Mapped/Actual/Invoice fields before attaching a document here. If those fields match this field will be void. <br/>If any of these fields differ please attach your organisation's detailed map for the area, covered by this project service - during reporting period (include the scale measure for each map).",
                "behaviour": [
                  {
                    "condition": "not (within(areaTreatedHa, calculatedAreaTreatedHa, 0.1) and within(lengthTreatedKm, calculatedLengthTreatedKm, 0.1))",
                    "type": "if"
                  }
                ]
              },
              {
                "defaultValue": {
                  "type": "computed",
                  "expression": "calculatedLengthTreatedKm"
                },
                "dataType": "number",
                "name": "lengthTreatedKm",
                "units": "km",
                "decimalPlaces": 3
              },
              {
                "name": "relatedOutcomes",
                "dataType": "text",
                "description": "Select the outcome/s as defined in your MERI plan that this service was delivered to achieve.",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "label",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "url": "/project/outcomesByScores",
                      "params": [
                        {
                          "expression": "owner.projectId",
                          "name": "id",
                          "type": "computed"
                        },
                        {
                          "expression": "scores",
                          "name": "scoreIds",
                          "type": "computed"
                        }
                      ]
                    }
                  }
                }
              },
              {
                "name": "investmentPriorities2",
                "dataType": "text",
                "description": "",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "value",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "context-path": "owner.investmentPriorities"
                    }
                  }
                }
              },
              {
                "dataType": "text",
                "name": "otherInvestmentPriority",
                "behaviour": [
                  {
                    "type": "enable",
                    "condition": "\"Other\" in investmentPriorities2"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "invoicingThisActivity",
                "constraints": [
                  "Yes",
                  "No"
                ],
                "validate": "required"
              },
              {
                "columns": [
                  {
                    "dataType": "species",
                    "name": "weedTargetSpecies",
                    "dwcAttribute": "scientificName",
                    "description": "Weed species targeted for treatment (start typing a  scientific or common name for a species).",
                    "validate": "required"
                  },
                  {
                    "dataType": "text",
                    "name": "threatenedEcologicalCommunity",
                    "validate": "maxSize[100]"
                  },
                  {
                    "dataType": "text",
                    "name": "treatmentMethod",
                    "description": "The primary method used to treat the patch of the target species.",
                    "constraints": [
                      "Basal bark spraying",
                      "Biological agents",
                      "Cut stump",
                      "Cut and swab",
                      "Dozing",
                      "Felling",
                      "Fire",
                      "Foliar spraying",
                      "Grubbing / chipping",
                      "Hand pulling",
                      "Moisture and nutrient control",
                      "Mowing",
                      "Overplanting",
                      "Pushing",
                      "Slashing",
                      "Spot spraying",
                      "Splatter gun",
                      "Stem injection",
                      "Stem scraper",
                      "Wick applicators",
                      "Other"
                    ],
                    "validate": "required"
                  },
                  {
                    "dataType": "text",
                    "name": "otherTreatmentMethod",
                    "description": "Please specify the method of treatment used if Other was selected in the Type of treatment column.",
                    "behaviour": [
                      {
                        "condition": "treatmentMethod == \"Other\"",
                        "type": "enable"
                      }
                    ],
                    "validate": "required,maxSize[100]"
                  },
                  {
                    "dataType": "text",
                    "name": "treatmentObjective",
                    "description": "How will the work contribute to protecting the area?",
                    "validate": "required,maxSize[300]"
                  }
                ],
                "dataType": "list",
                "name": "weedSpeciesTreated"
              }
            ],
            "dataType": "list",
            "name": "weedTreatmentAreasControlled"
          },
          {
            "allowRowDelete": "false",
            "columns": [
              {
                "dataType": "text",
                "name": "participationIndividualsOrGroups",
                "description": "Once Individuals or groups is selected, the related number field in the next two columns will become editable to report.",
                "constraints": [
                  "Individuals",
                  "Groups"
                ],
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "participationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "participationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ]
              },
              {
                "dataType": "number",
                "name": "firstNationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "param": {
                      "expression": "participationIndividualNumber",
                      "type": "computed"
                    },
                    "rule": "max"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "firstNationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "param": {
                      "expression": "participationGroupNumber",
                      "type": "computed"
                    },
                    "rule": "max",
                    "message": "The number of first nation participants cannot be greater than the total number of participants"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "participationDetails",
                "validate": "required, maxSize[3000]"
              }
            ],
            "dataType": "list",
            "name": "participationInformationTableRew"
          },
          {
            "dataType": "number",
            "name": "totalAreaWeedsTreatedInitial",
            "validate": "min[0]",
            "decimalPlaces": 3,
            "computed": {
              "expression": "sum(weedTreatmentAreasControlled, \"initialOrFollowup == 'Initial' ? areaTreatedHa : 0\")"
            }
          },
          {
            "dataType": "number",
            "decimalPlaces": 3,
            "name": "totalAreaWeedsTreatedInitialInvoiced",
            "description": "Manually enter if values have decimal points e.g. 0.350 or 2.545",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalAreaWeedsTreatedInitial",
                  "type": "computed",
                  "decimalPlaces": 3
                },
                "rule": "max"
              }
            ],
            "defaultValue": ""
          },
          {
            "dataType": "number",
            "name": "totalAreaWeedsTreatedFollowup",
            "validate": "min[0]",
            "decimalPlaces": 3,
            "computed": {
              "expression": "sum(weedTreatmentAreasControlled, \"initialOrFollowup == 'Follow-up' ? areaTreatedHa : 0\")"
            }
          },
          {
            "dataType": "number",
            "decimalPlaces": 3,
            "name": "totalAreaWeedsTreatedInvoicedFollowup",
            "description": "Manually enter if values have decimal points e.g. 0.350 or 2.545",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalAreaWeedsTreatedFollowup",
                  "type": "computed",
                  "decimalPlaces": 3
                },
                "rule": "max"
              }
            ],
            "defaultValue": ""
          },
          {
            "dataType": "number",
            "name": "totalLengthWeedsTreatedInitial",
            "validate": "min[0]",
            "decimalPlaces": 3,
            "computed": {
              "expression": "sum(weedTreatmentAreasControlled, \"initialOrFollowup == 'Initial' ? lengthTreatedKm : 0\")"
            }
          },
          {
            "dataType": "number",
            "decimalPlaces": 3,
            "name": "totalLengthWeedsTreatedInvoicedInitial",
            "description": "Manually enter if values have decimal points e.g. 0.350 or 2.545",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalLengthWeedsTreatedInitial",
                  "type": "computed",
                  "decimalPlaces": 3
                },
                "rule": "max"
              }
            ],
            "defaultValue": ""
          },
          {
            "dataType": "number",
            "name": "totalLengthWeedsTreatedFollowup",
            "validate": "min[0]",
            "decimalPlaces": 3,
            "computed": {
              "expression": "sum(weedTreatmentAreasControlled, \"initialOrFollowup == 'Follow-up' ? lengthTreatedKm : 0\")"
            }
          },
          {
            "dataType": "number",
            "decimalPlaces": 3,
            "name": "totalLengthWeedsTreatedInvoicedFollowup",
            "description": "Manually enter if values have decimal points e.g. 0.350 or 2.545",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalLengthWeedsTreatedFollowup",
                  "type": "computed",
                  "decimalPlaces": 3
                },
                "rule": "max"
              }
            ],
            "defaultValue": ""
          },
          {
            "dataType": "text",
            "name": "totalInvoicedRemovingWeedsMismatched",
            "description": "Please provide the reason/s why you are not invoicing for the same number that have been completed and delivered, e.g. the personnel and equipment were available to deliver more than was contracted.",
            "validate": "maxSize[400],required",
            "behaviour": [
              {
                "condition": "totalAreaWeedsTreatedInitialInvoiced < totalAreaWeedsTreatedInitial or totalAreaWeedsTreatedInvoicedFollowup < totalAreaWeedsTreatedFollowup or totalLengthWeedsTreatedInvoicedInitial < totalLengthWeedsTreatedInitial or totalLengthWeedsTreatedInvoicedFollowup < totalLengthWeedsTreatedFollowup",
                "type": "enable"
              }
            ]
          },
          {
            "dataType": "text",
            "name": "comments",
            "validate": "maxSize[1500]"
          },
          {
            "dataType": "image",
            "name": "photographicEvidence"
          },
          {
            "dataType": "boolean",
            "name": "dataUploaded",
            "description": "<ul><li>Tick box to confirm data has been uploaded</li><li>URL Link (mandatory if below is ticked) in available evidence</li></ul>"
          },
          {
            "name": "projectAssuranceDetails",
            "dataType": "text",
            "validate": "required,maxSize[5000]"
          },
          {
            "dataType": "list",
            "name": "assuranceDocuments",
            "columns": [
              {
                "dataType": "document",
                "name": "attachments",
                "description": "Please attach any Evidence of Service Delivery here."
              }
            ]
          }
        ],
        "modelName": "NHT - Weed treatment",
        "title": "Removing Weeds",
        "viewModel": [
          {
            "type": "section",
            "items": [
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<h3>Participation information</h3>"
                  }
                ]
              },
              {
                "disableTableUpload": true,
                "columns": [
                  {
                    "width": "10%",
                    "source": "participationIndividualsOrGroups",
                    "title": "Are individuals or groups delivering this service?",
                    "type": "selectOne"
                  },
                  {
                    "width": "20%",
                    "type": "col",
                    "title": "Total number of people delivering this service <br>(including First Nations people)<b style=\"color:red\">*</b>",
                    "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                    "items": [
                      {
                        "source": "participationIndividualNumber",
                        "type": "number"
                      },
                      {
                        "source": "participationGroupNumber",
                        "type": "selectOne"
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "width": "20%",
                    "title": "Total number of First Nations people delivering this service<b style=\"color:red\">*</b>",
                    "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                    "items": [
                      {
                        "source": "firstNationIndividualNumber",
                        "type": "number"
                      },
                      {
                        "source": "firstNationGroupNumber",
                        "type": "selectOne"
                      }
                    ]
                  },
                  {
                    "width": "20%",
                    "source": "participationDetails",
                    "rows": 4,
                    "title": "If no First Nations people participated in the delivery of this service, <br>what are the reasons? If there was participation, please provide details.",
                    "helpText": "If there were no First Nations people participating in the delivery of this service, please explain the reasons. If there were First Nations people involved, please outline how they were involved.",
                    "type": "textarea"
                  }
                ],
                "source": "participationInformationTableRew",
                "type": "table"
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<h3>Totals Summary</h3>"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "col",
                    "css": "span4 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(i) Total area (ha) treated for weeds (initial) for this reporting period",
                            "source": "totalAreaWeedsTreatedInitial",
                            "type": "number"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(ii) Total area (ha) treated for weeds (initial) <u><i>invoiced</i></u> for this reporting period",
                            "source": "totalAreaWeedsTreatedInitialInvoiced",
                            "type": "number",
                            "displayOptions": {
                              "removeTrailingZeros": false
                            }
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span4 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(iii) Total area (ha) treated for weeds (follow-up) for this reporting period",
                            "source": "totalAreaWeedsTreatedFollowup",
                            "type": "number"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(iv) Total area (ha) treated for weeds (follow-up) <u><i>invoiced</i></u> for this reporting period",
                            "source": "totalAreaWeedsTreatedInvoicedFollowup",
                            "type": "number",
                            "displayOptions": {
                              "removeTrailingZeros": false
                            }
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span4 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(v) Total length (km) treated for weeds (initial) for this reporting period",
                            "source": "totalLengthWeedsTreatedInitial",
                            "type": "number"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(vi) Total length (km) treated for weeds (initial) <u><i>invoiced</i></u> for this reporting period",
                            "source": "totalLengthWeedsTreatedInvoicedInitial",
                            "type": "number",
                            "displayOptions": {
                              "removeTrailingZeros": false
                            }
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span4 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(vii) Total length (km) treated for weeds (follow-up) for this reporting period",
                            "source": "totalLengthWeedsTreatedFollowup",
                            "type": "number"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(viii) Total length (km) treated for weeds (follow-up) <u><i>invoiced</i></u> for this reporting period",
                            "source": "totalLengthWeedsTreatedInvoicedFollowup",
                            "type": "number",
                            "displayOptions": {
                              "removeTrailingZeros": false
                            }
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "If the total invoiced is different to the total completed, please provide the reason",
                    "source": "totalInvoicedRemovingWeedsMismatched",
                    "type": "textarea",
                    "rows": 4,
                    "placeholder": ""
                  }
                ]
              },
              {
                "addRowText": "New weed removal site",
                "userAddedRows": true,
                "source": "weedTreatmentAreasControlled",
                "type": "repeat",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "css": "span3",
                        "type": "col",
                        "items": [
                          {
                            "type": "row",
                            "items": [
                              {
                                "source": "relatedOutcomes",
                                "type": "selectOne",
                                "preLabel": "Which outcome statement/s does this activity relate to?"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "col",
                        "css": "span3 col-border-right",
                        "items": [
                          {
                            "type": "row",
                            "items": [
                              {
                                "source": "investmentPriorities2",
                                "preLabel": "Which investment priority does this activity relate to?",
                                "type": "select2Many"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "css": "span3",
                        "type": "col",
                        "items": [
                          {
                            "type": "row",
                            "items": [
                              {
                                "source": "invoicingThisActivity",
                                "preLabel": "Are you invoicing for this activity in this reporting period?",
                                "type": "selectOne"
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "css": "border-bottom",
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "Initial or follow-up treatment",
                        "css": "span3",
                        "source": "initialOrFollowup",
                        "type": "selectOne"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "type": "col",
                        "css": "span3 col-border-right",
                        "items": [
                          {
                            "type": "row",
                            "items": [
                              {
                                "preLabel": "Site/s treated for weed removal",
                                "source": "sitesUndertakenForWeedTreatment",
                                "type": "feature"
                              }
                            ]
                          },
                          {
                            "type": "row",
                            "items": [
                              {
                                "source": "calculatedAreaTreatedHa",
                                "type": "number",
                                "displayOptions": {
                                  "displayUnits": true
                                },
                                "readonly": "readonly"
                              }
                            ]
                          },
                          {
                            "type": "row",
                            "items": [
                              {
                                "source": "calculatedLengthTreatedKm",
                                "type": "number",
                                "displayOptions": {
                                  "displayUnits": true
                                },
                                "readonly": "readonly"
                              }
                            ]
                          },
                          {
                            "type": "row",
                            "items": [
                              {
                                "preLabel": "Please attach mapping details",
                                "source": "extraMappingDetails",
                                "type": "document"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "col",
                        "css": "span3 col-border-right",
                        "items": [
                          {
                            "type": "row",
                            "items": [
                              {
                                "preLabel": "Actual area (ha) / length (km) treated for weed removal",
                                "source": "areaTreatedHa",
                                "type": "number",
                                "displayOptions": {
                                  "displayUnits": true
                                }
                              }
                            ]
                          },
                          {
                            "type": "row",
                            "items": [
                              {
                                "source": "lengthTreatedKm",
                                "type": "number",
                                "displayOptions": {
                                  "displayUnits": true
                                }
                              }
                            ]
                          },
                          {
                            "type": "row",
                            "items": [
                              {
                                "preLabel": "Reason for actual being different to mapped amount",
                                "source": "mappingNotAlignedReason",
                                "type": "selectOne"
                              }
                            ]
                          },
                          {
                            "type": "row",
                            "items": [
                              {
                                "placeholder": "Please enter the reason/s the mapping didn't align with the invoiced amount",
                                "source": "mappingNotAlignedComments",
                                "type": "textarea",
                                "rows": 5
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "columns": [
                      {
                        "width": "20%",
                        "source": "weedTargetSpecies",
                        "title": "Target weed species",
                        "type": "speciesSelect"
                      },
                      {
                        "width": "22%",
                        "source": "threatenedEcologicalCommunity",
                        "title": "Threatened Ecological Communities (if applicable) benefitting from this activity",
                        "type": "text"
                      },
                      {
                        "width": "15%",
                        "source": "treatmentMethod",
                        "title": "Type of treatment being used",
                        "type": "selectOne"
                      },
                      {
                        "width": "20%",
                        "source": "otherTreatmentMethod",
                        "title": "Type of treatment (if other)",
                        "type": "text"
                      },
                      {
                        "width": "23%",
                        "source": "treatmentObjective",
                        "title": "Treatment objective",
                        "type": "textarea"
                      }
                    ],
                    "userAddedRows": true,
                    "disableTableUpload": true,
                    "source": "weedSpeciesTreated",
                    "type": "table"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Optionally attach photos",
                    "source": "photographicEvidence",
                    "type": "image"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Clarification, if needed",
                    "type": "textarea",
                    "rows": 4,
                    "css": "span8",
                    "source": "comments",
                    "placeholder": "Clarification comments include information for your project manager about the service like:\n • any reported items that are not being invoiced (eg, over-achievement) \n • any extraneous circumstances that affected delivery of the service \n"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<p><b>Available Evidence</b></p>This field is mandatory for all projects as part of the invoicing process. Please list evidence you have retained for this service and provide information to where the evidence is stored (links/file location data). Refer to the Project Service Evidence Guide and the Project Service Summaries for information on the evidence requirements.<b style=\"color:red\">*</b>"
                  },
                  {
                    "preLabel": "Data have been uploaded",
                    "source": "dataUploaded",
                    "type": "boolean"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "",
                    "source": "projectAssuranceDetails",
                    "type": "textarea",
                    "rows": 4,
                    "placeholder": "List the documentary evidence you have available for this project service. Include specifically, the document titles and location (e.g. internal IT network pathway, URLs) to assist with locating this material for future audits/assurance purposes."
                  }
                ]
              },
              {
                "type": "table",
                "source": "assuranceDocuments",
                "userAddedRows": true,
                "disableTableUpload": true,
                "columns": [
                  {
                    "title": "Attached documents",
                    "source": "attachments",
                    "type": "document"
                  }
                ]
              }
            ]
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtWeedTreatment",
      "optional": true,
      "optionalQuestionText": null,
      "title": "Removing weeds",
      "collapsibleHeading": null,
      "name": "NHT - Weed treatment",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "dataModel": [
          {
            "allowRowDelete": "false",
            "columns": [
              {
                "dataType": "text",
                "name": "participationIndividualsOrGroups",
                "description": "Once Individuals or groups is selected, the related number field in the next two columns will become editable to report.",
                "constraints": [
                  "Individuals",
                  "Groups"
                ],
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "participationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "participationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ]
              },
              {
                "dataType": "number",
                "name": "firstNationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "param": {
                      "expression": "participationIndividualNumber",
                      "type": "computed"
                    },
                    "rule": "max"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "firstNationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "param": {
                      "expression": "participationGroupNumber",
                      "type": "computed"
                    },
                    "rule": "max",
                    "message": "The number of first nation participants cannot be greater than the total number of participants"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "participationDetails",
                "validate": "required, maxSize[3000]"
              }
            ],
            "dataType": "list",
            "name": "participationInformationTableReh"
          },
          {
            "columns": [
              {
                "dataType": "text",
                "name": "initialOrMaintenance",
                "constraints": [
                  "Initial",
                  "Maintenance"
                ],
                "validate": "required"
              },
              {
                "dataType": "feature",
                "name": "sitesBeingRevegetated",
                "description": "Mapping field to be done and Area (ha) field be auto-calculated from mapping."
              },
              {
                "computed": {
                  "expression": "$geom.areaHa(sitesBeingRevegetated)"
                },
                "dataType": "number",
                "name": "calculatedAreaTreatedHa",
                "units": "ha",
                "decimalPlaces": 3
              },
              {
                "computed": {
                  "expression": "$geom.lengthKm(sitesBeingRevegetated)"
                },
                "dataType": "number",
                "name": "calculatedLengthTreatedKm",
                "units": "km",
                "decimalPlaces": 3,
                "behaviour": [
                  {
                    "condition": "lengthTreatedKm > 0",
                    "type": "conditional_validation",
                    "value": {
                      "message": "The managed length must be mapped",
                      "validate": "required,min[0.0001]"
                    }
                  }
                ]
              },
              {
                "defaultValue": {
                  "type": "computed",
                  "expression": "calculatedAreaTreatedHa"
                },
                "dataType": "number",
                "name": "areaTreatedHa",
                "description": "Manually enter correct figure for this reporting period if different to mapped value.",
                "units": "ha",
                "decimalPlaces": 3,
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedReason",
                "constraints": [
                  "Mapped area simplifies more complex area/s where work was undertaken during this period",
                  "Other"
                ],
                "validate": "required",
                "behaviour": [
                  {
                    "condition": "not (within(areaTreatedHa, calculatedAreaTreatedHa, 0.1) and within(lengthTreatedKm, calculatedLengthTreatedKm, 0.1))",
                    "type": "if"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedComments",
                "validate": "required,maxSize[100]",
                "behaviour": [
                  {
                    "type": "visible",
                    "condition": "\"Other\" == mappingNotAlignedReason"
                  }
                ]
              },
              {
                "dataType": "document",
                "name": "extraMappingDetails",
                "validate": "required",
                "description": "Please fill in the Mapped/Actual/Invoice fields before attaching a document here. If those fields match this field will be void. <br/>If any of these fields differ please attach your organisation's detailed map for the area, covered by this project service - during reporting period (include the scale measure for each map).",
                "behaviour": [
                  {
                    "condition": "not (within(areaTreatedHa, calculatedAreaTreatedHa, 0.1) and within(lengthTreatedKm, calculatedLengthTreatedKm, 0.1))",
                    "type": "if"
                  }
                ]
              },
              {
                "defaultValue": {
                  "type": "computed",
                  "expression": "calculatedLengthTreatedKm"
                },
                "dataType": "number",
                "name": "lengthTreatedKm",
                "units": "km",
                "decimalPlaces": 3
              },
              {
                "dataType": "feature",
                "name": "offSiteBenefitSites"
              },
              {
                "defaultValue": {
                  "type": "computed",
                  "expression": "$geom.areaHa(offSiteBenefitSites)"
                },
                "dataType": "number",
                "name": "offSiteBenefitAreaHa",
                "validate": [
                  {
                    "rule": "min",
                    "param": {
                      "type": "computed",
                      "expression": "$geom.areaHa(offSiteBenefitSites)*0.9"
                    }
                  },
                  {
                    "rule": "max",
                    "param": {
                      "type": "computed",
                      "expression": "$geom.areaHa(offSiteBenefitSites)*1.1"
                    }
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "evidenceOfBenefit",
                "validate": "maxSize[300]"
              },
              {
                "name": "relatedOutcomes",
                "dataType": "text",
                "description": "Select the outcome/s as defined in your MERI plan that this service was delivered to achieve.",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "label",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "url": "/project/outcomesByScores",
                      "params": [
                        {
                          "expression": "owner.projectId",
                          "name": "id",
                          "type": "computed"
                        },
                        {
                          "expression": "scores",
                          "name": "scoreIds",
                          "type": "computed"
                        }
                      ]
                    }
                  }
                }
              },
              {
                "name": "investmentPriorities2",
                "dataType": "text",
                "description": "",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "value",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "context-path": "owner.investmentPriorities"
                    }
                  }
                }
              },
              {
                "dataType": "text",
                "name": "otherInvestmentPriority",
                "behaviour": [
                  {
                    "type": "enable",
                    "condition": "\"Other\" in investmentPriorities2"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "invoicingThisActivity",
                "constraints": [
                  "Yes",
                  "No"
                ],
                "validate": "required"
              },
              {
                "dataType": "date",
                "name": "activitiesStartDate",
                "description": "Specific the dates these events were held on.",
                "validate": "required"
              },
              {
                "dataType": "date",
                "name": "activitiesEndDate",
                "description": "Specific the dates these events were held on.",
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "future",
                    "param": {
                      "expression": "formatDateForValidation(activitiesStartDate)",
                      "type": "computed"
                    }
                  }
                ]
              },
              {
                "columns": [
                  {
                    "dataType": "species",
                    "name": "species",
                    "dwcAttribute": "scientificName",
                    "description": "",
                    "validate": "required"
                  },
                  {
                    "dataType": "text",
                    "name": "typeOfRevegetationActivity",
                    "validate": "required,maxSize[100]"
                  },
                  {
                    "dataType": "text",
                    "name": "revegetationMethod",
                    "dwcAttribute": "establishmentMeans",
                    "description": "If 'Other', please identify in 'Type of revegetation activity' field.",
                    "constraints": [
                      "Direct seeding",
                      "Tubestock planting",
                      "Both",
                      "Other"
                    ],
                    "validate": "required"
                  },
                  {
                    "dataType": "text",
                    "name": "threatenedEcologicalCommunity",
                    "description": "This free text field allows multiple TECs to be entered. They should be written as listed in EPBC, and separated by ';'",
                    "validate": "required,maxSize[100]"
                  },
                  {
                    "dataType": "number",
                    "name": "numberPlanted",
                    "validate": "required,min[0]"
                  },
                  {
                    "dataType": "text",
                    "name": "revegetationActivityDescription",
                    "validate": "required,maxSize[300]"
                  }
                ],
                "dataType": "list",
                "name": "revegetationDetails"
              }
            ],
            "dataType": "list",
            "name": "revegetationAreasControlled"
          },
          {
            "dataType": "number",
            "name": "totalAreaWeedsTreatedInitial",
            "validate": "min[0]",
            "decimalPlaces": 3,
            "computed": {
              "expression": "sum(revegetationAreasControlled, \"initialOrMaintenance == 'Initial' ? areaTreatedHa : 0\")"
            }
          },
          {
            "dataType": "number",
            "decimalPlaces": 3,
            "name": "totalAreaWeedsTreatedInitialInvoiced",
            "description": "Manually enter if values have decimal points e.g. 0.350 or 2.545",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalAreaWeedsTreatedInitial",
                  "type": "computed",
                  "decimalPlaces": 3
                },
                "rule": "max"
              }
            ],
            "defaultValue": ""
          },
          {
            "dataType": "number",
            "name": "totalAreaWeedsTreatedFollowup",
            "validate": "min[0]",
            "decimalPlaces": 3,
            "computed": {
              "expression": "sum(revegetationAreasControlled, \"initialOrMaintenance == 'Maintenance' ? areaTreatedHa : 0\")"
            }
          },
          {
            "dataType": "number",
            "decimalPlaces": 3,
            "name": "totalAreaWeedsTreatedInvoicedFollowup",
            "description": "Manually enter if values have decimal points e.g. 0.350 or 2.545",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalAreaWeedsTreatedFollowup",
                  "type": "computed",
                  "decimalPlaces": 3
                },
                "rule": "max"
              }
            ],
            "defaultValue": ""
          },
          {
            "dataType": "text",
            "name": "totalInvoicedRevegetatingMismatched",
            "description": "Please provide the reason/s why you are not invoicing for the same number that have been completed and delivered, e.g. the personnel and equipment were available to deliver more than was contracted.",
            "validate": "maxSize[400],required",
            "behaviour": [
              {
                "condition": "totalAreaWeedsTreatedInitialInvoiced < totalAreaWeedsTreatedInitial or totalAreaWeedsTreatedInvoicedFollowup < totalAreaWeedsTreatedFollowup",
                "type": "enable"
              }
            ]
          },
          {
            "dataType": "text",
            "name": "comments",
            "validate": "maxSize[1500]"
          },
          {
            "dataType": "image",
            "name": "photographicEvidence"
          },
          {
            "dataType": "boolean",
            "name": "dataUploaded",
            "description": "<ul><li>Tick box to confirm data has been uploaded</li><li>URL Link (mandatory if below is ticked) in available evidence</li></ul>"
          },
          {
            "name": "projectAssuranceDetails",
            "dataType": "text",
            "validate": "required,maxSize[5000]"
          },
          {
            "dataType": "list",
            "name": "assuranceDocuments",
            "columns": [
              {
                "dataType": "document",
                "name": "attachments",
                "description": "Please attach any Evidence of Service Delivery here."
              }
            ]
          }
        ],
        "modelName": "NHT - Revegetating habitat",
        "title": "Revegetating Habitat",
        "viewModel": [
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<h3>Participation information</h3>"
              }
            ]
          },
          {
            "disableTableUpload": true,
            "columns": [
              {
                "width": "10%",
                "source": "participationIndividualsOrGroups",
                "title": "Are individuals or groups delivering this service?",
                "type": "selectOne"
              },
              {
                "width": "20%",
                "type": "col",
                "title": "Total number of people delivering this service <br>(including First Nations people)<b style=\"color:red\">*</b>",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "participationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "participationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "type": "col",
                "width": "20%",
                "title": "Total number of First Nations people delivering this service<b style=\"color:red\">*</b>",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "firstNationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "firstNationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "width": "20%",
                "source": "participationDetails",
                "rows": 4,
                "title": "If no First Nations people participated in the delivery of this service, <br>what are the reasons? If there was participation, please provide details.",
                "helpText": "If there were no First Nations people participating in the delivery of this service, please explain the reasons. If there were First Nations people involved, please outline how they were involved.",
                "type": "textarea"
              }
            ],
            "source": "participationInformationTableReh",
            "type": "table"
          },
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<h3>Totals Summary</h3>"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(i) Total area (ha) of habitat revegetated (initial) for this reporting period",
                        "source": "totalAreaWeedsTreatedInitial",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(ii) Total area (ha) of habitat revegetated (initial) <u><i>invoiced</i></u> for this reporting period",
                        "source": "totalAreaWeedsTreatedInitialInvoiced",
                        "type": "number",
                        "displayOptions": {
                          "removeTrailingZeros": false
                        }
                      }
                    ]
                  }
                ]
              },
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(iii) Total area (ha) of habitat revegetated (maintenance) for this reporting period",
                        "source": "totalAreaWeedsTreatedFollowup",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(iv) Total area (ha) of habitat revegetated (maintenance) <u><i>invoiced</i></u> for this reporting period",
                        "source": "totalAreaWeedsTreatedInvoicedFollowup",
                        "type": "number",
                        "displayOptions": {
                          "removeTrailingZeros": false
                        }
                      }
                    ]
                  }
                ]
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "If the total invoiced is different to the total completed, please provide the reason",
                "source": "totalInvoicedRevegetatingMismatched",
                "type": "textarea",
                "rows": 4,
                "placeholder": ""
              }
            ]
          },
          {
            "addRowText": "New area of revegetation",
            "userAddedRows": true,
            "source": "revegetationAreasControlled",
            "type": "repeat",
            "items": [
              {
                "type": "row",
                "items": [
                  {
                    "css": "span3",
                    "type": "col",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "relatedOutcomes",
                            "type": "selectOne",
                            "preLabel": "Which outcome statement/s does this activity relate to?"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "investmentPriorities2",
                            "preLabel": "Which investment priority does this activity relate to?",
                            "type": "select2Many"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "css": "span3",
                    "type": "col",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "invoicingThisActivity",
                            "preLabel": "Are you invoicing for this activity in this reporting period?",
                            "type": "selectOne"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "row",
                "css": "border-bottom",
                "items": [
                  {
                    "preLabel": "Initial or maintenance activity?",
                    "css": "span3",
                    "source": "initialOrMaintenance",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Site/s being revegetated",
                            "source": "sitesBeingRevegetated",
                            "type": "feature"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "calculatedAreaTreatedHa",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            },
                            "readonly": "readonly"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Please attach mapping details",
                            "source": "extraMappingDetails",
                            "type": "document"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Actual area (ha) of habitat revegetated",
                            "source": "areaTreatedHa",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Reason for actual being different to mapped amount",
                            "source": "mappingNotAlignedReason",
                            "type": "selectOne"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "placeholder": "Please enter the reason/s the mapping didn't align with the invoiced amount",
                            "source": "mappingNotAlignedComments",
                            "type": "textarea",
                            "rows": 5
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "css": "span3",
                    "type": "col",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "activitiesStartDate",
                            "type": "date",
                            "preLabel": "Activity start date"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "activitiesEndDate",
                            "preLabel": "Activity end date",
                            "type": "date"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "addRowText": "Add a row",
                "columns": [
                  {
                    "width": "20%",
                    "source": "species",
                    "title": "Target Plant Species",
                    "type": "speciesSelect"
                  },
                  {
                    "width": "10%",
                    "source": "numberPlanted",
                    "title": "Numbers planted",
                    "type": "number"
                  },
                  {
                    "width": "10%",
                    "source": "revegetationMethod",
                    "title": "Planting method",
                    "type": "selectOne"
                  },
                  {
                    "width": "20%",
                    "source": "typeOfRevegetationActivity",
                    "title": "Type of revegetation activity",
                    "type": "text"
                  },
                  {
                    "width": "20%",
                    "source": "revegetationActivityDescription",
                    "title": "Description of revegetation activity",
                    "type": "textarea"
                  },
                  {
                    "width": "20%",
                    "source": "threatenedEcologicalCommunity",
                    "title": "Threatened Ecological Communities (if applicable) benefitting from this activity",
                    "type": "text"
                  }
                ],
                "userAddedRows": true,
                "disableTableUpload": true,
                "source": "revegetationDetails",
                "type": "table"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "Optionally attach photos",
                "source": "photographicEvidence",
                "type": "image"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "Clarification, if needed",
                "type": "textarea",
                "rows": 4,
                "css": "span8",
                "source": "comments",
                "placeholder": "Clarification comments include information for your project manager about the service like:\n • any reported items that are not being invoiced (eg, over-achievement) \n • any extraneous circumstances that affected delivery of the service \n"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<p><b>Available Evidence</b></p>This field is mandatory for all projects as part of the invoicing process. Please list evidence you have retained for this service and provide information to where the evidence is stored (links/file location data). Refer to the Project Service Evidence Guide and the Project Service Summaries for information on the evidence requirements.<b style=\"color:red\">*</b>"
              },
              {
                "preLabel": "Data have been uploaded",
                "source": "dataUploaded",
                "type": "boolean"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "",
                "source": "projectAssuranceDetails",
                "type": "textarea",
                "rows": 4,
                "placeholder": "List the documentary evidence you have available for this project service. Include specifically, the document titles and location (e.g. internal IT network pathway, URLs) to assist with locating this material for future audits/assurance purposes."
              }
            ]
          },
          {
            "type": "table",
            "source": "assuranceDocuments",
            "userAddedRows": true,
            "disableTableUpload": true,
            "columns": [
              {
                "title": "Attached documents",
                "source": "attachments",
                "type": "document"
              }
            ]
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtRevegetatingHabitat",
      "optional": true,
      "optionalQuestionText": null,
      "title": "Revegetating habitat",
      "collapsibleHeading": null,
      "name": "NHT - Revegetating habitat",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "dataModel": [
          {
            "allowRowDelete": "false",
            "columns": [
              {
                "dataType": "text",
                "name": "participationIndividualsOrGroups",
                "description": "Once Individuals or groups is selected, the related number field in the next two columns will become editable to report.",
                "constraints": [
                  "Individuals",
                  "Groups"
                ],
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "participationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "participationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ]
              },
              {
                "dataType": "number",
                "name": "firstNationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "param": {
                      "expression": "participationIndividualNumber",
                      "type": "computed"
                    },
                    "rule": "max"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "firstNationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "param": {
                      "expression": "participationGroupNumber",
                      "type": "computed"
                    },
                    "rule": "max",
                    "message": "The number of first nation participants cannot be greater than the total number of participants"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "participationDetails",
                "validate": "required, maxSize[3000]"
              }
            ],
            "dataType": "list",
            "name": "participationInformationTableScp"
          },
          {
            "columns": [
              {
                "dataType": "feature",
                "name": "sitesCollectionAndPropagation",
                "description": "Mapping field to be done and Area (ha) field be auto-calculated from mapping."
              },
              {
                "computed": {
                  "expression": "$geom.areaHa(sitesCollectionAndPropagation)"
                },
                "dataType": "number",
                "name": "calculatedAreaTreatedHa",
                "units": "ha",
                "decimalPlaces": 3
              },
              {
                "computed": {
                  "expression": "$geom.lengthKm(sitesCollectionAndPropagation)"
                },
                "dataType": "number",
                "name": "calculatedLengthTreatedKm",
                "units": "km",
                "decimalPlaces": 3,
                "behaviour": [
                  {
                    "condition": "lengthTreatedKm > 0",
                    "type": "conditional_validation",
                    "value": {
                      "message": "The managed length must be mapped",
                      "validate": "required,min[0.0001]"
                    }
                  }
                ]
              },
              {
                "defaultValue": {
                  "type": "computed",
                  "expression": "calculatedAreaTreatedHa"
                },
                "dataType": "number",
                "name": "areaTreatedHa",
                "description": "Manually enter correct figure for this reporting period if different to mapped value.",
                "units": "ha",
                "decimalPlaces": 3,
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedReason",
                "constraints": [
                  "Mapped area simplifies more complex area/s where work was undertaken during this period",
                  "Other"
                ],
                "validate": "required",
                "behaviour": [
                  {
                    "condition": "not (within(areaTreatedHa, calculatedAreaTreatedHa, 0.1))",
                    "type": "if"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedComments",
                "validate": "required,maxSize[100]",
                "behaviour": [
                  {
                    "type": "visible",
                    "condition": "\"Other\" == mappingNotAlignedReason"
                  }
                ]
              },
              {
                "dataType": "document",
                "name": "extraMappingDetails",
                "validate": "required",
                "description": "Please fill in the Mapped/Actual/Invoice fields before attaching a document here. If those fields match this field will be void. <br/>If any of these fields differ please attach your organisation's detailed map for the area, covered by this project service - during reporting period (include the scale measure for each map).",
                "behaviour": [
                  {
                    "condition": "not (within(areaTreatedHa, calculatedAreaTreatedHa, 0.1))",
                    "type": "if"
                  }
                ]
              },
              {
                "defaultValue": {
                  "type": "computed",
                  "expression": "calculatedLengthTreatedKm"
                },
                "dataType": "number",
                "name": "lengthTreatedKm",
                "units": "km",
                "decimalPlaces": 3
              },
              {
                "name": "relatedOutcomes",
                "dataType": "text",
                "description": "Select the outcome/s as defined in your MERI plan that this service was delivered to achieve.",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "label",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "url": "/project/outcomesByScores",
                      "params": [
                        {
                          "expression": "owner.projectId",
                          "name": "id",
                          "type": "computed"
                        },
                        {
                          "expression": "scores",
                          "name": "scoreIds",
                          "type": "computed"
                        }
                      ]
                    }
                  }
                }
              },
              {
                "name": "investmentPriorities2",
                "dataType": "text",
                "description": "",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "value",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "context-path": "owner.investmentPriorities"
                    }
                  }
                }
              },
              {
                "dataType": "text",
                "name": "otherInvestmentPriority",
                "behaviour": [
                  {
                    "type": "enable",
                    "condition": "\"Other\" in investmentPriorities2"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "invoicingThisActivity",
                "constraints": [
                  "Yes",
                  "No"
                ],
                "validate": "required"
              },
              {
                "columns": [
                  {
                    "dataType": "date",
                    "name": "activitiesStartDate",
                    "description": "Specific the dates these events were held on.",
                    "validate": "required"
                  },
                  {
                    "dataType": "date",
                    "name": "activitiesEndDate",
                    "description": "Specific the dates these events were held on.",
                    "validate": [
                      {
                        "rule": "required"
                      },
                      {
                        "rule": "future",
                        "param": {
                          "expression": "formatDateForValidation(activitiesStartDate)",
                          "type": "computed"
                        }
                      }
                    ]
                  },
                  {
                    "dataType": "text",
                    "name": "activityType",
                    "constraints": [
                      "Collecting",
                      "Storing",
                      "Propagating"
                    ],
                    "validate": "required"
                  },
                  {
                    "dataType": "text",
                    "name": "activityPurpose",
                    "validate": "required,maxSize[300]"
                  },
                  {
                    "dataType": "text",
                    "name": "materialType",
                    "constraints": [
                      "Seeds",
                      "Plant cuttings"
                    ],
                    "validate": "required"
                  },
                  {
                    "dataType": "text",
                    "name": "otherSeedSources",
                    "validate": "maxSize[300]"
                  },
                  {
                    "dataType": "text",
                    "name": "storingFacility",
                    "validate": "required,maxSize[300]"
                  },
                  {
                    "dataType": "text",
                    "name": "threatEcoCommunity",
                    "validate": "maxSize[100]"
                  }
                ],
                "dataType": "list",
                "name": "seedCollectionDetails"
              },
              {
                "dataType": "species",
                "name": "species",
                "validate": "required"
              },
              {
                "dataType": "text",
                "name": "inKgSeedCollected",
                "constraints": [
                  "Individuals",
                  "Grams"
                ],
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "amountSeedCollected",
                "decimalPlaces": 5,
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "numberOfDaysCollectingSeeds",
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "numberOfSourcePlants"
              },
              {
                "dataType": "number",
                "name": "noOfPlantsPropogated"
              },
              {
                "name": "noOfDaysPropagating",
                "dataType": "number"
              }
            ],
            "dataType": "list",
            "name": "areasOfSeedCollection"
          },
          {
            "dataType": "number",
            "name": "totalAmountSeedsCuttingsCollected",
            "validate": "min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(areasOfSeedCollection, \"amountSeedCollected\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalAmountSeedsCuttingsCollectedInvoiced",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalAmountSeedsCuttingsCollected",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": ""
          },
          {
            "dataType": "number",
            "name": "totalDaysSeedsCuttingsCollected",
            "validate": "min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(areasOfSeedCollection, \"numberOfDaysCollectingSeeds\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalDaysSeedsCuttingsCollectedInvoiced",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalDaysSeedsCuttingsCollected",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": ""
          },
          {
            "dataType": "number",
            "name": "totalDaysPropagating",
            "validate": "min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(areasOfSeedCollection, \"noOfDaysPropagating\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalDaysPropagatingInvoiced",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalDaysPropagating",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": ""
          },
          {
            "dataType": "number",
            "name": "totalPlantsPropagated",
            "validate": "min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(areasOfSeedCollection, \"noOfPlantsPropogated\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalPlantsPropagatedInvoiced",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalPlantsPropagated",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": ""
          },
          {
            "dataType": "text",
            "name": "totalInvoicedSeedCollectionMismatched",
            "description": "Please provide the reason/s why you are not invoicing for the same number that have been completed and delivered, e.g. the personnel and equipment were available to deliver more than was contracted.",
            "validate": "maxSize[400],required",
            "behaviour": [
              {
                "condition": "totalAmountSeedsCuttingsCollectedInvoiced < totalAmountSeedsCuttingsCollected or totalDaysSeedsCuttingsCollectedInvoiced < totalDaysSeedsCuttingsCollected or totalDaysPropagatingInvoiced < totalDaysPropagating or totalPlantsPropagatedInvoiced < totalPlantsPropagated",
                "type": "enable"
              }
            ]
          },
          {
            "dataType": "text",
            "name": "comments",
            "validate": "maxSize[1500]"
          },
          {
            "dataType": "image",
            "name": "photographicEvidence"
          },
          {
            "dataType": "boolean",
            "name": "dataUploaded",
            "description": "<ul><li>Tick box to confirm data has been uploaded</li><li>URL Link (mandatory if below is ticked) in available evidence</li></ul>"
          },
          {
            "name": "projectAssuranceDetails",
            "dataType": "text",
            "validate": "required,maxSize[5000]"
          },
          {
            "dataType": "list",
            "name": "assuranceDocuments",
            "columns": [
              {
                "dataType": "document",
                "name": "attachments",
                "description": "Please attach any Evidence of Service Delivery here."
              }
            ]
          }
        ],
        "modelName": "NHT - Seed Collection",
        "title": "Seed Collection and Propagation",
        "viewModel": [
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<h3>Participation information</h3>"
              }
            ]
          },
          {
            "disableTableUpload": true,
            "columns": [
              {
                "width": "10%",
                "source": "participationIndividualsOrGroups",
                "title": "Are individuals or groups delivering this service?",
                "type": "selectOne"
              },
              {
                "width": "20%",
                "type": "col",
                "title": "Total number of people delivering this service <br>(including First Nations people)<b style=\"color:red\">*</b>",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "participationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "participationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "type": "col",
                "width": "20%",
                "title": "Total number of First Nations people delivering this service<b style=\"color:red\">*</b>",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "firstNationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "firstNationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "width": "20%",
                "source": "participationDetails",
                "rows": 4,
                "title": "If no First Nations people participated in the delivery of this service, <br>what are the reasons? If there was participation, please provide details.",
                "helpText": "If there were no First Nations people participating in the delivery of this service, please explain the reasons. If there were First Nations people involved, please outline how they were involved.",
                "type": "textarea"
              }
            ],
            "source": "participationInformationTableScp",
            "type": "table"
          },
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<h3>Totals Summary</h3>"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(i) Total amount (grams)/number of seeds/cuttings collected for this reporting period",
                        "source": "totalAmountSeedsCuttingsCollected",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(ii) Total amount (grams)/number of seeds/cuttings collected and <u><i>invoiced</i></u> for this reporting period",
                        "source": "totalAmountSeedsCuttingsCollectedInvoiced",
                        "type": "number"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(iii) Total number of days collecting seeds/cuttings for this reporting period",
                        "source": "totalDaysSeedsCuttingsCollected",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(iv) Total number of days collecting seeds/cuttings <u><i>invoiced</i></u> for this reporting period",
                        "source": "totalDaysSeedsCuttingsCollectedInvoiced",
                        "type": "number"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(v) Total number of plants propagated for this reporting period",
                        "source": "totalPlantsPropagated",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(vi) Total number of plants propagated <u><i>invoiced</i></u> for this reporting period",
                        "source": "totalPlantsPropagatedInvoiced",
                        "type": "number"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(vii) Total number of days propagating for this reporting period",
                        "source": "totalDaysPropagating",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(viii) Total number of days propagating <u><i>invoiced</i></u> for this reporting period",
                        "source": "totalDaysPropagatingInvoiced",
                        "type": "number"
                      }
                    ]
                  }
                ]
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "If the total invoiced is different to the total completed, please provide the reason",
                "source": "totalInvoicedSeedCollectionMismatched",
                "type": "textarea",
                "rows": 4,
                "placeholder": ""
              }
            ]
          },
          {
            "addRowText": "Add a new area",
            "userAddedRows": true,
            "source": "areasOfSeedCollection",
            "type": "repeat",
            "items": [
              {
                "type": "row",
                "items": [
                  {
                    "css": "span3 col-border-right",
                    "type": "col",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "relatedOutcomes",
                            "type": "selectOne",
                            "preLabel": "Which outcome statement/s does this activity relate to?"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "investmentPriorities2",
                            "preLabel": "Which investment priority does this activity relate to?",
                            "type": "select2Many"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "css": "span3 col-border-right",
                    "type": "col",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "invoicingThisActivity",
                            "preLabel": "Are you invoicing for this activity in this reporting period?",
                            "type": "selectOne"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Site/s where collection/propagation was undertaken",
                            "source": "sitesCollectionAndPropagation",
                            "type": "feature"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "calculatedAreaTreatedHa",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            },
                            "readonly": "readonly"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Please attach mapping details",
                            "source": "extraMappingDetails",
                            "type": "document"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Actual Area (ha) where collection/propagation was undertaken",
                            "source": "areaTreatedHa",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Reason for actual being different to mapped amount",
                            "source": "mappingNotAlignedReason",
                            "type": "selectOne"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "placeholder": "Please enter the reason/s the mapping didn't align with the invoiced amount",
                            "source": "mappingNotAlignedComments",
                            "type": "textarea",
                            "rows": 5
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "css": "span3 col-border-right",
                    "type": "col",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "species",
                            "type": "speciesSelect",
                            "preLabel": "Target species recorded"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "inKgSeedCollected",
                            "preLabel": "Individuals / grams collected",
                            "type": "selectOne"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "css": "span3 col-border-right",
                    "type": "col",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "amountSeedCollected",
                            "preLabel": "Amount of seeds/cuttings collected",
                            "type": "number"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "css": "span3 col-border-right",
                    "type": "col",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "numberOfDaysCollectingSeeds",
                            "preLabel": "Number of days collecting seeds/cuttings",
                            "type": "number"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "css": "span3 col-border-right",
                    "type": "col",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "noOfPlantsPropogated",
                            "preLabel": "Number of plants propagated",
                            "type": "number"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "css": "span3 col-border-right",
                    "type": "col",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "noOfDaysPropagating",
                            "preLabel": "Number of days propagating",
                            "type": "number"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "css": "span3 col-border-right",
                    "type": "col",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "numberOfSourcePlants",
                            "preLabel": "Number of source plants",
                            "type": "number"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "columns": [
                  {
                    "width": "10%",
                    "title": "Activity start date",
                    "source": "activitiesStartDate",
                    "type": "date"
                  },
                  {
                    "width": "10%",
                    "title": "Activity end date",
                    "source": "activitiesEndDate",
                    "type": "date"
                  },
                  {
                    "width": "10%",
                    "title": "Type of activity",
                    "source": "activityType",
                    "type": "selectOne"
                  },
                  {
                    "width": "15%",
                    "title": "Purpose of activity",
                    "source": "activityPurpose",
                    "type": "textarea"
                  },
                  {
                    "width": "10%",
                    "title": "Type of material collected/stored or propagated",
                    "source": "materialType",
                    "type": "selectOne"
                  },
                  {
                    "width": "15%",
                    "source": "otherSeedSources",
                    "title": "Other seed sources (if applicable)",
                    "type": "textarea"
                  },
                  {
                    "width": "15%",
                    "source": "storingFacility",
                    "title": "Name of storing facility",
                    "type": "textarea"
                  },
                  {
                    "width": "15%",
                    "source": "threatEcoCommunity",
                    "title": "Threatened Ecological Community (if applicable) where the seeds were sourced from",
                    "type": "textarea"
                  }
                ],
                "userAddedRows": true,
                "disableTableUpload": true,
                "source": "seedCollectionDetails",
                "type": "table"
              }
            ]
          },
          {
            "type": "section",
            "items": [
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Optionally attach photos",
                    "source": "photographicEvidence",
                    "type": "image"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Clarification, if needed",
                    "type": "textarea",
                    "rows": 4,
                    "css": "span8",
                    "source": "comments",
                    "placeholder": "Clarification comments include information for your project manager about the service like:\n • any reported items that are not being invoiced (eg, over-achievement) \n • any extraneous circumstances that affected delivery of the service \n"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<p><b>Available Evidence</b></p>This field is mandatory for all projects as part of the invoicing process. Please list evidence you have retained for this service and provide information to where the evidence is stored (links/file location data). Refer to the Project Service Evidence Guide and the Project Service Summaries for information on the evidence requirements.<b style=\"color:red\">*</b>"
                  },
                  {
                    "preLabel": "Data have been uploaded",
                    "source": "dataUploaded",
                    "type": "boolean"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "",
                    "source": "projectAssuranceDetails",
                    "type": "textarea",
                    "rows": 4,
                    "placeholder": "List the documentary evidence you have available for this project service. Include specifically, the document titles and location (e.g. internal IT network pathway, URLs) to assist with locating this material for future audits/assurance purposes."
                  }
                ]
              },
              {
                "type": "table",
                "source": "assuranceDocuments",
                "userAddedRows": true,
                "disableTableUpload": true,
                "columns": [
                  {
                    "title": "Attached documents",
                    "source": "attachments",
                    "type": "document"
                  }
                ]
              }
            ]
          }
        ]
      },
      "modelName": null,
      "templateName": "statesSeedCollecting",
      "optional": true,
      "optionalQuestionText": null,
      "title": null,
      "collapsibleHeading": null,
      "name": "NHT - Seed Collection",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "dataModel": [
          {
            "name": "plantSurvivalSurveys",
            "dataType": "list",
            "minSize": 1,
            "columns": [
              {
                "name": "relatedOutcomes",
                "dataType": "text",
                "description": "Select the outcome/s as defined in your MERI plan that this service was delivered to achieve.",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "value",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "context-path": "outcomes"
                    }
                  }
                }
              },
              {
                "dataType": "text",
                "name": "surveyObjective",
                "description": "What the survey aim to capture? How will the information obtained from the survey be used?",
                "validate": "required,maxSize[3000]"
              },
              {
                "dataType": "number",
                "name": "numberOfSurveys",
                "validate": "required,min[1],max[1]",
                "defaultValue": 1,
                "readonly": true
              },
              {
                "dataType": "list",
                "name": "plantSurvivalDataSets",
                "columns": [
                  {
                    "name": "dataSetId",
                    "entityType": "au.org.ala.ecodata.DataSetSummary",
                    "dataType": "text",
                    "description": "This section will require the Data Set Name so the Metadata fields in the Data Set Summary tab should be filled out before the Outcome Report is due. More than one dataset if relevant for this Project Baseline could be selected.",
                    "validate": "required",
                    "constraints": {
                      "textProperty": "name",
                      "valueProperty": "dataSetId",
                      "excludePath": "plantSurvivalSurveys.plantSurvivalDataSets.dataSetId",
                      "type": "pre-populated",
                      "config": {
                        "source": {
                          "context-path": "owner.custom.dataSets"
                        },
                        "filter": {
                          "namespace": "dataSet",
                          "expression": "dataSet.serviceId == 24 and dataSet.progress == 'finished' and dataSet.alreadyReported == false and deepEquals(relatedOutcomes,dataSet.outcomesLabel) and 'Indicator' == baselineIndicatorMapping.lookupValue(dataSet.type)"
                        }
                      }
                    },
                    "behaviour": [
                      {
                        "type": "pre_populate",
                        "config": {
                          "waitForInitialisation": true,
                          "source": {
                            "url": "/site/geojson",
                            "params": [
                              {
                                "expression": "x=find(owner.custom.dataSets, \"dataSetId\", dataSetId); x.siteId",
                                "name": "id",
                                "type": "computed",
                                "required": true
                              }
                            ]
                          },
                          "target":  {
                            "type": "singleValue",
                            "name": "sitesCoveredForPlantSurvival"
                          }
                        }
                      }
                    ]
                  },
                  {
                    "columns": [
                      {
                        "dataType": "species",
                        "name": "species",
                        "validate": "required"
                      },
                      {
                        "dataType": "text",
                        "name": "plantingMethod",
                        "constraints": [
                          "Direct seeding",
                          "Tubestock/Seedling planting"
                        ],
                        "validate": "required"
                      },
                      {
                        "dataType": "number",
                        "name": "hectaresPlanted",
                        "validate": "required,min[0]"
                      },
                      {
                        "dataType": "number",
                        "name": "kilosOfDirectSeeding",
                        "validate": "required,min[0]"
                      },
                      {
                        "dataType": "number",
                        "name": "numberPlanted",
                        "validate": "required,min[0]"
                      },
                      {
                        "dataType": "text",
                        "name": "individualsOrGroups",
                        "constraints": [
                          "Individuals",
                          "Groups"
                        ],
                        "validate": "required"
                      },
                      {
                        "dataType": "number",
                        "name": "numberOfIndividualsGroupsSurvived",
                        "validate": "required,min[0]"
                      },
                      {
                        "dataType": "number",
                        "name": "survivalRate",
                        "validate": "required,min[0]"
                      }
                    ],
                    "dataType": "list",
                    "name": "plantSurvivalSurveySpeciesTable"
                  },
                  {
                    "dataType": "text",
                    "name": "baselineOrIndicatorSurvey",
                    "description": "",
                    "constraints": [
                      "Baseline",
                      "Indicator"
                    ],
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); baselineIndicatorMapping.lookupValue(x.type)"
                    }
                  },
                  {
                    "name": "projectBaselines",
                    "dataType": "stringList",
                    "description": "Select the relevant Project Baseline as listed in the Monitoring Methodology section of the MERI Plan.",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.baselines"
                    },
                    "constraints": {
                      "textProperty": "baseline",
                      "valueProperty": "code",
                      "type": "pre-populated",
                      "excludePath": "projectBaselines",
                      "config": {
                        "source": {
                          "context-path": "owner.custom.details.baseline.rows"
                        }
                      }
                    }
                  },
                  {
                    "name": "investmentPriorities2",
                    "dataType": "stringList",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.investmentPriorities"
                    },
                    "constraints": {
                      "type": "pre-populated",
                      "config": {
                        "source": {
                          "params": [
                            {
                              "expression": "owner.projectId",
                              "name": "id",
                              "type": "computed"
                            }
                          ],
                          "url": "/project/listProjectInvestmentPriorities/"
                        }
                      }
                    }
                  },
                  {
                    "dataType": "text",
                    "name": "otherInvestmentPriority",
                    "behaviour": [
                      {
                        "type": "enable",
                        "condition": "\"Other\" in investmentPriorities2"
                      }
                    ]
                  },
                  {
                    "dataType": "date",
                    "name": "activitiesStartDate",
                    "description": "Specific the dates these events were held on.",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.startDate"
                    }
                  },
                  {
                    "dataType": "date",
                    "name": "activitiesEndDate",
                    "description": "Specific the dates these events were held on.",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.endDate"
                    }
                  },
                  {
                    "dataType": "feature",
                    "name": "sitesCoveredForPlantSurvival",
                    "description": "Mapping field to be done and Area (ha)/length (km) field be auto-calculated from mapping."

                  },
                  {
                    "computed": {
                      "expression": "$geom.areaHa(sitesCoveredForPlantSurvival)"
                    },
                    "dataType": "number",
                    "name": "calculatedAreaTreatedHa",
                    "units": "ha",
                    "decimalPlaces": 3
                  },
                  {
                    "computed": {
                      "expression": "$geom.lengthKm(sitesCoveredForPlantSurvival)"
                    },
                    "dataType": "number",
                    "name": "calculatedLengthTreatedKm",
                    "units": "km",
                    "decimalPlaces": 3,
                    "behaviour": [
                      {
                        "condition": "lengthTreatedKm > 0",
                        "type": "conditional_validation",
                        "value": {
                          "message": "The managed length must be mapped",
                          "validate": "required,min[0.0001]"
                        }
                      }
                    ]
                  },
                  {
                    "defaultValue": {
                      "type": "computed",
                      "expression": "calculatedAreaTreatedHa"
                    },
                    "dataType": "number",
                    "name": "areaTreatedHa",
                    "description": "Manually enter correct figure for this reporting period if different to mapped value.",
                    "units": "ha",
                    "decimalPlaces": 3,
                    "validate": "required,min[0]"
                  },
                  {
                    "dataType": "text",
                    "name": "mappingNotAlignedReason",
                    "constraints": [
                      "Mapped area simplifies more complex area/s where work was undertaken during this period",
                      "Other"
                    ],
                    "validate": "required",
                    "behaviour": [
                      {
                        "condition": "not (within(areaTreatedHa, calculatedAreaTreatedHa, 0.1) and within(lengthTreatedKm, calculatedLengthTreatedKm, 0.1))",
                        "type": "if"
                      }
                    ]
                  },
                  {
                    "dataType": "text",
                    "name": "mappingNotAlignedComments",
                    "validate": "required,maxSize[100]",
                    "behaviour": [
                      {
                        "type": "visible",
                        "condition": "\"Other\" == mappingNotAlignedReason"
                      }
                    ]
                  },
                  {
                    "dataType": "document",
                    "name": "extraMappingDetails",
                    "validate": "required",
                    "description": "Please fill in the Mapped/Actual/Invoice fields before attaching a document here. If those fields match this field will be void. <br/>If any of these fields differ please attach your organisation's detailed map for the area, covered by this project service - during reporting period (include the scale measure for each map).",
                    "behaviour": [
                      {
                        "condition": "not (within(areaTreatedHa, calculatedAreaTreatedHa, 0.1) and within(lengthTreatedKm, calculatedLengthTreatedKm, 0.1))",
                        "type": "if"
                      }
                    ]
                  },
                  {
                    "defaultValue": {
                      "type": "computed",
                      "expression": "$geom.lengthKm(sitesCoveredForPlantSurvival)"
                    },
                    "dataType": "number",
                    "name": "lengthTreatedKm",
                    "units": "km",
                    "decimalPlaces": 3
                  },
                  {
                    "dataType": "text",
                    "description": "Select the technique used to conduct the survey. If the EMSA Application tool was not used, you should select 'Other'.",
                    "name": "emsaProtocol",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.protocol"
                    },
                    "constraints": {
                      "textProperty": "label",
                      "valueProperty": "value",
                      "type": "pre-populated",
                      "config": {
                        "source": {
                          "context-path": "owner.protocols"
                        }
                      }
                    }
                  },
                  {
                    "dataType": "stringList",
                    "description": "Describe the technique (if Other) was selected.",
                    "name": "otherEmsaProtocol",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.methods"
                    }
                  },
                  {
                    "dataType": "text",
                    "name": "surveyMethodology",
                    "description": "Provide more details on what is being done.",
                    "validate": "required,maxSize[3000]",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.methodDescription"
                    }
                  },
                  {
                    "dataType": "text",
                    "name": "invoicingThisActivity",
                    "constraints": [
                      "Yes",
                      "No"
                    ],
                    "validate": "required"
                  }
                ],
                "minSize": 1
              }
            ]
          },
          {
            "dataType": "lookupTable",
            "name": "baselineIndicatorMapping",
            "config": {
              "source": {
                "literal": {
                  "Baseline dataset associated with a project outcome": "Baseline",
                  "Project progress dataset that is tracking change against an established project baseline dataset": "Indicator"
                }
              }
            }
          },
          {
            "allowRowDelete": "false",
            "columns": [
              {
                "dataType": "text",
                "name": "participationIndividualsOrGroups",
                "description": "Once Individuals or groups is selected, the related number field in the next two columns will become editable to report.",
                "constraints": [
                  "Individuals",
                  "Groups"
                ],
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "participationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "participationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ]
              },
              {
                "dataType": "number",
                "name": "firstNationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "param": {
                      "expression": "participationIndividualNumber",
                      "type": "computed"
                    },
                    "rule": "max"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "firstNationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "param": {
                      "expression": "participationGroupNumber",
                      "type": "computed"
                    },
                    "rule": "max",
                    "message": "The number of first nation participants cannot be greater than the total number of participants"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "participationDetails",
                "validate": "required, maxSize[3000]"
              }
            ],
            "dataType": "list",
            "name": "participationInformationTableSgs"
          },
          {
            "dataType": "number",
            "name": "totalSurveyIndicator",
            "validate": "min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(plantSurvivalSurveys, \"surveyObjective ? 1 : 0\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalSurveyIndicatorInvoiced",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalSurveyIndicator",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": ""
          },
          {
            "dataType": "text",
            "name": "totalInvoicedSeedMismatched",
            "description": "Please provide the reason/s why you are not invoicing for the same number that have been completed and delivered, e.g. the personnel and equipment were available to deliver more than was contracted.",
            "validate": "maxSize[400],required",
            "behaviour": [
              {
                "condition": "totalSurveyIndicatorInvoiced < totalSurveyIndicator",
                "type": "enable"
              }
            ]
          },
          {
            "dataType": "text",
            "name": "comments",
            "validate": "maxSize[1500]"
          },
          {
            "dataType": "image",
            "name": "photographicEvidence"
          },
          {
            "dataType": "boolean",
            "name": "dataUploaded",
            "description": ""
          },
          {
            "dataType": "text",
            "name": "projectAssuranceDetails",
            "description": "",
            "validate": "required,maxSize[5000]"
          },
          {
            "dataType": "list",
            "name": "assuranceDocuments",
            "columns": [
              {
                "dataType": "document",
                "name": "attachments",
                "description": "Please attach any Evidence of Service Delivery here."
              }
            ]
          }
        ],
        "modelName": "NHT - Plant survival survey",
        "title": "Seed Germination/Plant Survival Survey",
        "viewModel": [
          {
            "type": "section",
            "items": [
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<h3>Participation information</h3>"
                  }
                ]
              },
              {
                "disableTableUpload": true,
                "columns": [
                  {
                    "width": "10%",
                    "source": "participationIndividualsOrGroups",
                    "title": "Are individuals or groups delivering this service?",
                    "type": "selectOne"
                  },
                  {
                    "width": "20%",
                    "type": "col",
                    "title": "Total number of people delivering this service <br>(including First Nations people)<b style=\"color:red\">*</b>",
                    "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                    "items": [
                      {
                        "source": "participationIndividualNumber",
                        "type": "number"
                      },
                      {
                        "source": "participationGroupNumber",
                        "type": "selectOne"
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "width": "20%",
                    "title": "Total number of First Nations people delivering this service<b style=\"color:red\">*</b>",
                    "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                    "items": [
                      {
                        "source": "firstNationIndividualNumber",
                        "type": "number"
                      },
                      {
                        "source": "firstNationGroupNumber",
                        "type": "selectOne"
                      }
                    ]
                  },
                  {
                    "width": "20%",
                    "source": "participationDetails",
                    "rows": 4,
                    "title": "If no First Nations people participated in the delivery of this service, <br>what are the reasons? If there was participation, please provide details.",
                    "helpText": "If there were no First Nations people participating in the delivery of this service, please explain the reasons. If there were First Nations people involved, please outline how they were involved.",
                    "type": "textarea"
                  }
                ],
                "source": "participationInformationTableSgs",
                "type": "table"
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<h3>Survey information</h3><p><b>Before completing this section, please ensure you have created a Data Set Summary information for every data set produced by the surveys you intend to report</b></p><ul><li>Each survey reported must relate to a combination of outcomes as described in your MERI plan</li><li>Each Data Set Summary recorded for a survey must be addressing the same outcomes as selected for the survey</li><li>If a survey produced more than one data set, use the New Data Set button to add each Data Set Summary under your survey</li><li>A single survey can be made up of multiple dataset</li></ul>"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<h3>Totals Summary</h3>"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "col",
                    "css": "span4 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(i)  Total Number of  indicator seed germination/plant survival surveys completed for this reporting period",
                            "source": "totalSurveyIndicator",
                            "type": "number"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span4 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(ii) Total Number of indicator seed germination/plant survival surveys <u><i>invoiced</i></u> for this reporting period",
                            "source": "totalSurveyIndicatorInvoiced",
                            "type": "number"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "If the total invoiced is different to the total completed, please provide the reason",
                    "source": "totalInvoicedSeedMismatched",
                    "type": "textarea",
                    "rows": 4,
                    "placeholder": ""
                  }
                ]
              },
              {
                "addRowText": "Add survey",
                "removeRowText": "Delete this survey",
                "userAddedRows": true,
                "source": "plantSurvivalSurveys",
                "type": "repeat",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "type": "col",
                        "items": [
                          {
                            "source": "relatedOutcomes",
                            "type": "selectOne",
                            "preLabel": "Which outcome statement/s relates to this survey?"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "source": "surveyObjective",
                        "preLabel": "Survey objective",
                        "type": "text"
                      }
                    ]
                  },
                  {
                    "type": "repeat",
                    "source": "plantSurvivalDataSets",
                    "userAddedRows": true,
                    "addRowText": "New data set",
                    "removeRowText": "Delete this data set",
                    "items": [
                      {
                        "type": "row",
                        "css": "border-bottom",
                        "items": [
                          {
                            "type": "col",
                            "items": [
                              {
                                "source": "dataSetId",
                                "type": "selectOne",
                                "preLabel": "Please select the data set produced by this survey.  Note it must have already been entered on the Data Set Summary tab."
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "projectBaselines",
                                    "type": "selectMany",
                                    "preLabel": "Which project baseline/s relate to this survey?",
                                    "readonly": "readonly"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "investmentPriorities2",
                                    "preLabel": "Which investment priority does this activity relate to?",
                                    "type": "select2Many"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Activity start date",
                                    "source": "activitiesStartDate",
                                    "type": "date"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Activity end date",
                                    "source": "activitiesEndDate",
                                    "type": "date"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Sites covered for plant survival survey",
                                    "source": "sitesCoveredForPlantSurvival",
                                    "type": "feature"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "calculatedAreaTreatedHa",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    },
                                    "readonly": "readonly"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "calculatedLengthTreatedKm",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    },
                                    "readonly": "readonly"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Please attach mapping details",
                                    "source": "extraMappingDetails",
                                    "type": "document"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Actual area (ha) covered by plant survival survey",
                                    "source": "areaTreatedHa",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    }
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "lengthTreatedKm",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    }
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Reason for actual being different to mapped amount",
                                    "source": "mappingNotAlignedReason",
                                    "type": "selectOne"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "placeholder": "Please enter the reason/s the mapping didn't align with the invoiced amount",
                                    "source": "mappingNotAlignedComments",
                                    "type": "textarea",
                                    "rows": 5
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Survey technique",
                                    "source": "emsaProtocol",
                                    "type": "selectOne",
                                    "readonly": "readonly"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Survey technique (if Other)",
                                    "source": "otherEmsaProtocol",
                                    "type": "select2Many"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "surveyMethodology",
                                    "preLabel": "Survey methodology",
                                    "type": "text"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "invoicingThisActivity",
                                    "preLabel": "Are you invoicing for this activity in this reporting period?",
                                    "type": "selectOne"
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "columns": [
                          {
                            "width": "30%",
                            "source": "species",
                            "title": "Target species recorded",
                            "type": "speciesSelect"
                          },
                          {
                            "width": "20%",
                            "title": "Planting method",
                            "source": "plantingMethod",
                            "type": "selectOne"
                          },
                          {
                            "width": "10%",
                            "source": "hectaresPlanted",
                            "title": "How many hectares planted?",
                            "type": "number"
                          },
                          {
                            "width": "10%",
                            "source": "kilosOfDirectSeeding",
                            "title": "Number of kilos for direct seeding",
                            "type": "number"
                          },
                          {
                            "width": "10%",
                            "source": "numberPlanted",
                            "title": "Number planted (Tubestock/Seedling planting)",
                            "type": "number"
                          },
                          {
                            "width": "10%",
                            "source": "individualsOrGroups",
                            "title": "Individuals / groups",
                            "type": "selectOne"
                          },
                          {
                            "width": "10%",
                            "source": "numberOfIndividualsGroupsSurvived",
                            "title": "Number of individuals / groups survived",
                            "type": "number"
                          },
                          {
                            "width": "10%",
                            "source": "survivalRate",
                            "title": "Survival Rate %",
                            "type": "number"
                          }
                        ],
                        "userAddedRows": true,
                        "disableTableUpload": true,
                        "source": "plantSurvivalSurveySpeciesTable",
                        "type": "table"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Optionally attach photos",
                    "source": "photographicEvidence",
                    "type": "image"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Clarification, if needed",
                    "type": "textarea",
                    "rows": 4,
                    "css": "span8",
                    "source": "comments",
                    "placeholder": "Clarification comments include information for your project manager about the service like:\n • any reported items that are not being invoiced (eg, over-achievement) \n • any extraneous circumstances that affected delivery of the service \n"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<p><b>Available Evidence</b></p>This field is mandatory for all projects as part of the invoicing process. Please list evidence you have retained for this service and provide information to where the evidence is stored (links/file location data). Refer to the Project Service Evidence Guide and the Project Service Summaries for information on the evidence requirements.<b style=\"color:red\">*</b>"
                  },
                  {
                    "preLabel": "Data have been uploaded",
                    "source": "dataUploaded",
                    "type": "boolean"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "",
                    "source": "projectAssuranceDetails",
                    "type": "textarea",
                    "rows": 4,
                    "placeholder": "List the documentary evidence you have available for this project service. Include specifically, the document titles and location (e.g. internal IT network pathway, URLs) to assist with locating this material for future audits/assurance purposes."
                  }
                ]
              },
              {
                "type": "table",
                "source": "assuranceDocuments",
                "userAddedRows": true,
                "disableTableUpload": true,
                "columns": [
                  {
                    "title": "Attached documents",
                    "source": "attachments",
                    "type": "document"
                  }
                ]
              }
            ]
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtPlantSurvivalSurvey",
      "optional": true,
      "optionalQuestionText": null,
      "title": "Plant survival survey",
      "collapsibleHeading": null,
      "name": "NHT - Plant survival survey",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "dataModel": [
          {
            "allowRowDelete": "false",
            "columns": [
              {
                "dataType": "text",
                "name": "participationIndividualsOrGroups",
                "description": "Once Individuals or groups is selected, the related number field in the next two columns will become editable to report.",
                "constraints": [
                  "Individuals",
                  "Groups"
                ],
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "participationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "participationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ]
              },
              {
                "dataType": "number",
                "name": "firstNationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "param": {
                      "expression": "participationIndividualNumber",
                      "type": "computed"
                    },
                    "rule": "max"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "firstNationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "param": {
                      "expression": "participationGroupNumber",
                      "type": "computed"
                    },
                    "rule": "max",
                    "message": "The number of first nation participants cannot be greater than the total number of participants"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "participationDetails",
                "validate": "required, maxSize[3000]"
              }
            ],
            "dataType": "list",
            "name": "participationInformationTableSip"
          },
          {
            "columns": [
              {
                "dataType": "feature",
                "name": "sitesPreparation",
                "description": "Mapping field to be done and Area (ha)/length (km) field be auto-calculated from mapping."
              },
              {
                "computed": {
                  "expression": "$geom.areaHa(sitesPreparation)"
                },
                "dataType": "number",
                "name": "calculatedAreaTreatedHa",
                "units": "ha",
                "decimalPlaces": 3
              },
              {
                "computed": {
                  "expression": "$geom.lengthKm(sitesPreparation)"
                },
                "dataType": "number",
                "name": "calculatedLengthTreatedKm",
                "units": "km",
                "decimalPlaces": 3,
                "behaviour": [
                  {
                    "condition": "lengthTreatedKm > 0",
                    "type": "conditional_validation",
                    "value": {
                      "message": "The managed length must be mapped",
                      "validate": "required,min[0.0001]"
                    }
                  }
                ]
              },
              {
                "defaultValue": {
                  "type": "computed",
                  "expression": "calculatedAreaTreatedHa"
                },
                "dataType": "number",
                "name": "areaTreatedHa",
                "description": "Manually enter correct figure for this reporting period if different to mapped value.",
                "units": "ha",
                "decimalPlaces": 3,
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedReason",
                "constraints": [
                  "Mapped area simplifies more complex area/s where work was undertaken during this period",
                  "Other"
                ],
                "validate": "required",
                "behaviour": [
                  {
                    "condition": "not (within(areaTreatedHa, calculatedAreaTreatedHa, 0.1) and within(lengthTreatedKm, calculatedLengthTreatedKm, 0.1))",
                    "type": "if"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedComments",
                "validate": "required,maxSize[100]",
                "behaviour": [
                  {
                    "type": "visible",
                    "condition": "\"Other\" == mappingNotAlignedReason"
                  }
                ]
              },
              {
                "dataType": "document",
                "name": "extraMappingDetails",
                "validate": "required",
                "description": "Please fill in the Mapped/Actual/Invoice fields before attaching a document here. If those fields match this field will be void. <br/>If any of these fields differ please attach your organisation's detailed map for the area, covered by this project service - during reporting period (include the scale measure for each map).",
                "behaviour": [
                  {
                    "condition": "not (within(areaTreatedHa, calculatedAreaTreatedHa, 0.1) and within(lengthTreatedKm, calculatedLengthTreatedKm, 0.1))",
                    "type": "if"
                  }
                ]
              },
              {
                "defaultValue": {
                  "type": "computed",
                  "expression": "calculatedLengthTreatedKm"
                },
                "dataType": "number",
                "name": "lengthTreatedKm",
                "units": "km",
                "decimalPlaces": 3
              },
              {
                "columns": [
                  {
                    "dataType": "date",
                    "name": "activitiesStartDate",
                    "description": "Specific the dates these events were held on.",
                    "validate": "required"
                  },
                  {
                    "dataType": "date",
                    "name": "activitiesEndDate",
                    "description": "Specific the dates these events were held on.",
                    "validate": [
                      {
                        "rule": "required"
                      },
                      {
                        "rule": "future",
                        "param": {
                          "expression": "formatDateForValidation(activitiesStartDate)",
                          "type": "computed"
                        }
                      }
                    ]
                  },
                  {
                    "dataType": "number",
                    "name": "numberOfDaysPreparingSite",
                    "description": "Number of days should be calculated as number of days by number of people (eg. 4.5 days by 3 people is 13.5 days).",
                    "validate": "required,min[0]"
                  },
                  {
                    "dataType": "stringList",
                    "name": "industryType",
                    "constraints": [
                      "Broad acre cropping",
                      "Dairy",
                      "Environmental",
                      "Horticulture",
                      "Grazing",
                      "Fisheries",
                      "Aquaculture",
                      "Other"
                    ],
                    "validate": "required"
                  },
                  {
                    "dataType": "text",
                    "name": "actionType",
                    "description": "",
                    "constraints": [
                      "Basal bark spraying",
                      "Biological agents",
                      "Cut stump",
                      "Cut and swab",
                      "Dozing",
                      "Felling",
                      "Fire",
                      "Foliar spraying",
                      "Grubbing/chipping",
                      "Hand pulling",
                      "Moisture and nutrient control",
                      "Mowing",
                      "Other earthworks",
                      "Overplanting",
                      "Pushing",
                      "Slashing",
                      "Spot spraying",
                      "Splatter gun",
                      "Stem injection",
                      "Stem scraper",
                      "Wick applicators",
                      "Other"
                    ],
                    "validate": "required"
                  },
                  {
                    "dataType": "text",
                    "name": "otherActionType",
                    "description": "This field may be used to list multiple preparation activities. This list of activities need to be separated with a ';'",
                    "behaviour": [
                      {
                        "condition": "actionType == \"Other\"",
                        "type": "enable"
                      }
                    ],
                    "validate": "required,maxSize[100]"
                  },
                  {
                    "dataType": "text",
                    "name": "purposeOfSitePreparation",
                    "description": "Please provide a brief description of how the work will benefit the area.",
                    "validate": "required,maxSize[300]"
                  }
                ],
                "dataType": "list",
                "name": "sitePreparationDetails"
              },
              {
                "name": "relatedOutcomes",
                "dataType": "text",
                "description": "Select the outcome/s as defined in your MERI plan that this service was delivered to achieve.",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "value",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "context-path": "outcomes"
                    }
                  }
                }
              },
              {
                "name": "investmentPriorities2",
                "dataType": "text",
                "description": "",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "value",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "context-path": "owner.investmentPriorities"
                    }
                  }
                }
              },
              {
                "dataType": "text",
                "name": "otherInvestmentPriority",
                "behaviour": [
                  {
                    "type": "enable",
                    "condition": "\"Other\" in investmentPriorities2"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "invoicingThisActivity",
                "constraints": [
                  "Yes",
                  "No"
                ],
                "validate": "required"
              }
            ],
            "dataType": "list",
            "name": "sitePreparationDetailsControlled"
          },
          {
            "dataType": "number",
            "name": "totalAreaSitePreparation",
            "validate": "min[0]",
            "decimalPlaces": 3,
            "computed": {
              "expression": "sum(sitePreparationDetailsControlled, \"areaTreatedHa\")"
            }
          },
          {
            "dataType": "number",
            "decimalPlaces": 3,
            "name": "totalAreaSitePreparationInvoiced",
            "description": "Manually enter if values have decimal points e.g. 0.350 or 2.545",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalAreaSitePreparation",
                  "type": "computed",
                  "decimalPlaces": 3
                },
                "rule": "max"
              }
            ],
            "defaultValue": ""
          },
          {
            "dataType": "number",
            "decimalPlaces": 3,
            "name": "totalLengthSitePreparation",
            "validate": "min[0]",
            "computed": {
              "expression": "sum(sitePreparationDetailsControlled, \"lengthTreatedKm\")"
            }
          },
          {
            "dataType": "number",
            "decimalPlaces": 3,
            "name": "totalLengthSitePreparationInvoiced",
            "description": "Manually enter if values have decimal points e.g. 0.350 or 2.545",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalLengthSitePreparation",
                  "type": "computed",
                  "decimalPlaces": 3
                },
                "rule": "max"
              }
            ],
            "defaultValue": ""
          },
          {
            "dataType": "text",
            "name": "totalInvoicedSiteCollectionMismatched",
            "description": "Please provide the reason/s why you are not invoicing for the same number that have been completed and delivered, e.g. the personnel and equipment were available to deliver more than was contracted.",
            "validate": "maxSize[400],required",
            "behaviour": [
              {
                "condition": "totalAreaSitePreparationInvoiced < totalAreaSitePreparation or totalLengthSitePreparationInvoiced < totalLengthSitePreparation",
                "type": "enable"
              }
            ]
          },
          {
            "dataType": "text",
            "name": "comments",
            "validate": "maxSize[1500]"
          },
          {
            "dataType": "image",
            "name": "photographicEvidence"
          },
          {
            "dataType": "boolean",
            "name": "dataUploaded",
            "description": "<ul><li>Tick box to confirm data has been uploaded</li><li>URL Link (mandatory if below is ticked) in available evidence</li></ul>"
          },
          {
            "name": "projectAssuranceDetails",
            "dataType": "text",
            "validate": "required,maxSize[5000]"
          },
          {
            "dataType": "list",
            "name": "assuranceDocuments",
            "columns": [
              {
                "dataType": "document",
                "name": "attachments",
                "description": "Please attach any Evidence of Service Delivery here."
              }
            ]
          }
        ],
        "modelName": "NHT - Site preparation",
        "title": "Site Preparation",
        "viewModel": [
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<h3>Participation information</h3>"
              }
            ]
          },
          {
            "disableTableUpload": true,
            "columns": [
              {
                "width": "10%",
                "source": "participationIndividualsOrGroups",
                "title": "Are individuals or groups delivering this service?",
                "type": "selectOne"
              },
              {
                "width": "20%",
                "type": "col",
                "title": "Total number of people delivering this service <br>(including First Nations people)<b style=\"color:red\">*</b>",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "participationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "participationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "type": "col",
                "width": "20%",
                "title": "Total number of First Nations people delivering this service<b style=\"color:red\">*</b>",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "firstNationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "firstNationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "width": "20%",
                "source": "participationDetails",
                "rows": 4,
                "title": "If no First Nations people participated in the delivery of this service, <br>what are the reasons? If there was participation, please provide details.",
                "helpText": "If there were no First Nations people participating in the delivery of this service, please explain the reasons. If there were First Nations people involved, please outline how they were involved.",
                "type": "textarea"
              }
            ],
            "source": "participationInformationTableSip",
            "type": "table"
          },
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<h3>Totals Summary</h3>"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(i) Total area (ha) of site preparation for this reporting period",
                        "source": "totalAreaSitePreparation",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(ii) Total area (ha) of site preparation <u><i>invoiced</i></u> for this reporting period",
                        "source": "totalAreaSitePreparationInvoiced",
                        "type": "number",
                        "displayOptions": {
                          "removeTrailingZeros": false
                        }
                      }
                    ]
                  }
                ]
              },
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(iii) Total length (km) of site preparation for this reporting period",
                        "source": "totalLengthSitePreparation",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(iv) Total length (km) of site preparation <u><i>invoiced</i></u> for this reporting period",
                        "source": "totalLengthSitePreparationInvoiced",
                        "type": "number",
                        "displayOptions": {
                          "removeTrailingZeros": false
                        }
                      }
                    ]
                  }
                ]
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "If the total invoiced is different to the total completed, please provide the reason",
                "source": "totalInvoicedSiteCollectionMismatched",
                "type": "textarea",
                "rows": 4,
                "placeholder": ""
              }
            ]
          },
          {
            "addRowText": "Add a new site",
            "userAddedRows": true,
            "source": "sitePreparationDetailsControlled",
            "type": "repeat",
            "items": [
              {
                "type": "row",
                "items": [
                  {
                    "css": "span3 col-border-right",
                    "type": "col",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "relatedOutcomes",
                            "type": "selectOne",
                            "preLabel": "Which outcome statement/s does this activity relate to?"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "investmentPriorities2",
                            "preLabel": "Which investment priority does this activity relate to?",
                            "type": "select2Many"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "css": "span3 col-border-right",
                    "type": "col",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "invoicingThisActivity",
                            "preLabel": "Are you invoicing for this activity in this reporting period?",
                            "type": "selectOne"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Site/s where preparation was undertaken",
                            "source": "sitesPreparation",
                            "type": "feature"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "calculatedAreaTreatedHa",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            },
                            "readonly": "readonly"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "calculatedLengthTreatedKm",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            },
                            "readonly": "readonly"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Please attach mapping details",
                            "source": "extraMappingDetails",
                            "type": "document"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Actual area (ha) / length (km) of site preparation",
                            "source": "areaTreatedHa",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "lengthTreatedKm",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Reason for actual being different to mapped amount",
                            "source": "mappingNotAlignedReason",
                            "type": "selectOne"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "placeholder": "Please enter the reason/s the mapping didn't align with the invoiced amount",
                            "source": "mappingNotAlignedComments",
                            "type": "textarea",
                            "rows": 5
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "columns": [
                  {
                    "title": "Activity start date",
                    "source": "activitiesStartDate",
                    "type": "date",
                    "width": "10%"
                  },
                  {
                    "title": "Activity end date",
                    "source": "activitiesEndDate",
                    "type": "date",
                    "width": "10%"
                  },
                  {
                    "width": "10%",
                    "source": "numberOfDaysPreparingSite",
                    "title": "Number of days in preparing site",
                    "type": "number"
                  },
                  {
                    "width": "20%",
                    "source": "industryType",
                    "title": "Industry type",
                    "type": "selectOne"
                  },
                  {
                    "width": "25%",
                    "type": "col",
                    "title": "Type of action",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "actionType",
                            "type": "selectOne"
                          }
                        ]
                      },
                      {
                        "source": "otherActionType",
                        "placeholder": "Type of action (if Other)",
                        "type": "text"
                      }
                    ]
                  },
                  {
                    "width": "25%",
                    "source": "purposeOfSitePreparation",
                    "title": "Purpose of site preparation",
                    "type": "textarea"
                  }
                ],
                "userAddedRows": true,
                "disableTableUpload": true,
                "source": "sitePreparationDetails",
                "type": "table"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "Optionally attach photos",
                "source": "photographicEvidence",
                "type": "image"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "Clarification, if needed",
                "type": "textarea",
                "rows": 4,
                "css": "span8",
                "source": "comments",
                "placeholder": "Clarification comments include information for your project manager about the service like:\n • any reported items that are not being invoiced (eg, over-achievement) \n • any extraneous circumstances that affected delivery of the service \n"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<p><b>Available Evidence</b></p>This field is mandatory for all projects as part of the invoicing process. Please list evidence you have retained for this service and provide information to where the evidence is stored (links/file location data). Refer to the Project Service Evidence Guide and the Project Service Summaries for information on the evidence requirements.<b style=\"color:red\">*</b>"
              },
              {
                "preLabel": "Data have been uploaded",
                "source": "dataUploaded",
                "type": "boolean"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "",
                "source": "projectAssuranceDetails",
                "type": "textarea",
                "rows": 4,
                "placeholder": "List the documentary evidence you have available for this project service. Include specifically, the document titles and location (e.g. internal IT network pathway, URLs) to assist with locating this material for future audits/assurance purposes."
              }
            ]
          },
          {
            "type": "table",
            "source": "assuranceDocuments",
            "userAddedRows": true,
            "disableTableUpload": true,
            "columns": [
              {
                "title": "Attached documents",
                "source": "attachments",
                "type": "document"
              }
            ]
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtSitePreparation",
      "optional": true,
      "optionalQuestionText": null,
      "title": "Site preparation",
      "collapsibleHeading": null,
      "name": "NHT - Site preparation",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "dataModel": [
          {
            "name": "skillsAndKnowledgeSurveys",
            "dataType": "list",
            "minSize": 1,
            "columns": [
              {
                "name": "relatedOutcomes",
                "dataType": "text",
                "description": "Select the outcome/s as defined in your MERI plan that this service was delivered to achieve.",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "value",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "context-path": "outcomes"
                    }
                  }
                }
              },
              {
                "dataType": "text",
                "name": "baselineOrIndicatorSurvey",
                "description": "",
                "constraints": [
                  "Baseline",
                  "Indicator"
                ],
                "validate": "required"
              },
              {
                "dataType": "text",
                "name": "surveyObjective",
                "description": "What the survey aim to capture? How will the information obtained from the survey be used?",
                "validate": "required,maxSize[3000]"
              },
              {
                "dataType": "number",
                "name": "numberOfSurveys",
                "validate": "required,min[1],max[1]",
                "defaultValue": 1,
                "readonly": true
              },
              {
                "dataType": "number",
                "name": "numberOfSurveysInvoiced",
                "validate": "required,min[0]",
                "defaultValue": 1
              },
              {
                "dataType": "list",
                "name": "skillsAndKnowledgeDataSets",
                "columns": [
                  {
                    "name": "dataSetId",
                    "entityType": "au.org.ala.ecodata.DataSetSummary",
                    "dataType": "text",
                    "description": "This section will require the Data Set Name so the Metadata fields in the Data Set Summary tab should be filled out before the Outcome Report is due. More than one dataset if relevant for this Project Baseline could be selected.",
                    "validate": "required",
                    "constraints": {
                      "textProperty": "name",
                      "valueProperty": "dataSetId",
                      "excludePath": "skillsAndKnowledgeSurveys.skillsAndKnowledgeDataSets.dataSetId",
                      "type": "pre-populated",
                      "config": {
                        "source": {
                          "context-path": "owner.custom.dataSets"
                        },
                        "filter": {
                          "namespace": "dataSet",
                          "expression": "dataSet.serviceId == 29 and dataSet.progress == 'finished' and dataSet.alreadyReported == false and baselineOrIndicatorSurvey == baselineIndicatorMapping.lookupValue(dataSet.type) and deepEquals(relatedOutcomes,dataSet.outcomesLabel)"
                        }
                      }
                    },
                    "behaviour": [
                      {
                        "type": "pre_populate",
                        "config": {
                          "waitForInitialisation": true,
                          "source": {
                            "url": "/site/geojson",
                            "params": [
                              {
                                "expression": "x=find(owner.custom.dataSets, \"dataSetId\", dataSetId); x.siteId",
                                "name": "id",
                                "type": "computed",
                                "required": true
                              }
                            ]
                          },
                          "target":  {
                            "type": "singleValue",
                            "name": "sitesCoveredForSkillsAndKnowledge"
                          }
                        }
                      }
                    ]
                  },
                  {
                    "name": "projectBaselines",
                    "dataType": "stringList",
                    "description": "Select the relevant Project Baseline as listed in the Monitoring Methodology section of the MERI Plan.",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.baselines"
                    },
                    "constraints": {
                      "textProperty": "baseline",
                      "valueProperty": "code",
                      "type": "pre-populated",
                      "excludePath": "projectBaselines",
                      "config": {
                        "source": {
                          "context-path": "owner.custom.details.baseline.rows"
                        }
                      }
                    }
                  },
                  {
                    "name": "investmentPriorities2",
                    "dataType": "stringList",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.investmentPriorities"
                    },
                    "constraints": {
                      "type": "pre-populated",
                      "config": {
                        "source": {
                          "params": [
                            {
                              "expression": "owner.projectId",
                              "name": "id",
                              "type": "computed"
                            }
                          ],
                          "url": "/project/listProjectInvestmentPriorities/"
                        }
                      }
                    }
                  },
                  {
                    "dataType": "text",
                    "name": "otherInvestmentPriority",
                    "behaviour": [
                      {
                        "type": "enable",
                        "condition": "\"Other\" in investmentPriorities2"
                      }
                    ]
                  },
                  {
                    "dataType": "date",
                    "name": "activitiesStartDate",
                    "description": "Specific the dates these events were held on.",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.startDate"
                    }
                  },
                  {
                    "dataType": "date",
                    "name": "activitiesEndDate",
                    "description": "Specific the dates these events were held on.",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.endDate"
                    }
                  },
                  {
                    "dataType": "feature",
                    "name": "sitesCoveredForSkillsAndKnowledge",
                    "description": "Mapping field to be done and Area (ha)/length (km) field be auto-calculated from mapping."
                  },
                  {
                    "computed": {
                      "expression": "$geom.areaHa(sitesCoveredForSkillsAndKnowledge)"
                    },
                    "dataType": "number",
                    "name": "calculatedAreaTreatedHa",
                    "units": "ha",
                    "decimalPlaces": 3
                  },
                  {
                    "computed": {
                      "expression": "$geom.lengthKm(sitesCoveredForSkillsAndKnowledge)"
                    },
                    "dataType": "number",
                    "name": "calculatedLengthTreatedKm",
                    "units": "km",
                    "decimalPlaces": 3,
                    "behaviour": [
                      {
                        "condition": "lengthTreatedKm > 0",
                        "type": "conditional_validation",
                        "value": {
                          "message": "The managed length must be mapped",
                          "validate": "required,min[0.0001]"
                        }
                      }
                    ]
                  },
                  {
                    "defaultValue": {
                      "type": "computed",
                      "expression": "calculatedAreaTreatedHa"
                    },
                    "dataType": "number",
                    "name": "areaTreatedHa",
                    "description": "Manually enter correct figure for this reporting period if different to mapped value.",
                    "units": "ha",
                    "decimalPlaces": 3,
                    "validate": "required,min[0]"
                  },
                  {
                    "dataType": "text",
                    "name": "mappingNotAlignedReason",
                    "constraints": [
                      "Mapped area simplifies more complex area/s where work was undertaken during this period",
                      "Other"
                    ],
                    "validate": "required",
                    "behaviour": [
                      {
                        "condition": "not (within(areaTreatedHa, calculatedAreaTreatedHa, 0.1) and within(lengthTreatedKm, calculatedLengthTreatedKm, 0.1))",
                        "type": "if"
                      }
                    ]
                  },
                  {
                    "dataType": "text",
                    "name": "mappingNotAlignedComments",
                    "validate": "required,maxSize[100]",
                    "behaviour": [
                      {
                        "type": "visible",
                        "condition": "\"Other\" == mappingNotAlignedReason"
                      }
                    ]
                  },
                  {
                    "dataType": "document",
                    "name": "extraMappingDetails",
                    "validate": "required",
                    "description": "Please fill in the Mapped/Actual/Invoice fields before attaching a document here. If those fields match this field will be void. <br/>If any of these fields differ please attach your organisation's detailed map for the area, covered by this project service - during reporting period (include the scale measure for each map).",
                    "behaviour": [
                      {
                        "condition": "not (within(areaTreatedHa, calculatedAreaTreatedHa, 0.1) and within(lengthTreatedKm, calculatedLengthTreatedKm, 0.1))",
                        "type": "if"
                      }
                    ]
                  },
                  {
                    "defaultValue": {
                      "type": "computed",
                      "expression": "$geom.lengthKm(sitesCoveredForSkillsAndKnowledge)"
                    },
                    "dataType": "number",
                    "name": "lengthTreatedKm",
                    "units": "km",
                    "decimalPlaces": 3
                  },
                  {
                    "dataType": "text",
                    "description": "Select the technique used to conduct the survey. If the EMSA Application tool was not used, you should select 'Other'.",
                    "name": "emsaProtocol",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.protocol"
                    },
                    "constraints": {
                      "textProperty": "label",
                      "valueProperty": "value",
                      "type": "pre-populated",
                      "config": {
                        "source": {
                          "context-path": "owner.protocols"
                        }
                      }
                    }
                  },
                  {
                    "dataType": "stringList",
                    "description": "Describe the technique (if Other) was selected.",
                    "name": "otherEmsaProtocol",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.methods"
                    }
                  },
                  {
                    "dataType": "text",
                    "name": "surveyMethodology",
                    "description": "Provide more details on what is being done.",
                    "validate": "required,maxSize[3000]",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.methodDescription"
                    }
                  },
                  {
                    "dataType": "text",
                    "name": "invoicingThisActivity",
                    "constraints": [
                      "Yes",
                      "No"
                    ],
                    "validate": "required"
                  },
                  {
                    "dataType": "number",
                    "name": "numberOfPeopleSurveying",
                    "validate": "required,min[0]",
                    "defaultValue": ""
                  },
                  {
                    "dataType": "text",
                    "name": "skillsSurveyObjective",
                    "validate": "maxSize[300],required",
                    "description": "How will the information from the surveys be used?"
                  }
                ],
                "minSize": 1
              }
            ]
          },
          {
            "dataType": "lookupTable",
            "name": "baselineIndicatorMapping",
            "config": {
              "source": {
                "literal": {
                  "Baseline dataset associated with a project outcome": "Baseline",
                  "Project progress dataset that is tracking change against an established project baseline dataset": "Indicator"
                }
              }
            }
          },
          {
            "allowRowDelete": "false",
            "columns": [
              {
                "dataType": "text",
                "name": "participationIndividualsOrGroups",
                "description": "Once Individuals or groups is selected, the related number field in the next two columns will become editable to report.",
                "constraints": [
                  "Individuals",
                  "Groups"
                ],
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "participationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "participationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ]
              },
              {
                "dataType": "number",
                "name": "firstNationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "param": {
                      "expression": "participationIndividualNumber",
                      "type": "computed"
                    },
                    "rule": "max"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "firstNationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "param": {
                      "expression": "participationGroupNumber",
                      "type": "computed"
                    },
                    "rule": "max",
                    "message": "The number of first nation participants cannot be greater than the total number of participants"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "participationDetails",
                "validate": "required, maxSize[3000]"
              }
            ],
            "dataType": "list",
            "name": "participationInformationTableSss"
          },
          {
            "dataType": "number",
            "name": "totalSurveyBaseline",
            "validate": "min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(skillsAndKnowledgeSurveys, \"baselineOrIndicatorSurvey == 'Baseline' ? 1 : 0\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalSurveyBaselineInvoiced",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalSurveyBaseline",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": ""
          },
          {
            "dataType": "number",
            "name": "totalSurveyIndicator",
            "validate": "min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(skillsAndKnowledgeSurveys, \"baselineOrIndicatorSurvey == 'Indicator' ? 1 : 0\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalSurveyIndicatorInvoiced",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalSurveyIndicator",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": ""
          },
          {
            "dataType": "number",
            "name": "numberOfSurveysInvoiced",
            "validate": "required,min[0]",
            "defaultValue": 1
          },
          {
            "dataType": "text",
            "name": "totalInvoicedSkillsMismatched",
            "description": "Please provide the reason/s why you are not invoicing for the same number that have been completed and delivered, e.g. the personnel and equipment were available to deliver more than was contracted.",
            "validate": "maxSize[400],required",
            "behaviour": [
              {
                "condition": "totalSurveyIndicatorInvoiced < totalSurveyIndicator or totalSurveyBaselineInvoiced < totalSurveyBaseline",
                "type": "enable"
              }
            ]
          },
          {
            "dataType": "text",
            "name": "comments",
            "validate": "maxSize[1500]"
          },
          {
            "dataType": "image",
            "name": "photographicEvidence"
          },
          {
            "dataType": "boolean",
            "name": "dataUploaded",
            "description": ""
          },
          {
            "dataType": "text",
            "name": "projectAssuranceDetails",
            "description": "",
            "validate": "required,maxSize[5000]"
          },
          {
            "dataType": "list",
            "name": "assuranceDocuments",
            "columns": [
              {
                "dataType": "document",
                "name": "attachments",
                "description": "Please attach any Evidence of Service Delivery here."
              }
            ]
          }
        ],
        "modelName": "NHT - Skills and knowledge survey",
        "title": "Skills and Knowledge Survey",
        "viewModel": [
          {
            "type": "section",
            "items": [
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<h3>Participation information</h3>"
                  }
                ]
              },
              {
                "disableTableUpload": true,
                "columns": [
                  {
                    "width": "10%",
                    "source": "participationIndividualsOrGroups",
                    "title": "Are individuals or groups delivering this service?",
                    "type": "selectOne"
                  },
                  {
                    "width": "20%",
                    "type": "col",
                    "title": "Total number of people delivering this service <br>(including First Nations people)<b style=\"color:red\">*</b>",
                    "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                    "items": [
                      {
                        "source": "participationIndividualNumber",
                        "type": "number"
                      },
                      {
                        "source": "participationGroupNumber",
                        "type": "selectOne"
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "width": "20%",
                    "title": "Total number of First Nations people delivering this service<b style=\"color:red\">*</b>",
                    "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                    "items": [
                      {
                        "source": "firstNationIndividualNumber",
                        "type": "number"
                      },
                      {
                        "source": "firstNationGroupNumber",
                        "type": "selectOne"
                      }
                    ]
                  },
                  {
                    "width": "20%",
                    "source": "participationDetails",
                    "rows": 4,
                    "title": "If no First Nations people participated in the delivery of this service, <br>what are the reasons? If there was participation, please provide details.",
                    "helpText": "If there were no First Nations people participating in the delivery of this service, please explain the reasons. If there were First Nations people involved, please outline how they were involved.",
                    "type": "textarea"
                  }
                ],
                "source": "participationInformationTableSss",
                "type": "table"
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<h3>Survey information</h3><p><b>Before completing this section, please ensure you have created a Data Set Summary information for every data set produced by the surveys you intend to report</b></p><ul><li>Each survey reported must relate to a combination of outcomes as described in your MERI plan</li><li>Each Data Set Summary recorded for a survey must be addressing the same outcomes as selected for the survey</li><li>If a survey produced more than one data set, use the New Data Set button to add each Data Set Summary under your survey</li><li>A single survey can be made up of multiple dataset</li></ul>"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<h3>Totals Summary</h3>"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "col",
                    "css": "span4 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(i) Total Number of baseline skills and knowledge surveys completed for this reporting period",
                            "source": "totalSurveyBaseline",
                            "type": "number"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(ii) Total Number of baseline skills and knowledge surveys <u><i>invoiced</i></u> for this reporting period",
                            "source": "totalSurveyBaselineInvoiced",
                            "type": "number"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span4 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(iii)  Total Number of  indicator skills and knowledge surveys completed for this reporting period",
                            "source": "totalSurveyIndicator",
                            "type": "number"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(iv) Total Number of indicator skills and knowledge surveys <u><i>invoiced</i></u> for this reporting period",
                            "source": "totalSurveyIndicatorInvoiced",
                            "type": "number"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "If the total invoiced is different to the total completed, please provide the reason",
                    "source": "totalInvoicedSkillsMismatched",
                    "type": "textarea",
                    "rows": 4,
                    "placeholder": ""
                  }
                ]
              },
              {
                "addRowText": "Add survey",
                "removeRowText": "Delete this survey",
                "userAddedRows": true,
                "source": "skillsAndKnowledgeSurveys",
                "type": "repeat",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "type": "col",
                        "items": [
                          {
                            "source": "relatedOutcomes",
                            "type": "selectOne",
                            "preLabel": "Which outcome statement/s relates to this survey?"
                          }
                        ]
                      },
                      {
                        "type": "col",
                        "items": [
                          {
                            "source": "baselineOrIndicatorSurvey",
                            "type": "selectOne",
                            "preLabel": "Baseline survey or indicator (follow-up) survey?"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "source": "surveyObjective",
                        "preLabel": "Survey objective",
                        "type": "text"
                      }
                    ]
                  },
                  {
                    "type": "repeat",
                    "source": "skillsAndKnowledgeDataSets",
                    "userAddedRows": true,
                    "addRowText": "New data set",
                    "removeRowText": "Delete this data set",
                    "items": [
                      {
                        "type": "row",
                        "css": "border-bottom",
                        "items": [
                          {
                            "type": "col",
                            "items": [
                              {
                                "source": "dataSetId",
                                "type": "selectOne",
                                "preLabel": "Please select the data set produced by this survey.  Note it must have already been entered on the Data Set Summary tab."
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "projectBaselines",
                                    "type": "selectMany",
                                    "preLabel": "Which project baseline/s relate to this survey?",
                                    "readonly": "readonly"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "investmentPriorities2",
                                    "preLabel": "Which investment priority does this activity relate to?",
                                    "type": "select2Many"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Activity start date",
                                    "source": "activitiesStartDate",
                                    "type": "date"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Activity end date",
                                    "source": "activitiesEndDate",
                                    "type": "date"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Survey technique",
                                    "source": "emsaProtocol",
                                    "type": "selectOne",
                                    "readonly": "readonly"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Survey technique (if Other)",
                                    "source": "otherEmsaProtocol",
                                    "type": "select2Many"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "surveyMethodology",
                                    "preLabel": "Survey methodology",
                                    "type": "text"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "invoicingThisActivity",
                                    "preLabel": "Are you invoicing for this activity in this reporting period?",
                                    "type": "selectOne"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "numberOfPeopleSurveying",
                                    "preLabel": "Number of people completing survey",
                                    "type": "number"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "skillsSurveyObjective",
                                    "preLabel": "Survey objective",
                                    "type": "text"
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Optionally attach photos",
                    "source": "photographicEvidence",
                    "type": "image"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Clarification, if needed",
                    "type": "textarea",
                    "rows": 4,
                    "css": "span8",
                    "source": "comments",
                    "placeholder": "Clarification comments include information for your project manager about the service like:\n • any reported items that are not being invoiced (eg, over-achievement) \n • any extraneous circumstances that affected delivery of the service \n"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<p><b>Available Evidence</b></p>This field is mandatory for all projects as part of the invoicing process. Please list evidence you have retained for this service and provide information to where the evidence is stored (links/file location data). Refer to the Project Service Evidence Guide and the Project Service Summaries for information on the evidence requirements.<b style=\"color:red\">*</b>"
                  },
                  {
                    "preLabel": "Data have been uploaded",
                    "source": "dataUploaded",
                    "type": "boolean"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "",
                    "source": "projectAssuranceDetails",
                    "type": "textarea",
                    "rows": 4,
                    "placeholder": "List the documentary evidence you have available for this project service. Include specifically, the document titles and location (e.g. internal IT network pathway, URLs) to assist with locating this material for future audits/assurance purposes."
                  }
                ]
              },
              {
                "type": "table",
                "source": "assuranceDocuments",
                "userAddedRows": true,
                "disableTableUpload": true,
                "columns": [
                  {
                    "title": "Attached documents",
                    "source": "attachments",
                    "type": "document"
                  }
                ]
              }
            ]
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtSkillsAndKnowledgeSurvey",
      "optional": true,
      "optionalQuestionText": null,
      "title": "Skills and knowledge survey",
      "collapsibleHeading": null,
      "name": "NHT - Skills and knowledge survey",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "dataModel": [
          {
            "name": "soilSurveys",
            "dataType": "list",
            "minSize": 1,
            "columns": [
              {
                "name": "relatedOutcomes",
                "dataType": "text",
                "description": "Select the outcome/s as defined in your MERI plan that this service was delivered to achieve.",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "value",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "context-path": "outcomes"
                    }
                  }
                }
              },
              {
                "dataType": "text",
                "name": "baselineOrIndicatorSurvey",
                "description": "",
                "constraints": [
                  "Baseline",
                  "Indicator"
                ],
                "validate": "required"
              },
              {
                "dataType": "text",
                "name": "surveyObjective",
                "description": "What the survey aim to capture? How will the information obtained from the survey be used?",
                "validate": "required,maxSize[3000]"
              },
              {
                "dataType": "number",
                "name": "numberOfSurveys",
                "validate": "required,min[1],max[1]",
                "defaultValue": 1,
                "readonly": true
              },
              {
                "dataType": "list",
                "name": "soilDataSets",
                "columns": [
                  {
                    "name": "dataSetId",
                    "entityType": "au.org.ala.ecodata.DataSetSummary",
                    "dataType": "text",
                    "description": "This section will require the Data Set Name so the Metadata fields in the Data Set Summary tab should be filled out before the Outcome Report is due. More than one dataset if relevant for this Project Baseline could be selected.",
                    "validate": "required",
                    "constraints": {
                      "textProperty": "name",
                      "valueProperty": "dataSetId",
                      "excludePath": "soilSurveys.soilDataSets.dataSetId",
                      "type": "pre-populated",
                      "config": {
                        "source": {
                          "context-path": "owner.custom.dataSets"
                        },
                        "filter": {
                          "namespace": "dataSet",
                          "expression": "dataSet.serviceId == 30 and dataSet.progress == 'finished' and dataSet.alreadyReported == false and baselineOrIndicatorSurvey == baselineIndicatorMapping.lookupValue(dataSet.type) and deepEquals(relatedOutcomes,dataSet.outcomesLabel)"
                        }
                      }
                    },
                    "behaviour": [
                      {
                        "type": "pre_populate",
                        "config": {
                          "waitForInitialisation": true,
                          "source": {
                            "url": "/site/geojson",
                            "params": [
                              {
                                "expression": "x=find(owner.custom.dataSets, \"dataSetId\", dataSetId); x.siteId",
                                "name": "id",
                                "type": "computed",
                                "required": true
                              }
                            ]
                          },
                          "target":  {
                            "type": "singleValue",
                            "name": "sitesCoveredForSoilSurvey"
                          }
                        }
                      }
                    ]
                  },
                  {
                    "name": "projectBaselines",
                    "dataType": "stringList",
                    "description": "Select the relevant Project Baseline as listed in the Monitoring Methodology section of the MERI Plan.",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.baselines"
                    },
                    "constraints": {
                      "textProperty": "baseline",
                      "valueProperty": "code",
                      "type": "pre-populated",
                      "excludePath": "projectBaselines",
                      "config": {
                        "source": {
                          "context-path": "owner.custom.details.baseline.rows"
                        }
                      }
                    }
                  },
                  {
                    "name": "investmentPriorities2",
                    "dataType": "stringList",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.investmentPriorities"
                    },
                    "constraints": {
                      "type": "pre-populated",
                      "config": {
                        "source": {
                          "params": [
                            {
                              "expression": "owner.projectId",
                              "name": "id",
                              "type": "computed"
                            }
                          ],
                          "url": "/project/listProjectInvestmentPriorities/"
                        }
                      }
                    }
                  },
                  {
                    "dataType": "text",
                    "name": "otherInvestmentPriority",
                    "behaviour": [
                      {
                        "type": "enable",
                        "condition": "\"Other\" in investmentPriorities2"
                      }
                    ]
                  },
                  {
                    "dataType": "date",
                    "name": "activitiesStartDate",
                    "description": "Specific the dates these events were held on.",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.startDate"
                    }
                  },
                  {
                    "dataType": "date",
                    "name": "activitiesEndDate",
                    "description": "Specific the dates these events were held on.",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.endDate"
                    }
                  },
                  {
                    "dataType": "feature",
                    "name": "sitesCoveredForSoilSurvey",
                    "description": "Mapping field to be done and Area (ha)/length (km) field be auto-calculated from mapping."


                  },
                  {
                    "computed": {
                      "expression": "$geom.areaHa(sitesCoveredForSoilSurvey)"
                    },
                    "dataType": "number",
                    "name": "calculatedAreaTreatedHa",
                    "units": "ha",
                    "decimalPlaces": 3
                  },
                  {
                    "computed": {
                      "expression": "$geom.lengthKm(sitesCoveredForSoilSurvey)"
                    },
                    "dataType": "number",
                    "name": "calculatedLengthTreatedKm",
                    "units": "km",
                    "decimalPlaces": 3,
                    "behaviour": [
                      {
                        "condition": "lengthTreatedKm > 0",
                        "type": "conditional_validation",
                        "value": {
                          "message": "The managed length must be mapped",
                          "validate": "required,min[0.0001]"
                        }
                      }
                    ]
                  },
                  {
                    "defaultValue": {
                      "type": "computed",
                      "expression": "calculatedAreaTreatedHa"
                    },
                    "dataType": "number",
                    "name": "areaTreatedHa",
                    "description": "Manually enter correct figure for this reporting period if different to mapped value.",
                    "units": "ha",
                    "decimalPlaces": 3,
                    "validate": "required,min[0]"
                  },
                  {
                    "dataType": "text",
                    "name": "mappingNotAlignedReason",
                    "constraints": [
                      "Mapped area simplifies more complex area/s where work was undertaken during this period",
                      "Other"
                    ],
                    "validate": "required",
                    "behaviour": [
                      {
                        "condition": "not (within(areaTreatedHa, calculatedAreaTreatedHa, 0.1) and within(lengthTreatedKm, calculatedLengthTreatedKm, 0.1))",
                        "type": "if"
                      }
                    ]
                  },
                  {
                    "dataType": "text",
                    "name": "mappingNotAlignedComments",
                    "validate": "required,maxSize[100]",
                    "behaviour": [
                      {
                        "type": "visible",
                        "condition": "\"Other\" == mappingNotAlignedReason"
                      }
                    ]
                  },
                  {
                    "dataType": "document",
                    "name": "extraMappingDetails",
                    "validate": "required",
                    "description": "Please fill in the Mapped/Actual/Invoice fields before attaching a document here. If those fields match this field will be void. <br/>If any of these fields differ please attach your organisation's detailed map for the area, covered by this project service - during reporting period (include the scale measure for each map).",
                    "behaviour": [
                      {
                        "condition": "not (within(areaTreatedHa, calculatedAreaTreatedHa, 0.1) and within(lengthTreatedKm, calculatedLengthTreatedKm, 0.1))",
                        "type": "if"
                      }
                    ]
                  },
                  {
                    "defaultValue": {
                      "type": "computed",
                      "expression": "$geom.lengthKm(sitesCoveredForSoilSurvey)"
                    },
                    "dataType": "number",
                    "name": "lengthTreatedKm",
                    "units": "km",
                    "decimalPlaces": 3
                  },
                  {
                    "dataType": "text",
                    "description": "Select the technique used to conduct the survey. If the EMSA Application tool was not used, you should select 'Other'.",
                    "name": "emsaProtocol",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.protocol"
                    },
                    "constraints": {
                      "textProperty": "label",
                      "valueProperty": "value",
                      "type": "pre-populated",
                      "config": {
                        "source": {
                          "context-path": "owner.protocols"
                        }
                      }
                    }
                  },
                  {
                    "dataType": "stringList",
                    "description": "Describe the technique (if Other) was selected.",
                    "name": "otherEmsaProtocol",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.methods"
                    }
                  },
                  {
                    "dataType": "text",
                    "name": "surveyMethodology",
                    "description": "Provide more details on what is being done.",
                    "validate": "required,maxSize[3000]",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.methodDescription"
                    }
                  },
                  {
                    "dataType": "text",
                    "name": "invoicingThisActivity",
                    "constraints": [
                      "Yes",
                      "No"
                    ],
                    "validate": "required"
                  },
                  {
                    "dataType": "text",
                    "name": "testingDepth",
                    "constraints": [
                      "1-10",
                      "11-20",
                      "21-30",
                      "31-40",
                      "41-50",
                      "51-60",
                      "61-70",
                      "71-80",
                      "81-90",
                      "91-100"
                    ],
                    "validate": "required"
                  },
                  {
                    "dataType": "text",
                    "name": "testingObjective",
                    "description": "How will the information obtained from the tests be used?",
                    "validate": "required,maxSize[300]"
                  }
                ],
                "minSize": 1
              }
            ]
          },
          {
            "dataType": "lookupTable",
            "name": "baselineIndicatorMapping",
            "config": {
              "source": {
                "literal": {
                  "Baseline dataset associated with a project outcome": "Baseline",
                  "Project progress dataset that is tracking change against an established project baseline dataset": "Indicator"
                }
              }
            }
          },
          {
            "allowRowDelete": "false",
            "columns": [
              {
                "dataType": "text",
                "name": "participationIndividualsOrGroups",
                "description": "Once Individuals or groups is selected, the related number field in the next two columns will become editable to report.",
                "constraints": [
                  "Individuals",
                  "Groups"
                ],
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "participationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "participationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ]
              },
              {
                "dataType": "number",
                "name": "firstNationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "param": {
                      "expression": "participationIndividualNumber",
                      "type": "computed"
                    },
                    "rule": "max"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "firstNationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "param": {
                      "expression": "participationGroupNumber",
                      "type": "computed"
                    },
                    "rule": "max",
                    "message": "The number of first nation participants cannot be greater than the total number of participants"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "participationDetails",
                "validate": "required, maxSize[3000]"
              }
            ],
            "dataType": "list",
            "name": "participationInformationTableSts"
          },
          {
            "dataType": "number",
            "name": "totalSurveyBaseline",
            "validate": "min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(soilSurveys, \"baselineOrIndicatorSurvey == 'Baseline' ? 1 : 0\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalSurveyBaselineInvoiced",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalSurveyBaseline",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": ""
          },
          {
            "dataType": "number",
            "name": "totalSurveyIndicator",
            "validate": "min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(soilSurveys, \"baselineOrIndicatorSurvey == 'Indicator' ? 1 : 0\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalSurveyIndicatorInvoiced",
            "defaultValue": "",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalSurveyIndicator",
                  "type": "computed"
                },
                "rule": "max"
              }
            ]
          },
          {
            "dataType": "text",
            "name": "totalInvoicedSoilMismatched",
            "description": "Please provide the reason/s why you are not invoicing for the same number that have been completed and delivered, e.g. the personnel and equipment were available to deliver more than was contracted.",
            "validate": "maxSize[400],required",
            "behaviour": [
              {
                "condition": "totalSurveyIndicatorInvoiced < totalSurveyIndicator or totalSurveyBaselineInvoiced < totalSurveyBaseline",
                "type": "enable"
              }
            ]
          },
          {
            "dataType": "text",
            "name": "comments",
            "validate": "maxSize[1500]"
          },
          {
            "dataType": "image",
            "name": "photographicEvidence"
          },
          {
            "dataType": "boolean",
            "name": "dataUploaded",
            "description": ""
          },
          {
            "dataType": "text",
            "name": "projectAssuranceDetails",
            "description": "",
            "validate": "required,maxSize[5000]"
          },
          {
            "dataType": "list",
            "name": "assuranceDocuments",
            "columns": [
              {
                "dataType": "document",
                "name": "attachments",
                "description": "Please attach any Evidence of Service Delivery here."
              }
            ]
          }
        ],
        "modelName": "NHT - Soil testing",
        "title": "Soil Testing",
        "viewModel": [
          {
            "type": "section",
            "items": [
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<h3>Participation information</h3>"
                  }
                ]
              },
              {
                "disableTableUpload": true,
                "columns": [
                  {
                    "width": "10%",
                    "source": "participationIndividualsOrGroups",
                    "title": "Are individuals or groups delivering this service?",
                    "type": "selectOne"
                  },
                  {
                    "width": "20%",
                    "type": "col",
                    "title": "Total number of people delivering this service <br>(including First Nations people)<b style=\"color:red\">*</b>",
                    "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                    "items": [
                      {
                        "source": "participationIndividualNumber",
                        "type": "number"
                      },
                      {
                        "source": "participationGroupNumber",
                        "type": "selectOne"
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "width": "20%",
                    "title": "Total number of First Nations people delivering this service<b style=\"color:red\">*</b>",
                    "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                    "items": [
                      {
                        "source": "firstNationIndividualNumber",
                        "type": "number"
                      },
                      {
                        "source": "firstNationGroupNumber",
                        "type": "selectOne"
                      }
                    ]
                  },
                  {
                    "width": "20%",
                    "source": "participationDetails",
                    "rows": 4,
                    "title": "If no First Nations people participated in the delivery of this service, <br>what are the reasons? If there was participation, please provide details.",
                    "helpText": "If there were no First Nations people participating in the delivery of this service, please explain the reasons. If there were First Nations people involved, please outline how they were involved.",
                    "type": "textarea"
                  }
                ],
                "source": "participationInformationTableSts",
                "type": "table"
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<h3>Survey information</h3><p><b>Before completing this section, please ensure you have created a Data Set Summary information for every data set produced by the surveys you intend to report</b></p><ul><li>Each survey reported must relate to a combination of outcomes as described in your MERI plan</li><li>Each Data Set Summary recorded for a survey must be addressing the same outcomes as selected for the survey</li><li>If a survey produced more than one data set, use the New Data Set button to add each Data Set Summary under your survey</li><li>A single survey can be made up of multiple dataset</li></ul>"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<h3>Totals Summary</h3>"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "col",
                    "css": "span4 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(i) Total Number of baseline soil testing surveys completed for this reporting period",
                            "source": "totalSurveyBaseline",
                            "type": "number"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(ii) Total Number of baseline soil testing surveys <u><i>invoiced</i></u> for this reporting period",
                            "source": "totalSurveyBaselineInvoiced",
                            "type": "number"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span4 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(iii)  Total Number of  indicator soil testing surveys completed for this reporting period",
                            "source": "totalSurveyIndicator",
                            "type": "number"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(iv) Total Number of indicator soil testing surveys <u><i>invoiced</i></u> for this reporting period",
                            "source": "totalSurveyIndicatorInvoiced",
                            "type": "number"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "If the total invoiced is different to the total completed, please provide the reason",
                    "source": "totalInvoicedSoilMismatched",
                    "type": "textarea",
                    "rows": 4,
                    "placeholder": ""
                  }
                ]
              },
              {
                "addRowText": "Add survey",
                "removeRowText": "Delete this survey",
                "userAddedRows": true,
                "source": "soilSurveys",
                "type": "repeat",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "type": "col",
                        "items": [
                          {
                            "source": "relatedOutcomes",
                            "type": "selectOne",
                            "preLabel": "Which outcome statement/s relates to this survey?"
                          }
                        ]
                      },
                      {
                        "type": "col",
                        "items": [
                          {
                            "source": "baselineOrIndicatorSurvey",
                            "type": "selectOne",
                            "preLabel": "Baseline survey or indicator (follow-up) survey?"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "source": "surveyObjective",
                        "preLabel": "Survey objective",
                        "type": "text"
                      }
                    ]
                  },
                  {
                    "type": "repeat",
                    "source": "soilDataSets",
                    "userAddedRows": true,
                    "addRowText": "New data set",
                    "removeRowText": "Delete this data set",
                    "items": [
                      {
                        "type": "row",
                        "css": "border-bottom",
                        "items": [
                          {
                            "type": "col",
                            "items": [
                              {
                                "source": "dataSetId",
                                "type": "selectOne",
                                "preLabel": "Please select the data set produced by this survey.  Note it must have already been entered on the Data Set Summary tab."
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "projectBaselines",
                                    "type": "selectMany",
                                    "preLabel": "Which project baseline/s relate to this survey?",
                                    "readonly": "readonly"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "investmentPriorities2",
                                    "preLabel": "Which investment priority does this activity relate to?",
                                    "type": "select2Many"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Activity start date",
                                    "source": "activitiesStartDate",
                                    "type": "date"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Activity end date",
                                    "source": "activitiesEndDate",
                                    "type": "date"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Sites where soil tests were conducted",
                                    "source": "sitesCoveredForSoilSurvey",
                                    "type": "feature"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "calculatedAreaTreatedHa",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    },
                                    "readonly": "readonly"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "calculatedLengthTreatedKm",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    },
                                    "readonly": "readonly"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Please attach mapping details",
                                    "source": "extraMappingDetails",
                                    "type": "document"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Actual area (ha) / length (km) where soil tests were conducted",
                                    "source": "areaTreatedHa",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    }
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "lengthTreatedKm",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    }
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Reason for actual being different to mapped amount",
                                    "source": "mappingNotAlignedReason",
                                    "type": "selectOne"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "placeholder": "Please enter the reason/s the mapping didn't align with the invoiced amount",
                                    "source": "mappingNotAlignedComments",
                                    "type": "textarea",
                                    "rows": 5
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Survey technique",
                                    "source": "emsaProtocol",
                                    "type": "selectOne",
                                    "readonly": "readonly"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Survey technique (if Other)",
                                    "source": "otherEmsaProtocol",
                                    "type": "select2Many"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "surveyMethodology",
                                    "preLabel": "Survey methodology",
                                    "type": "text"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "invoicingThisActivity",
                                    "preLabel": "Are you invoicing for this activity in this reporting period?",
                                    "type": "selectOne"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "testingDepth",
                                    "preLabel": "Testing depth (cm)",
                                    "type": "selectOne"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "testingObjective",
                                    "preLabel": "Testing objective",
                                    "type": "textarea"
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Optionally attach photos",
                    "source": "photographicEvidence",
                    "type": "image"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Clarification, if needed",
                    "type": "textarea",
                    "rows": 4,
                    "css": "span8",
                    "source": "comments",
                    "placeholder": "Clarification comments include information for your project manager about the service like:\n • any reported items that are not being invoiced (eg, over-achievement) \n • any extraneous circumstances that affected delivery of the service \n"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<p><b>Available Evidence</b></p>This field is mandatory for all projects as part of the invoicing process. Please list evidence you have retained for this service and provide information to where the evidence is stored (links/file location data). Refer to the Project Service Evidence Guide and the Project Service Summaries for information on the evidence requirements.<b style=\"color:red\">*</b>"
                  },
                  {
                    "preLabel": "Data have been uploaded",
                    "source": "dataUploaded",
                    "type": "boolean"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "",
                    "source": "projectAssuranceDetails",
                    "type": "textarea",
                    "rows": 4,
                    "placeholder": "List the documentary evidence you have available for this project service. Include specifically, the document titles and location (e.g. internal IT network pathway, URLs) to assist with locating this material for future audits/assurance purposes."
                  }
                ]
              },
              {
                "type": "table",
                "source": "assuranceDocuments",
                "userAddedRows": true,
                "disableTableUpload": true,
                "columns": [
                  {
                    "title": "Attached documents",
                    "source": "attachments",
                    "type": "document"
                  }
                ]
              }
            ]
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtSoilTesting",
      "optional": true,
      "optionalQuestionText": null,
      "title": "Soil testing",
      "collapsibleHeading": null,
      "name": "NHT - Soil testing",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "dataModel": [
          {
            "allowRowDelete": "false",
            "columns": [
              {
                "dataType": "text",
                "name": "participationIndividualsOrGroups",
                "description": "Once Individuals or groups is selected, the related number field in the next two columns will become editable to report.",
                "constraints": [
                  "Individuals",
                  "Groups"
                ],
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "participationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "participationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ]
              },
              {
                "dataType": "number",
                "name": "firstNationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "param": {
                      "expression": "participationIndividualNumber",
                      "type": "computed"
                    },
                    "rule": "max"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "firstNationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "param": {
                      "expression": "participationGroupNumber",
                      "type": "computed"
                    },
                    "rule": "max",
                    "message": "The number of first nation participants cannot be greater than the total number of participants"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "participationDetails",
                "validate": "required, maxSize[3000]"
              }
            ],
            "dataType": "list",
            "name": "participationInformationTableSaf"
          },
          {
            "columns": [
              {
                "name": "relatedOutcomes",
                "dataType": "text",
                "description": "Select the outcome/s as defined in your MERI plan that this service was delivered to achieve.",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "label",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "url": "/project/outcomesByScores",
                      "params": [
                        {
                          "expression": "owner.projectId",
                          "name": "id",
                          "type": "computed"
                        },
                        {
                          "expression": "scores",
                          "name": "scoreIds",
                          "type": "computed"
                        }
                      ]
                    }
                  }
                }
              },
              {
                "name": "investmentPriorities2",
                "dataType": "text",
                "description": "",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "value",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "context-path": "owner.investmentPriorities"
                    }
                  }
                }
              },
              {
                "dataType": "text",
                "name": "otherInvestmentPriority",
                "description": "Describe the investment priority (if Other) was selected",
                "behaviour": [
                  {
                    "type": "enable",
                    "condition": "\"Other\" in investmentPriorities2"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "invoicingThisActivity",
                "constraints": [
                  "Yes",
                  "No"
                ],
                "validate": "required"
              },
              {
                "dataType": "text",
                "name": "fullOrPartTime",
                "constraints": [
                  "Full-time",
                  "Part-time"
                ],
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "fteOfThisPosition",
                "decimalPlaces": 3,
                "description": "Note: This must be reported in the context of this reporting period only. For example, a full time SAF = 1, and a half time SAF = 0.5",
                "validate": "required,min[0],max[1]"
              },
              {
                "dataType": "number",
                "name": "amountOfFteInvoicedFor",
                "decimalPlaces": 3,
                "description": "Note: This must be reported in the context of this reporting period only. For example, a full time SAF = 1, and a half time SAF = 0.5",
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "param": {
                      "expression": "fteOfThisPosition",
                      "type": "computed",
                      "decimalPlaces": 3
                    },
                    "rule": "max"
                  }
                ]
              },
              {
                "dataType": "list",
                "name": "sustainableAgricultureFacilitators",
                "allowRowDelete": "false",
                "columns": [
                  {
                    "dataType": "text",
                    "name": "wasPositionVacant",
                    "constraints": [
                      "Yes",
                      "No"
                    ],
                    "validate": "required"
                  },
                  {
                    "name": "yesPositionVacant",
                    "dataType": "text",
                    "validate": "required",
                    "constraints": [
                      "Yes",
                      "No"
                    ],
                    "behaviour": [
                      {
                        "condition": "wasPositionVacant == \"Yes\"",
                        "type": "enable_and_clear"
                      }
                    ]
                  },
                  {
                    "dataType": "text",
                    "name": "noRecruitmentProcess",
                    "behaviour": [
                      {
                        "condition": "yesPositionVacant == \"No\"",
                        "type": "enable"
                      }
                    ],
                    "validate": "required,maxSize[300]"
                  },
                  {
                    "dataType": "date",
                    "name": "expectedDatePositionFill",
                    "validate": "required",
                    "behaviour": [
                      {
                        "condition": "wasPositionVacant == \"Yes\" and yesPositionVacant == \"No\" or wasPositionVacant == \"Yes\" and yesPositionVacant == \"Yes\"",
                        "type": "enable"
                      }
                    ]
                  },
                  {
                    "dataType": "text",
                    "name": "coveredInterimPosition",
                    "validate": "required,maxSize[100]",
                    "behaviour": [
                      {
                        "condition": "wasPositionVacant == \"Yes\" and yesPositionVacant == \"No\" or wasPositionVacant == \"Yes\" and yesPositionVacant == \"Yes\"",
                        "type": "enable"
                      }
                    ]
                  },
                  {
                    "dataType": "text",
                    "name": "deliveryOrSubcontractorEmployed",
                    "constraints": [
                      "Delivery partner",
                      "Subcontractor"
                    ],
                    "validate": "required"
                  }
                ]
              }
            ],
            "dataType": "list",
            "name": "safAreasControlled"
          },
          {
            "dataType": "number",
            "name": "totalAnnualFtes",
            "validate": "min[0]",
            "decimalPlaces": 3,
            "computed": {
              "expression": "sum(safAreasControlled, \"fteOfThisPosition\")/4"
            }
          },
          {
            "dataType": "number",
            "name": "totalAnnualFtesInvoiced",
            "decimalPlaces": 3,
            "defaultValue": "",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalAnnualFtes",
                  "type": "computed",
                  "decimalPlaces": 3
                },
                "rule": "max"
              }
            ]
          },
          {
            "dataType": "text",
            "name": "totalInvoicedSafMismatched",
            "description": "Please provide the reason/s why you are not invoicing for the same number that have been completed and delivered, e.g. the personnel and equipment were available to deliver more than was contracted.",
            "validate": "maxSize[400],required",
            "behaviour": [
              {
                "condition": "totalAnnualFtesInvoiced < totalAnnualFtes",
                "type": "enable"
              }
            ]
          },
          {
            "dataType": "text",
            "name": "comments",
            "validate": "maxSize[1500]"
          },
          {
            "dataType": "image",
            "name": "photographicEvidence"
          },
          {
            "dataType": "boolean",
            "name": "dataUploaded",
            "description": "<ul><li>Tick box to confirm data has been uploaded</li><li>URL Link (mandatory if below is ticked) in available evidence</li></ul>"
          },
          {
            "name": "projectAssuranceDetails",
            "dataType": "text",
            "validate": "required,maxSize[5000]"
          },
          {
            "dataType": "list",
            "name": "assuranceDocuments",
            "columns": [
              {
                "dataType": "document",
                "name": "attachments",
                "description": "Please attach any Evidence of Service Delivery here."
              }
            ]
          }
        ],
        "modelName": "NHT - Sustainable agriculture facilitators",
        "title": "Sustainable Agriculture Facilitators",
        "viewModel": [
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<h3>Participation information</h3>"
              }
            ]
          },
          {
            "disableTableUpload": true,
            "columns": [
              {
                "width": "10%",
                "source": "participationIndividualsOrGroups",
                "title": "Are individuals or groups delivering this service?",
                "type": "selectOne"
              },
              {
                "width": "20%",
                "type": "col",
                "title": "Total number of people delivering this service <br>(including First Nations people)<b style=\"color:red\">*</b>",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "participationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "participationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "type": "col",
                "width": "20%",
                "title": "Total number of First Nations people delivering this service<b style=\"color:red\">*</b>",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "firstNationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "firstNationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "width": "20%",
                "source": "participationDetails",
                "rows": 4,
                "title": "If no First Nations people participated in the delivery of this service, <br>what are the reasons? If there was participation, please provide details.",
                "helpText": "If there were no First Nations people participating in the delivery of this service, please explain the reasons. If there were First Nations people involved, please outline how they were involved.",
                "type": "textarea"
              }
            ],
            "source": "participationInformationTableSaf",
            "type": "table"
          },
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<h3>Totals Summary</h3>"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(i) Total <u>Annual</u> FTE for this reporting period",
                        "source": "totalAnnualFtes",
                        "type": "number",
                        "displayOptions": {
                          "removeTrailingZeros": false
                        }
                      }
                    ]
                  }
                ]
              },
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(ii) Total <u>Annual</u> FTE <u><i>invoiced</i></u> for in this reporting period",
                        "source": "totalAnnualFtesInvoiced",
                        "type": "number",
                        "displayOptions": {
                          "removeTrailingZeros": false
                        }
                      }
                    ]
                  }
                ]
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "If the total invoiced is different to the total completed, please provide the reason",
                "source": "totalInvoicedSafMismatched",
                "type": "textarea",
                "rows": 4,
                "placeholder": ""
              }
            ]
          },
          {
            "addRowText": "Add a new SAF position",
            "userAddedRows": true,
            "source": "safAreasControlled",
            "type": "repeat",
            "items": [
              {
                "type": "row",
                "items": [
                  {
                    "source": "<h4><u>Each SAF position must be reported on in a separate section. Please add a new section for each SAF position.</u><h4>",
                    "type": "literal"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "css": "span3",
                    "type": "col",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "relatedOutcomes",
                            "type": "selectOne",
                            "preLabel": "Which outcome statement/s does this activity relate to?"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "investmentPriorities2",
                            "preLabel": "Which investment priority does this activity relate to?",
                            "type": "select2Many"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "css": "span3",
                    "type": "col",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "invoicingThisActivity",
                            "preLabel": "Are you invoicing for this activity in this reporting period?",
                            "type": "selectOne"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "fullOrPartTime",
                            "preLabel": "Full time or part-time employment",
                            "type": "selectOne"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "css": "span3",
                    "type": "col",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "fteOfThisPosition",
                            "preLabel": "FTE of <u>this position</u> for this reporting period",
                            "type": "number"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "css": "span4",
                    "type": "col",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "amountOfFteInvoicedFor",
                            "preLabel": "Amount of FTE for <u>this position</u> that are being invoiced for",
                            "type": "number"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "columns": [
                  {
                    "width": "15%",
                    "source": "wasPositionVacant",
                    "title": "Was the position(s) vacant for any amount of time during the reporting period (not including leave)",
                    "type": "selectOne"
                  },
                  {
                    "width": "15%",
                    "source": "yesPositionVacant",
                    "title": "If yes, is there a recruitment process being run?",
                    "type": "selectOne"
                  },
                  {
                    "width": "20%",
                    "source": "noRecruitmentProcess",
                    "title": "If no, what are the reasons?",
                    "type": "textarea"
                  },
                  {
                    "width": "15%",
                    "source": "expectedDatePositionFill",
                    "title": "Expected date to fill the position(s)",
                    "type": "date"
                  },
                  {
                    "width": "20%",
                    "source": "coveredInterimPosition",
                    "title": "How is the position(s) being covered in the interim?",
                    "type": "textarea"
                  },
                  {
                    "width": "15%",
                    "source": "deliveryOrSubcontractorEmployed",
                    "title": "Is the position employed by delivery partner or subcontractor?",
                    "type": "selectOne"
                  }
                ],
                "source": "sustainableAgricultureFacilitators",
                "type": "table",
                "userAddedRows": true,
                "disableTableUpload": true
              }
            ]
          },
          {
            "type": "section",
            "items": [
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Optionally attach photos",
                    "source": "photographicEvidence",
                    "type": "image"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Clarification, if needed",
                    "type": "textarea",
                    "rows": 4,
                    "css": "span8",
                    "source": "comments",
                    "placeholder": "Clarification comments include information for your project manager about the service like:\n • any reported items that are not being invoiced (eg, over-achievement) \n • any extraneous circumstances that affected delivery of the service \n"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<p><b>Available Evidence</b></p>This field is mandatory for all projects as part of the invoicing process. Please list evidence you have retained for this service and provide information to where the evidence is stored (links/file location data). Refer to the Project Service Evidence Guide and the Project Service Summaries for information on the evidence requirements.<b style=\"color:red\">*</b>"
                  },
                  {
                    "preLabel": "Data have been uploaded",
                    "source": "dataUploaded",
                    "type": "boolean"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "source": "projectAssuranceDetails",
                    "type": "textarea",
                    "rows": 4,
                    "placeholder": "List the documentary evidence you have available for this project service. Include specifically, the document titles and location (e.g. internal IT network pathway, URLs) to assist with locating this material for future audits/assurance purposes."
                  }
                ]
              },
              {
                "type": "table",
                "source": "assuranceDocuments",
                "userAddedRows": true,
                "disableTableUpload": true,
                "columns": [
                  {
                    "title": "Attached documents",
                    "source": "attachments",
                    "type": "document"
                  }
                ]
              }
            ]
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtSustainableAgricultureFacilitators",
      "optional": true,
      "optionalQuestionText": null,
      "title": "Sustainable agriculture facilitators",
      "collapsibleHeading": null,
      "name": "NHT - Sustainable agriculture facilitators",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "title": "Synthesising and finalising baseline data",
        "modelName": "NHT - Baseline data",
        "dataModel": [
          {
            "allowRowDelete": "false",
            "columns": [
              {
                "dataType": "text",
                "name": "participationIndividualsOrGroups",
                "description": "Once Individuals or groups is selected, the related number field in the next two columns will become editable to report.",
                "constraints": [
                  "Individuals",
                  "Groups"
                ],
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "participationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "participationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ]
              },
              {
                "dataType": "number",
                "name": "firstNationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "param": {
                      "expression": "participationIndividualNumber",
                      "type": "computed"
                    },
                    "rule": "max"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "firstNationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "param": {
                      "expression": "participationGroupNumber",
                      "type": "computed"
                    },
                    "rule": "max",
                    "message": "The number of first nation participants cannot be greater than the total number of participants"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "participationDetails",
                "validate": "required, maxSize[3000]"
              }
            ],
            "dataType": "list",
            "name": "participationInformationTableSyn"
          },
          {
            "columns": [
              {
                "dataType": "list",
                "name": "baselineDetails",
                "columns": [
                  {
                    "dataType": "text",
                    "name": "datasetName",
                    "validate": "required"
                  },
                  {
                    "name": "projectBaseline",
                    "dataType": "text",
                    "description": "Select the relevant Project Baseline as listed in the Monitoring Methodology section of the MERI Plan.",
                    "validate": "required",
                    "constraints": {
                      "textProperty": "baseline",
                      "valueProperty": "code",
                      "type": "pre-populated",
                      "excludePath": "baselineDetailsControlled.baselineDetails.projectBaseline",
                      "config": {
                        "source": {
                          "context-path": "owner.custom.details.baseline.rows"
                        }
                      }
                    }
                  },
                  {
                    "name": "monitoringIndicator",
                    "dataType": "stringList",
                    "description": "",


                    "computed": {
                      "expression": "if(projectBaseline, x=pluck(findAll($context.owner.custom.details.monitoring.rows, \"relatedBaseline\", projectBaseline), \"data1\", \"No monitoring indicators associated with this baseline\"), '')"
                    }
                  },
                  {
                    "name": "datasetSupports",
                    "dataType": "text",
                    "description": "This section will require the Data Set Name so the Metadata fields in the Data Set Summary tab should be filled out before the Outcome Report is due. More than one dataset if relevant for this Project Baseline could be selected.",
                    "validate": "required",
                    "constraints": {
                      "textProperty": "name",
                      "valueProperty": "dataSetId",
                      "type": "pre-populated",
                      "config": {
                        "source": {
                          "context-path": "owner.custom.dataSets"
                        }
                      }
                    }
                  },
                  {
                    "dataType": "text",
                    "name": "purpose",
                    "validate": "required,maxSize[500]"
                  }
                ]
              },
              {
                "name": "relatedOutcomes",
                "dataType": "text",
                "description": "Select the outcome/s as defined in your MERI plan that this service was delivered to achieve.",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "label",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "url": "/project/outcomesByScores",
                      "params": [
                        {
                          "expression": "owner.projectId",
                          "name": "id",
                          "type": "computed"
                        },
                        {
                          "expression": "scores",
                          "name": "scoreIds",
                          "type": "computed"
                        }
                      ]
                    }
                  }
                }
              },
              {
                "name": "investmentPriorities2",
                "dataType": "text",
                "description": "",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "value",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "context-path": "owner.investmentPriorities"
                    }
                  }
                }
              },
              {
                "dataType": "text",
                "name": "otherInvestmentPriority",
                "description": "Describe the investment priority (if Other) was selected",
                "behaviour": [
                  {
                    "type": "enable",
                    "condition": "\"Other\" in investmentPriorities2"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "invoicingThisActivity",
                "constraints": [
                  "Yes",
                  "No"
                ],
                "validate": "required"
              }
            ],
            "dataType": "list",
            "name": "baselineDetailsControlled"
          },
          {
            "name": "numberBaselineDataSets",
            "type": "number",
            "decimalPlaces": 0
          },
          {
            "dataType": "number",
            "name": "totalNumberBaselineDatasets",
            "validate": "min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(baselineDetailsControlled, \"relatedOutcomes ? 1 : 0\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalNumberBaselineDatasetsInvoiced",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalNumberBaselineDatasets",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": ""
          },
          {
            "dataType": "text",
            "name": "totalInvoicedBaselineMismatched",
            "description": "Please provide the reason/s why you are not invoicing for the same number that have been completed and delivered, e.g. the personnel and equipment were available to deliver more than was contracted.",
            "validate": "maxSize[400],required",
            "behaviour": [
              {
                "condition": "totalNumberBaselineDatasetsInvoiced < totalNumberBaselineDatasets",
                "type": "enable"
              }
            ]
          },
          {
            "dataType": "text",
            "name": "comments",
            "validate": "maxSize[1500]"
          },
          {
            "dataType": "boolean",
            "name": "dataUploaded",
            "description": ""
          },
          {
            "name": "projectAssuranceDetails",
            "dataType": "text",
            "validate": "required,maxSize[5000]"
          },
          {
            "dataType": "list",
            "name": "assuranceDocuments",
            "columns": [
              {
                "dataType": "document",
                "name": "attachments",
                "description": "Please attach any Evidence of Service Delivery here."
              }
            ]
          }
        ],
        "viewModel": [
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<h3>Participation information</h3>"
              }
            ]
          },
          {
            "disableTableUpload": true,
            "columns": [
              {
                "width": "10%",
                "source": "participationIndividualsOrGroups",
                "title": "Are individuals or groups delivering this service?",
                "type": "selectOne"
              },
              {
                "width": "20%",
                "type": "col",
                "title": "Total number of people delivering this service <br>(including First Nations people)<b style=\"color:red\">*</b>",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "participationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "participationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "type": "col",
                "width": "20%",
                "title": "Total number of First Nations people delivering this service<b style=\"color:red\">*</b>",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "firstNationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "firstNationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "width": "20%",
                "source": "participationDetails",
                "rows": 4,
                "title": "If no First Nations people participated in the delivery of this service, <br>what are the reasons? If there was participation, please provide details.",
                "helpText": "If there were no First Nations people participating in the delivery of this service, please explain the reasons. If there were First Nations people involved, please outline how they were involved.",
                "type": "textarea"
              }
            ],
            "source": "participationInformationTableSyn",
            "type": "table"
          },
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<h3>Totals Summary</h3>"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(i) Total number of baseline datasets synthesised and finalised for this reporting period",
                        "source": "totalNumberBaselineDatasets",
                        "type": "number"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(ii) Total number of baseline datasets synthesised and finalised <u><i>invoiced</i></u> for this reporting period",
                        "source": "totalNumberBaselineDatasetsInvoiced",
                        "type": "number"
                      }
                    ]
                  }
                ]
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "If the total invoiced is different to the total completed, please provide the reason",
                "source": "totalInvoicedBaselineMismatched",
                "type": "textarea",
                "rows": 4,
                "placeholder": ""
              }
            ]
          },
          {
            "addRowText": "Add a new baseline",
            "userAddedRows": true,
            "source": "baselineDetailsControlled",
            "type": "repeat",
            "items": [
              {
                "type": "row",
                "items": [
                  {
                    "css": "span3",
                    "type": "col",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "relatedOutcomes",
                            "type": "selectOne",
                            "preLabel": "Which outcome statement/s does this activity relate to?"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "investmentPriorities2",
                            "preLabel": "Which investment priority does this activity relate to?",
                            "type": "select2Many"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "css": "span3",
                    "type": "col",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "invoicingThisActivity",
                            "preLabel": "Are you invoicing for this activity in this reporting period?",
                            "type": "selectOne"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "table",
                "source": "baselineDetails",
                "userAddedRows": true,
                "disableTableUpload": true,
                "columns": [
                  {
                    "source": "datasetName",
                    "type": "text",
                    "width": "20%",
                    "title": "Name of Baseline Dataset"
                  },
                  {
                    "source": "projectBaseline",
                    "type": "selectOne",
                    "width": "20%",
                    "title": "Which Project Baseline are you reporting on?"
                  },
                  {
                    "source": "monitoringIndicator",
                    "type": "selectMany",
                    "width": "20%",
                    "title": "What monitoring indicator does the baseline support?"
                  },
                  {
                    "source": "datasetSupports",
                    "type": "select2Many",
                    "width": "15%",
                    "title": "What dataset supports this Project Baseline?"
                  },
                  {
                    "preLabel": "",
                    "source": "purpose",
                    "type": "textarea",
                    "width": "25%",
                    "rows": 3,
                    "placeholder": "",
                    "title": "Purpose"
                  }
                ]
              }
            ]
          },

          {
            "type": "row",
            "items": [
              {
                "preLabel": "Clarification, if needed",
                "type": "textarea",
                "rows": 4,
                "css": "span8",
                "source": "comments",
                "placeholder": "Clarification comments include information for your project manager about the service like:\n• any reported items that are not being invoiced (eg, over-achievement) \n • any extraneous circumstances that affected delivery of the service \n"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<p><b>Available Evidence</b></p>This field is mandatory for all projects as part of the invoicing process. Please list evidence you have retained for this service and provide information to where the evidence is stored (links/file location data). Refer to the Project Service Evidence Guide and the Project Service Summaries for information on the evidence requirements.<b style=\"color:red\">*</b>"
              },
              {
                "preLabel": "Data have been uploaded",
                "source": "dataUploaded",
                "type": "boolean"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "",
                "source": "projectAssuranceDetails",
                "type": "textarea",
                "rows": 4,
                "placeholder": "List the documentary evidence you have available for this project service. Include specifically, the document titles and location (e.g. internal IT network pathway, URLs) to assist with locating this material for future audits/assurance purposes."
              }
            ]
          },
          {
            "type": "table",
            "source": "assuranceDocuments",
            "userAddedRows": true,
            "disableTableUpload": true,
            "columns": [
              {
                "title": "Attached documents",
                "source": "attachments",
                "type": "document"
              }
            ]
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtBaselineData",
      "optional": true,
      "optionalQuestionText": null,
      "title": "Collecting, or synthesising baseline data",
      "collapsibleHeading": null,
      "name": "NHT - Baseline data",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "dataModel": [
          {
            "allowRowDelete": "false",
            "columns": [
              {
                "dataType": "text",
                "name": "participationIndividualsOrGroups",
                "description": "Once Individuals or groups is selected, the related number field in the next two columns will become editable to report.",
                "constraints": [
                  "Individuals",
                  "Groups"
                ],
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "participationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "participationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ]
              },
              {
                "dataType": "number",
                "name": "firstNationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "param": {
                      "expression": "participationIndividualNumber",
                      "type": "computed"
                    },
                    "rule": "max"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "firstNationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "param": {
                      "expression": "participationGroupNumber",
                      "type": "computed"
                    },
                    "rule": "max",
                    "message": "The number of first nation participants cannot be greater than the total number of participants"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "participationDetails",
                "validate": "required, maxSize[3000]"
              }
            ],
            "dataType": "list",
            "name": "participationInformationTableUei"
          },
          {
            "columns": [
              {
                "name": "relatedOutcomes",
                "dataType": "text",
                "description": "Select the outcome/s as defined in your MERI plan that this service was delivered to achieve.",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "label",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "url": "/project/outcomesByScores",
                      "params": [
                        {
                          "expression": "owner.projectId",
                          "name": "id",
                          "type": "computed"
                        },
                        {
                          "expression": "scores",
                          "name": "scoreIds",
                          "type": "computed"
                        }
                      ]
                    }
                  }
                }
              },
              {
                "name": "investmentPriorities2",
                "dataType": "text",
                "description": "",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "value",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "context-path": "owner.investmentPriorities"
                    }
                  }
                }
              },
              {
                "dataType": "text",
                "name": "otherInvestmentPriority",
                "behaviour": [
                  {
                    "type": "enable",
                    "condition": "\"Other\" in investmentPriorities2"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "invoicingThisActivity",
                "constraints": [
                  "Yes",
                  "No"
                ],
                "validate": "required"
              },
              {
                "dataType": "text",
                "name": "initialOrFollowup",
                "constraints": [
                  "Initial",
                  "Follow-up"
                ],
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "numberOfInterventions",
                "validate": "required,min[0]"
              },
              {
                "dataType": "feature",
                "name": "sitesInterventionsOccurred",
                "description": "Mapping field to be done and Area (ha) field be auto-calculated from mapping."
              },
              {
                "computed": {
                  "expression": "$geom.areaHa(sitesInterventionsOccurred)"
                },
                "dataType": "number",
                "name": "calculatedAreaTreatedHa",
                "units": "ha",
                "decimalPlaces": 3
              },
              {
                "computed": {
                  "expression": "$geom.lengthKm(sitesInterventionsOccurred)"
                },
                "dataType": "number",
                "name": "calculatedLengthTreatedKm",
                "units": "km",
                "decimalPlaces": 3,
                "behaviour": [
                  {
                    "condition": "lengthTreatedKm > 0",
                    "type": "conditional_validation",
                    "value": {
                      "message": "The managed length must be mapped",
                      "validate": "required,min[0.0001]"
                    }
                  }
                ]
              },
              {
                "defaultValue": {
                  "type": "computed",
                  "expression": "calculatedAreaTreatedHa"
                },
                "dataType": "number",
                "name": "areaTreatedHa",
                "description": "Manually enter correct figure for this reporting period if different to mapped value.",
                "units": "ha",
                "decimalPlaces": 3,
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedReason",
                "constraints": [
                  "Mapped area simplifies more complex area/s where work was undertaken during this period",
                  "Other"
                ],
                "validate": "required",
                "behaviour": [
                  {
                    "condition": "not (within(areaTreatedHa, calculatedAreaTreatedHa, 0.1))",
                    "type": "if"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedComments",
                "validate": "required,maxSize[100]",
                "behaviour": [
                  {
                    "type": "visible",
                    "condition": "\"Other\" == mappingNotAlignedReason"
                  }
                ]
              },
              {
                "dataType": "document",
                "name": "extraMappingDetails",
                "validate": "required",
                "description": "Please fill in the Mapped/Actual/Invoice fields before attaching a document here. If those fields match this field will be void. <br/>If any of these fields differ please attach your organisation's detailed map for the area, covered by this project service - during reporting period (include the scale measure for each map).",
                "behaviour": [
                  {
                    "condition": "not (within(areaTreatedHa, calculatedAreaTreatedHa, 0.1))",
                    "type": "if"
                  }
                ]
              },
              {
                "defaultValue": {
                  "type": "computed",
                  "expression": "calculatedLengthTreatedKm"
                },
                "dataType": "number",
                "name": "lengthTreatedKm",
                "units": "km",
                "decimalPlaces": 3
              },

              {
                "dataType": "feature",
                "name": "sitesInterventionsReleased",
                "description": "Mapping field to be done and Area (ha) field be auto-calculated from mapping."
              },
              {
                "computed": {
                  "expression": "$geom.areaHa(sitesInterventionsReleased)"
                },
                "dataType": "number",
                "name": "calculatedAreaTreatedHaReleased",
                "units": "ha",
                "decimalPlaces": 3
              },
              {
                "computed": {
                  "expression": "$geom.lengthKm(sitesInterventionsReleased)"
                },
                "dataType": "number",
                "name": "calculatedLengthTreatedKmReleased",
                "units": "km",
                "decimalPlaces": 3,
                "behaviour": [
                  {
                    "condition": "lengthTreatedKmReleased > 0",
                    "type": "conditional_validation",
                    "value": {
                      "message": "The managed length must be mapped",
                      "validate": "required,min[0.0001]"
                    }
                  }
                ]
              },
              {
                "defaultValue": {
                  "type": "computed",
                  "expression": "calculatedAreaTreatedHaReleased"
                },
                "dataType": "number",
                "name": "areaTreatedHaReleased",
                "description": "Manually enter correct figure for this reporting period if different to mapped value.",
                "units": "ha",
                "decimalPlaces": 3,
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedReasonReleased",
                "constraints": [
                  "Mapped area simplifies more complex area/s where work was undertaken during this period",
                  "Other"
                ],
                "validate": "required",
                "behaviour": [
                  {
                    "condition": "not (within(areaTreatedHaReleased, calculatedAreaTreatedHaReleased, 0.1))",
                    "type": "if"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedCommentsReleased",
                "validate": "required,maxSize[100]",
                "behaviour": [
                  {
                    "type": "visible",
                    "condition": "\"Other\" == mappingNotAlignedReasonReleased"
                  }
                ]
              },
              {
                "dataType": "document",
                "name": "extraMappingDetailsReleased",
                "validate": "required",
                "description": "Please fill in the Mapped/Actual/Invoice fields before attaching a document here. If those fields match this field will be void. <br/>If any of these fields differ please attach your organisation's detailed map for the area, covered by this project service - during reporting period (include the scale measure for each map).",
                "behaviour": [
                  {
                    "condition": "not (within(areaTreatedHaReleased, calculatedAreaTreatedHaReleased, 0.1))",
                    "type": "if"
                  }
                ]
              },
              {
                "defaultValue": {
                  "type": "computed",
                  "expression": "calculatedLengthTreatedKmReleased"
                },
                "dataType": "number",
                "name": "lengthTreatedKmReleased",
                "units": "km",
                "decimalPlaces": 3
              },
              {
                "columns": [
                  {
                    "dataType": "date",
                    "name": "activitiesStartDate",
                    "description": "Specific the dates these events were held on.",
                    "validate": "required"
                  },
                  {
                    "dataType": "date",
                    "name": "activitiesEndDate",
                    "description": "Specific the dates these events were held on.",
                    "validate": [
                      {
                        "rule": "required"
                      },
                      {
                        "rule": "future",
                        "param": {
                          "expression": "formatDateForValidation(activitiesStartDate)",
                          "type": "computed"
                        }
                      }
                    ]
                  },
                  {
                    "dataType": "species",
                    "name": "species",
                    "validate": "required"
                  },
                  {
                    "dataType": "text",
                    "name": "groupsOrIndividual",
                    "constraints": [
                      "Individuals",
                      "Groups"
                    ],
                    "validate": "required"
                  },
                  {
                    "dataType": "number",
                    "name": "numberOfIndividualsInvolved",
                    "validate": "required,min[0]"
                  },
                  {
                    "dataType": "text",
                    "name": "purposeOfIntervention",
                    "description": "This field may be used to list What type of intervention is required. A list of multiple interventions need to be separated with a ';'.",
                    "validate": "required,maxSize[500]"
                  }
                ],
                "dataType": "list",
                "name": "interventionSpecies"
              }
            ],
            "dataType": "list",
            "name": "interventionDetails"
          },
          {
            "dataType": "number",
            "name": "totalNumberInterventionsInitial",
            "validate": "min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(interventionDetails, \"initialOrFollowup == 'Initial' ? numberOfInterventions : 0\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalNumberInterventionsInitialInvoiced",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalNumberInterventionsInitial",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": ""
          },
          {
            "dataType": "number",
            "name": "totalNumberInterventionsFollowUp",
            "validate": "min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(interventionDetails, \"initialOrFollowup == 'Follow-up' ? numberOfInterventions : 0\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalNumberInterventionsFollowUpInvoiced",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalNumberInterventionsFollowUp",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": ""
          },
          {
            "dataType": "text",
            "name": "totalInvoicedInterventionsMismatched",
            "description": "Please provide the reason/s why you are not invoicing for the same number that have been completed and delivered, e.g. the personnel and equipment were available to deliver more than was contracted.",
            "validate": "maxSize[400],required",
            "behaviour": [
              {
                "condition": "totalNumberInterventionsInitialInvoiced < totalNumberInterventionsInitial or totalNumberInterventionsFollowUpInvoiced < totalNumberInterventionsFollowUp",
                "type": "enable"
              }
            ]
          },
          {
            "dataType": "text",
            "name": "comments",
            "validate": "maxSize[1500]"
          },
          {
            "dataType": "image",
            "name": "photographicEvidence"
          },
          {
            "dataType": "boolean",
            "name": "dataUploaded",
            "description": "<ul><li>Tick box to confirm data has been uploaded</li><li>URL Link (mandatory if below is ticked) in available evidence</li></ul>"
          },
          {
            "name": "projectAssuranceDetails",
            "dataType": "text",
            "validate": "required,maxSize[5000]"
          },
          {
            "dataType": "list",
            "name": "assuranceDocuments",
            "columns": [
              {
                "dataType": "document",
                "name": "attachments",
                "description": "Please attach any Evidence of Service Delivery here."
              }
            ]
          }
        ],
        "modelName": "NHT - Emergency Interventions",
        "title": "Undertaking Emergency Interventions to Prevent Extinctions",
        "viewModel": [
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<h3>Participation information</h3>"
              }
            ]
          },
          {
            "disableTableUpload": true,
            "columns": [
              {
                "width": "10%",
                "source": "participationIndividualsOrGroups",
                "title": "Are individuals or groups delivering this service?",
                "type": "selectOne"
              },
              {
                "width": "20%",
                "type": "col",
                "title": "Total number of people delivering this service <br>(including First Nations people)<b style=\"color:red\">*</b>",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "participationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "participationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "type": "col",
                "width": "20%",
                "title": "Total number of First Nations people delivering this service<b style=\"color:red\">*</b>",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "firstNationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "firstNationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "width": "20%",
                "source": "participationDetails",
                "rows": 4,
                "title": "If no First Nations people participated in the delivery of this service, <br>what are the reasons? If there was participation, please provide details.",
                "helpText": "If there were no First Nations people participating in the delivery of this service, please explain the reasons. If there were First Nations people involved, please outline how they were involved.",
                "type": "textarea"
              }
            ],
            "source": "participationInformationTableUei",
            "type": "table"
          },
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<h3>Totals Summary</h3>"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(i) Total number of interventions (initial) for this reporting period",
                        "source": "totalNumberInterventionsInitial",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(ii) Total number of interventions (initial) <u><i>invoiced</i></u> for this reporting period",
                        "source": "totalNumberInterventionsInitialInvoiced",
                        "type": "number"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(iii) Total number of interventions (follow-up) for this reporting period",
                        "source": "totalNumberInterventionsFollowUp",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(iv) Total number of interventions (follow-up) <u><i>invoiced</i></u> for this reporting period",
                        "source": "totalNumberInterventionsFollowUpInvoiced",
                        "type": "number"
                      }
                    ]
                  }
                ]
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "If the total invoiced is different to the total completed, please provide the reason",
                "source": "totalInvoicedInterventionsMismatched",
                "type": "textarea",
                "rows": 4,
                "placeholder": ""
              }
            ]
          },
          {
            "addRowText": "Add intervention site",
            "userAddedRows": true,
            "source": "interventionDetails",
            "type": "repeat",
            "items": [
              {
                "type": "row",
                "items": [
                  {
                    "css": "span3",
                    "type": "col",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "relatedOutcomes",
                            "type": "selectOne",
                            "preLabel": "Which outcome statement/s does this activity relate to?"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "investmentPriorities2",
                            "preLabel": "Which investment priority does this activity relate to?",
                            "type": "select2Many"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "css": "span3",
                    "type": "col",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "invoicingThisActivity",
                            "preLabel": "Are you invoicing for this activity in this reporting period?",
                            "type": "selectOne"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "row",
                "css": "border-bottom",
                "items": [
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "initialOrFollowup",
                            "preLabel": "Initial or follow-up activity?",
                            "type": "selectOne"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "numberOfInterventions",
                            "preLabel": "Number of interventions",
                            "type": "number"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Site/s where interventions occurred (source site)",
                            "source": "sitesInterventionsOccurred",
                            "type": "feature"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "calculatedAreaTreatedHa",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            },
                            "readonly": "readonly"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Please attach mapping details",
                            "source": "extraMappingDetails",
                            "type": "document"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Actual area (ha) where interventions occurred",
                            "source": "areaTreatedHa",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Reason for actual being different to mapped amount",
                            "source": "mappingNotAlignedReason",
                            "type": "selectOne"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "placeholder": "Please enter the reason/s the mapping didn't align with the invoiced amount",
                            "source": "mappingNotAlignedComments",
                            "type": "textarea",
                            "rows": 5
                          }
                        ]
                      }
                    ]
                  },

                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Site/s where interventions were released (release site)",
                            "source": "sitesInterventionsReleased",
                            "type": "feature"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "calculatedAreaTreatedHaReleased",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            },
                            "readonly": "readonly"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Please attach mapping details",
                            "source": "extraMappingDetailsReleased",
                            "type": "document"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Actual area (ha) where interventions were relocated to (release site)",
                            "source": "areaTreatedHaReleased",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Reason for actual being different to mapped amount",
                            "source": "mappingNotAlignedReasonReleased",
                            "type": "selectOne"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "placeholder": "Please enter the reason/s the mapping didn't align with the invoiced amount",
                            "source": "mappingNotAlignedCommentsReleased",
                            "type": "textarea",
                            "rows": 5
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "columns": [
                  {
                    "width": "25%",
                    "source": "species",
                    "title": "Targeted species",
                    "type": "speciesSelect"
                  },
                  {
                    "title": "Activity start date",
                    "source": "activitiesStartDate",
                    "type": "date",
                    "width": "10%"
                  },
                  {
                    "title": "Activity end date",
                    "source": "activitiesEndDate",
                    "type": "date",
                    "width": "10%"
                  },
                  {
                    "width": "10%",
                    "source": "groupsOrIndividual",
                    "title": "Group or individual",
                    "type": "selectOne"
                  },
                  {
                    "width": "10%",
                    "source": "numberOfIndividualsInvolved",
                    "type": "number",
                    "title": "Number of groups / individuals"
                  },
                  {
                    "width": "35%",
                    "source": "purposeOfIntervention",
                    "type": "textarea",
                    "title": "Type and goal of intervention"
                  }
                ],
                "userAddedRows": true,
                "disableTableUpload": true,
                "source": "interventionSpecies",
                "type": "table"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "Optionally attach photos",
                "source": "photographicEvidence",
                "type": "image"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "Clarification, if needed",
                "type": "textarea",
                "rows": 4,
                "css": "span8",
                "source": "comments",
                "placeholder": "Clarification comments include information for your project manager about the service like:\n • any reported items that are not being invoiced (eg, over-achievement) \n • any extraneous circumstances that affected delivery of the service \n"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<p><b>Available Evidence</b></p>This field is mandatory for all projects as part of the invoicing process. Please list evidence you have retained for this service and provide information to where the evidence is stored (links/file location data). Refer to the Project Service Evidence Guide and the Project Service Summaries for information on the evidence requirements.<b style=\"color:red\">*</b>"
              },
              {
                "preLabel": "Data have been uploaded",
                "source": "dataUploaded",
                "type": "boolean"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "",
                "source": "projectAssuranceDetails",
                "type": "textarea",
                "rows": 4,
                "placeholder": "List the documentary evidence you have available for this project service. Include specifically, the document titles and location (e.g. internal IT network pathway, URLs) to assist with locating this material for future audits/assurance purposes."
              }
            ]
          },
          {
            "type": "table",
            "source": "assuranceDocuments",
            "userAddedRows": true,
            "disableTableUpload": true,
            "columns": [
              {
                "title": "Attached documents",
                "source": "attachments",
                "type": "document"
              }
            ]
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtEmergencyInterventions",
      "optional": true,
      "optionalQuestionText": null,
      "title": "Undertaking emergency interventions to prevent extinctions",
      "collapsibleHeading": null,
      "name": "NHT - Emergency Interventions",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "dataModel": [
          {
            "name": "waterQualitySurveys",
            "dataType": "list",
            "minSize": 1,
            "columns": [
              {
                "dataType": "text",
                "name": "typeOfSurvey",
                "constraints": [
                  "Water Quality Survey",
                  "Hydrology Survey"
                ],
                "validate": "required"
              },
              {
                "name": "relatedOutcomes",
                "dataType": "text",
                "description": "Select the outcome/s as defined in your MERI plan that this service was delivered to achieve.",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "value",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "context-path": "outcomes"
                    }
                  }
                }
              },
              {
                "dataType": "text",
                "name": "baselineOrIndicatorSurvey",
                "description": "",
                "constraints": [
                  "Baseline",
                  "Indicator"
                ],
                "validate": "required"
              },
              {
                "dataType": "text",
                "name": "surveyObjective",
                "description": "What the survey aim to capture? How will the information obtained from the survey be used?",
                "validate": "required,maxSize[3000]"
              },
              {
                "dataType": "number",
                "name": "numberOfSurveys",
                "validate": "required,min[1],max[1]",
                "defaultValue": 1,
                "readonly": true
              },
              {
                "dataType": "number",
                "name": "numberOfSurveysInvoiced",
                "validate": "required,min[0]",
                "defaultValue": 1
              },
              {
                "dataType": "list",
                "name": "waterQualityDataSets",
                "columns": [
                  {
                    "name": "dataSetId",
                    "entityType": "au.org.ala.ecodata.DataSetSummary",
                    "dataType": "text",
                    "description": "This section will require the Data Set Name so the Metadata fields in the Data Set Summary tab should be filled out before the Outcome Report is due. More than one dataset if relevant for this Project Baseline could be selected.",
                    "validate": "required",
                    "constraints": {
                      "textProperty": "name",
                      "valueProperty": "dataSetId",
                      "excludePath": "waterQualitySurveys.waterQualityDataSets.dataSetId",
                      "type": "pre-populated",
                      "config": {
                        "source": {
                          "context-path": "owner.custom.dataSets"
                        },
                        "filter": {
                          "namespace": "dataSet",
                          "expression": "dataSet.serviceId == 32 and dataSet.progress == 'finished' and dataSet.alreadyReported == false and baselineOrIndicatorSurvey == baselineIndicatorMapping.lookupValue(dataSet.type) and deepEquals(relatedOutcomes,dataSet.outcomesLabel)"
                        }
                      }
                    },
                    "behaviour": [
                      {
                        "type": "pre_populate",
                        "config": {
                          "waitForInitialisation": true,
                          "source": {
                            "url": "/site/geojson",
                            "params": [
                              {
                                "expression": "x=find(owner.custom.dataSets, \"dataSetId\", dataSetId); x.siteId",
                                "name": "id",
                                "type": "computed",
                                "required": true
                              }
                            ]
                          },
                          "target":  {
                            "type": "singleValue",
                            "name": "sitesCoveredForWaterQuality"
                          }
                        }
                      }
                    ]
                  },
                  {
                    "name": "projectBaselines",
                    "dataType": "stringList",
                    "description": "Select the relevant Project Baseline as listed in the Monitoring Methodology section of the MERI Plan.",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.baselines"
                    },
                    "constraints": {
                      "textProperty": "baseline",
                      "valueProperty": "code",
                      "type": "pre-populated",
                      "excludePath": "projectBaselines",
                      "config": {
                        "source": {
                          "context-path": "owner.custom.details.baseline.rows"
                        }
                      }
                    }
                  },
                  {
                    "name": "investmentPriorities2",
                    "dataType": "stringList",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.investmentPriorities"
                    },
                    "constraints": {
                      "type": "pre-populated",
                      "config": {
                        "source": {
                          "params": [
                            {
                              "expression": "owner.projectId",
                              "name": "id",
                              "type": "computed"
                            }
                          ],
                          "url": "/project/listProjectInvestmentPriorities/"
                        }
                      }
                    }
                  },
                  {
                    "dataType": "text",
                    "name": "otherInvestmentPriority",
                    "behaviour": [
                      {
                        "type": "enable",
                        "condition": "\"Other\" in investmentPriorities2"
                      }
                    ]
                  },
                  {
                    "dataType": "date",
                    "name": "activitiesStartDate",
                    "description": "Specific the dates these events were held on.",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.startDate"
                    }
                  },
                  {
                    "dataType": "date",
                    "name": "activitiesEndDate",
                    "description": "Specific the dates these events were held on.",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.endDate"
                    }
                  },
                  {
                    "dataType": "feature",
                    "name": "sitesCoveredForWaterQuality",
                    "description": "Mapping field to be done and Area (ha)/length (km) field be auto-calculated from mapping."
                  },
                  {
                    "computed": {
                      "expression": "$geom.areaHa(sitesCoveredForWaterQuality)"
                    },
                    "dataType": "number",
                    "name": "calculatedAreaTreatedHa",
                    "units": "ha",
                    "decimalPlaces": 3
                  },
                  {
                    "computed": {
                      "expression": "$geom.lengthKm(sitesCoveredForWaterQuality)"
                    },
                    "dataType": "number",
                    "name": "calculatedLengthTreatedKm",
                    "units": "km",
                    "decimalPlaces": 3,
                    "behaviour": [
                      {
                        "condition": "lengthTreatedKm > 0",
                        "type": "conditional_validation",
                        "value": {
                          "message": "The managed length must be mapped",
                          "validate": "required,min[0.0001]"
                        }
                      }
                    ]
                  },
                  {
                    "defaultValue": {
                      "type": "computed",
                      "expression": "calculatedAreaTreatedHa"
                    },
                    "dataType": "number",
                    "name": "areaTreatedHa",
                    "description": "Manually enter correct figure for this reporting period if different to mapped value.",
                    "units": "ha",
                    "decimalPlaces": 3,
                    "validate": "required,min[0]"
                  },
                  {
                    "dataType": "text",
                    "name": "mappingNotAlignedReason",
                    "constraints": [
                      "Mapped area simplifies more complex area/s where work was undertaken during this period",
                      "Other"
                    ],
                    "validate": "required",
                    "behaviour": [
                      {
                        "condition": "not (within(areaTreatedHa, calculatedAreaTreatedHa, 0.1) and within(lengthTreatedKm, calculatedLengthTreatedKm, 0.1))",
                        "type": "if"
                      }
                    ]
                  },
                  {
                    "dataType": "text",
                    "name": "mappingNotAlignedComments",
                    "validate": "required,maxSize[100]",
                    "behaviour": [
                      {
                        "type": "visible",
                        "condition": "\"Other\" == mappingNotAlignedReason"
                      }
                    ]
                  },
                  {
                    "dataType": "document",
                    "name": "extraMappingDetails",
                    "validate": "required",
                    "description": "Please fill in the Mapped/Actual/Invoice fields before attaching a document here. If those fields match this field will be void. <br/>If any of these fields differ please attach your organisation's detailed map for the area, covered by this project service - during reporting period (include the scale measure for each map).",
                    "behaviour": [
                      {
                        "condition": "not (within(areaTreatedHa, calculatedAreaTreatedHa, 0.1) and within(lengthTreatedKm, calculatedLengthTreatedKm, 0.1))",
                        "type": "if"
                      }
                    ]
                  },
                  {
                    "defaultValue": {
                      "type": "computed",
                      "expression": "$geom.lengthKm(sitesCoveredForWaterQuality)"
                    },
                    "dataType": "number",
                    "name": "lengthTreatedKm",
                    "units": "km",
                    "decimalPlaces": 3
                  },
                  {
                    "dataType": "text",
                    "description": "Select the technique used to conduct the survey. If the EMSA Application tool was not used, you should select 'Other'.",
                    "name": "emsaProtocol",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.protocol"
                    },
                    "constraints": {
                      "textProperty": "label",
                      "valueProperty": "value",
                      "type": "pre-populated",
                      "config": {
                        "source": {
                          "context-path": "owner.protocols"
                        }
                      }
                    }
                  },
                  {
                    "dataType": "stringList",
                    "description": "Describe the technique (if Other) was selected.",
                    "name": "otherEmsaProtocol",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.methods"
                    }
                  },
                  {
                    "dataType": "text",
                    "name": "surveyMethodology",
                    "description": "Provide more details on what is being done.",
                    "validate": "required,maxSize[3000]",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.methodDescription"
                    }
                  },
                  {
                    "dataType": "text",
                    "name": "invoicingThisActivity",
                    "constraints": [
                      "Yes",
                      "No"
                    ],
                    "validate": "required"
                  },
                  {
                    "dataType": "stringList",
                    "name": "waterBodyType",
                    "validate": "required",
                    "constraints": [
                      "Estuary",
                      "Freshwater stream",
                      "Freshwater lake",
                      "Ground water",
                      "Mound springs",
                      "Saline stream",
                      "Saline lake",
                      "Stream stretch",
                      "Other"
                    ]
                  },
                  {
                    "dataType": "text",
                    "name": "otherWaterBodyType",
                    "behaviour": [
                      {
                        "condition": "waterBodyType == \"Other\"",
                        "type": "enable_and_clear"
                      }
                    ],
                    "validate": "required"
                  },
                  {
                    "dataType": "text",
                    "name": "waterSurveyObjective",
                    "validate": "maxSize[300],required",
                    "description": "How will the information from the surveys be used?"
                  }
                ],
                "minSize": 1
              }
            ]
          },
          {
            "dataType": "lookupTable",
            "name": "baselineIndicatorMapping",
            "config": {
              "source": {
                "literal": {
                  "Baseline dataset associated with a project outcome": "Baseline",
                  "Project progress dataset that is tracking change against an established project baseline dataset": "Indicator"
                }
              }
            }
          },
          {
            "allowRowDelete": "false",
            "columns": [
              {
                "dataType": "text",
                "name": "participationIndividualsOrGroups",
                "description": "Once Individuals or groups is selected, the related number field in the next two columns will become editable to report.",
                "constraints": [
                  "Individuals",
                  "Groups"
                ],
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "participationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "participationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ]
              },
              {
                "dataType": "number",
                "name": "firstNationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "param": {
                      "expression": "participationIndividualNumber",
                      "type": "computed"
                    },
                    "rule": "max"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "firstNationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "param": {
                      "expression": "participationGroupNumber",
                      "type": "computed"
                    },
                    "rule": "max",
                    "message": "The number of first nation participants cannot be greater than the total number of participants"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "participationDetails",
                "validate": "required, maxSize[3000]"
              }
            ],
            "dataType": "list",
            "name": "participationInformationTableWhs"
          },
          {
            "dataType": "number",
            "name": "totalSurveyBaseline",
            "validate": "min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(waterQualitySurveys, \"baselineOrIndicatorSurvey == 'Baseline' ? 1 : 0\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalSurveyBaselineInvoiced",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalSurveyBaseline",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": ""
          },
          {
            "dataType": "number",
            "name": "totalSurveyIndicator",
            "validate": "min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(waterQualitySurveys, \"baselineOrIndicatorSurvey == 'Indicator' ? 1 : 0\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalSurveyIndicatorInvoiced",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalSurveyIndicator",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": ""
          },
          {
            "dataType": "text",
            "name": "totalInvoicedWaterMismatched",
            "description": "Please provide the reason/s why you are not invoicing for the same number that have been completed and delivered, e.g. the personnel and equipment were available to deliver more than was contracted.",
            "validate": "maxSize[400],required",
            "behaviour": [
              {
                "condition": "totalSurveyIndicatorInvoiced < totalSurveyIndicator or totalSurveyBaselineInvoiced < totalSurveyBaseline",
                "type": "enable"
              }
            ]
          },
          {
            "dataType": "text",
            "name": "comments",
            "validate": "maxSize[1500]"
          },
          {
            "dataType": "image",
            "name": "photographicEvidence"
          },
          {
            "dataType": "boolean",
            "name": "dataUploaded",
            "description": ""
          },
          {
            "dataType": "text",
            "name": "projectAssuranceDetails",
            "description": "",
            "validate": "required,maxSize[5000]"
          },
          {
            "dataType": "list",
            "name": "assuranceDocuments",
            "columns": [
              {
                "dataType": "document",
                "name": "attachments",
                "description": "Please attach any Evidence of Service Delivery here."
              }
            ]
          }
        ],
        "modelName": "NHT - Water quality survey",
        "title": "Water Quality or Hydrology Survey",
        "viewModel": [
          {
            "type": "section",
            "items": [
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<h3>Participation information</h3>"
                  }
                ]
              },
              {
                "disableTableUpload": true,
                "columns": [
                  {
                    "width": "10%",
                    "source": "participationIndividualsOrGroups",
                    "title": "Are individuals or groups delivering this service?",
                    "type": "selectOne"
                  },
                  {
                    "width": "20%",
                    "type": "col",
                    "title": "Total number of people delivering this service <br>(including First Nations people)<b style=\"color:red\">*</b>",
                    "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                    "items": [
                      {
                        "source": "participationIndividualNumber",
                        "type": "number"
                      },
                      {
                        "source": "participationGroupNumber",
                        "type": "selectOne"
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "width": "20%",
                    "title": "Total number of First Nations people delivering this service<b style=\"color:red\">*</b>",
                    "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                    "items": [
                      {
                        "source": "firstNationIndividualNumber",
                        "type": "number"
                      },
                      {
                        "source": "firstNationGroupNumber",
                        "type": "selectOne"
                      }
                    ]
                  },
                  {
                    "width": "20%",
                    "source": "participationDetails",
                    "rows": 4,
                    "title": "If no First Nations people participated in the delivery of this service, <br>what are the reasons? If there was participation, please provide details.",
                    "helpText": "If there were no First Nations people participating in the delivery of this service, please explain the reasons. If there were First Nations people involved, please outline how they were involved.",
                    "type": "textarea"
                  }
                ],
                "source": "participationInformationTableWhs",
                "type": "table"
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<h3>Survey information</h3><p><b>Before completing this section, please ensure you have created a Data Set Summary information for every data set produced by the surveys you intend to report</b></p><ul><li>Each survey reported must relate to a combination of outcomes as described in your MERI plan</li><li>Each Data Set Summary recorded for a survey must be addressing the same outcomes as selected for the survey</li><li>If a survey produced more than one data set, use the New Data Set button to add each Data Set Summary under your survey</li><li>A single survey can be made up of multiple dataset</li></ul>"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<h3>Totals Summary</h3>"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "col",
                    "css": "span4 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(i) Total Number of baseline water quality surveys completed for this reporting period",
                            "source": "totalSurveyBaseline",
                            "type": "number"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(ii) Total Number of baseline water quality surveys <u><i>invoiced</i></u> for this reporting period",
                            "source": "totalSurveyBaselineInvoiced",
                            "type": "number"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span4 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(iii)  Total Number of  indicator water quality surveys completed for this reporting period",
                            "source": "totalSurveyIndicator",
                            "type": "number"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(iv) Total Number of indicator water quality surveys <u><i>invoiced</i></u> for this reporting period",
                            "source": "totalSurveyIndicatorInvoiced",
                            "type": "number"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "If the total invoiced is different to the total completed, please provide the reason",
                    "source": "totalInvoicedWaterMismatched",
                    "type": "textarea",
                    "rows": 4,
                    "placeholder": ""
                  }
                ]
              },
              {
                "addRowText": "Add survey",
                "removeRowText": "Delete this survey",
                "userAddedRows": true,
                "source": "waterQualitySurveys",
                "type": "repeat",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "type": "col",
                        "items": [
                          {
                            "source": "typeOfSurvey",
                            "type": "selectOne",
                            "preLabel": "Type of survey"
                          }
                        ]
                      },
                      {
                        "type": "col",
                        "items": [
                          {
                            "source": "relatedOutcomes",
                            "type": "selectOne",
                            "preLabel": "Which outcome statement/s relates to this survey?"
                          }
                        ]
                      },
                      {
                        "type": "col",
                        "items": [
                          {
                            "source": "baselineOrIndicatorSurvey",
                            "type": "selectOne",
                            "preLabel": "Baseline survey or indicator (follow-up) survey?"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "source": "surveyObjective",
                        "preLabel": "Survey objective",
                        "type": "text"
                      }
                    ]
                  },
                  {
                    "type": "repeat",
                    "source": "waterQualityDataSets",
                    "userAddedRows": true,
                    "addRowText": "New data set",
                    "removeRowText": "Delete this data set",
                    "items": [
                      {
                        "type": "row",
                        "css": "border-bottom",
                        "items": [
                          {
                            "type": "col",
                            "items": [
                              {
                                "source": "dataSetId",
                                "type": "selectOne",
                                "preLabel": "Please select the data set produced by this survey.  Note it must have already been entered on the Data Set Summary tab."
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "projectBaselines",
                                    "type": "selectMany",
                                    "preLabel": "Which project baseline/s relate to this survey?",
                                    "readonly": "readonly"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "investmentPriorities2",
                                    "preLabel": "Which investment priority does this activity relate to?",
                                    "type": "select2Many"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Activity start date",
                                    "source": "activitiesStartDate",
                                    "type": "date"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Activity end date",
                                    "source": "activitiesEndDate",
                                    "type": "date"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Sites covered by water quality survey",
                                    "source": "sitesCoveredForWaterQuality",
                                    "type": "feature"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "calculatedAreaTreatedHa",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    },
                                    "readonly": "readonly"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "calculatedLengthTreatedKm",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    },
                                    "readonly": "readonly"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Please attach mapping details",
                                    "source": "extraMappingDetails",
                                    "type": "document"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Actual area (ha) / length (km) covered by water quality survey",
                                    "source": "areaTreatedHa",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    }
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "lengthTreatedKm",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    }
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Reason for actual being different to mapped amount",
                                    "source": "mappingNotAlignedReason",
                                    "type": "selectOne"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "placeholder": "Please enter the reason/s the mapping didn't align with the invoiced amount",
                                    "source": "mappingNotAlignedComments",
                                    "type": "textarea",
                                    "rows": 5
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Survey technique",
                                    "source": "emsaProtocol",
                                    "type": "selectOne",
                                    "readonly": "readonly"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Survey technique (if Other)",
                                    "source": "otherEmsaProtocol",
                                    "type": "select2Many"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "surveyMethodology",
                                    "preLabel": "Survey methodology",
                                    "type": "text"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "invoicingThisActivity",
                                    "preLabel": "Are you invoicing for this activity in this reporting period?",
                                    "type": "selectOne"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Type of Water Body",
                                    "source": "waterBodyType",
                                    "type": "selectOne"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Type of water body (if Other)",
                                    "source": "otherWaterBodyType",
                                    "type": "text"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "waterSurveyObjective",
                                    "preLabel": "Survey objective",
                                    "type": "text"
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Optionally attach photos",
                    "source": "photographicEvidence",
                    "type": "image"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Clarification, if needed",
                    "type": "textarea",
                    "rows": 4,
                    "css": "span8",
                    "source": "comments",
                    "placeholder": "Clarification comments include information for your project manager about the service like:\n • any reported items that are not being invoiced (eg, over-achievement) \n • any extraneous circumstances that affected delivery of the service \n"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<p><b>Available Evidence</b></p>This field is mandatory for all projects as part of the invoicing process. Please list evidence you have retained for this service and provide information to where the evidence is stored (links/file location data). Refer to the Project Service Evidence Guide and the Project Service Summaries for information on the evidence requirements.<b style=\"color:red\">*</b>"
                  },
                  {
                    "preLabel": "Data have been uploaded",
                    "source": "dataUploaded",
                    "type": "boolean"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "",
                    "source": "projectAssuranceDetails",
                    "type": "textarea",
                    "rows": 4,
                    "placeholder": "List the documentary evidence you have available for this project service. Include specifically, the document titles and location (e.g. internal IT network pathway, URLs) to assist with locating this material for future audits/assurance purposes."
                  }
                ]
              },
              {
                "type": "table",
                "source": "assuranceDocuments",
                "userAddedRows": true,
                "disableTableUpload": true,
                "columns": [
                  {
                    "title": "Attached documents",
                    "source": "attachments",
                    "type": "document"
                  }
                ]
              }
            ]
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtWaterQualitySurvey",
      "optional": true,
      "optionalQuestionText": null,
      "title": "Water Quality or Hydrology Survey",
      "collapsibleHeading": null,
      "name": "NHT - Water quality survey",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "dataModel": [
          {
            "name": "weedSurveys",
            "dataType": "list",
            "minSize": 1,
            "columns": [
              {
                "name": "relatedOutcomes",
                "dataType": "text",
                "description": "Select the outcome/s as defined in your MERI plan that this service was delivered to achieve.",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "value",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "context-path": "outcomes"
                    }
                  }
                }
              },
              {
                "dataType": "text",
                "name": "baselineOrIndicatorSurvey",
                "description": "",
                "constraints": [
                  "Baseline",
                  "Indicator"
                ],
                "validate": "required"
              },
              {
                "dataType": "text",
                "name": "surveyObjective",
                "description": "What the survey aim to capture? How will the information obtained from the survey be used?",
                "validate": "required,maxSize[3000]"
              },
              {
                "dataType": "number",
                "name": "numberOfSurveys",
                "validate": "required,min[1],max[1]",
                "defaultValue": 1,
                "readonly": true
              },
              {
                "dataType": "number",
                "name": "numberOfSurveysInvoiced",
                "validate": "required,min[0]",
                "defaultValue": 1
              },
              {
                "dataType": "list",
                "name": "weedDataSets",
                "columns": [
                  {
                    "name": "dataSetId",
                    "entityType": "au.org.ala.ecodata.DataSetSummary",
                    "dataType": "text",
                    "description": "This section will require the Data Set Name so the Metadata fields in the Data Set Summary tab should be filled out before the Outcome Report is due. More than one dataset if relevant for this Project Baseline could be selected.",
                    "validate": "required",
                    "constraints": {
                      "textProperty": "name",
                      "valueProperty": "dataSetId",
                      "excludePath": "weedSurveys.weedDataSets.dataSetId",
                      "type": "pre-populated",
                      "config": {
                        "source": {
                          "context-path": "owner.custom.dataSets"
                        },
                        "filter": {
                          "namespace": "dataSet",
                          "expression": "dataSet.serviceId == 33 and dataSet.progress == 'finished' and dataSet.alreadyReported == false and baselineOrIndicatorSurvey == baselineIndicatorMapping.lookupValue(dataSet.type) and deepEquals(relatedOutcomes,dataSet.outcomesLabel)"
                        }
                      }
                    },
                    "behaviour": [
                      {
                        "type": "pre_populate",
                        "config": {
                          "waitForInitialisation": true,
                          "source": {
                            "url": "/site/geojson",
                            "params": [
                              {
                                "expression": "x=find(owner.custom.dataSets, \"dataSetId\", dataSetId); x.siteId",
                                "name": "id",
                                "type": "computed",
                                "required": true
                              }
                            ]
                          },
                          "target":  {
                            "type": "singleValue",
                            "name": "sitesCoveredForWeedDistribution"
                          }
                        }
                      }
                    ]
                  },
                  {
                    "columns": [
                      {
                        "dataType": "species",
                        "name": "species",
                        "validate": "required"
                      },
                      {
                        "dataType": "text",
                        "name": "threatenedEcologicalCommunity",
                        "validate": "maxSize[300]"
                      },
                      {
                        "dataType": "number",
                        "name": "estimatedCoverPercent",
                        "validate": "required,min[0],max[100]"
                      },
                      {
                        "dataType": "text",
                        "name": "weedSurveyObjective",
                        "validate": "maxSize[300],required",
                        "description": "How will the information from the surveys be used?"
                      }
                    ],
                    "dataType": "list",
                    "name": "weedSurveySpeciesTable"
                  },
                  {
                    "name": "projectBaselines",
                    "dataType": "stringList",
                    "description": "Select the relevant Project Baseline as listed in the Monitoring Methodology section of the MERI Plan.",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.baselines"
                    },
                    "constraints": {
                      "textProperty": "baseline",
                      "valueProperty": "code",
                      "type": "pre-populated",
                      "excludePath": "projectBaselines",
                      "config": {
                        "source": {
                          "context-path": "owner.custom.details.baseline.rows"
                        }
                      }
                    }
                  },
                  {
                    "name": "investmentPriorities2",
                    "dataType": "stringList",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.investmentPriorities"
                    },
                    "constraints": {
                      "type": "pre-populated",
                      "config": {
                        "source": {
                          "params": [
                            {
                              "expression": "owner.projectId",
                              "name": "id",
                              "type": "computed"
                            }
                          ],
                          "url": "/project/listProjectInvestmentPriorities/"
                        }
                      }
                    }
                  },
                  {
                    "dataType": "text",
                    "name": "otherInvestmentPriority",
                    "behaviour": [
                      {
                        "type": "enable",
                        "condition": "\"Other\" in investmentPriorities2"
                      }
                    ]
                  },
                  {
                    "dataType": "date",
                    "name": "activitiesStartDate",
                    "description": "Specific the dates these events were held on.",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.startDate"
                    }
                  },
                  {
                    "dataType": "date",
                    "name": "activitiesEndDate",
                    "description": "Specific the dates these events were held on.",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.endDate"
                    }
                  },
                  {
                    "dataType": "feature",
                    "name": "sitesCoveredForWeedDistribution",
                    "description": "Mapping field to be done and Area (ha)/length (km) field be auto-calculated from mapping."
                  },
                  {
                    "computed": {
                      "expression": "$geom.areaHa(sitesCoveredForWeedDistribution)"
                    },
                    "dataType": "number",
                    "name": "calculatedAreaTreatedHa",
                    "units": "ha",
                    "decimalPlaces": 3
                  },
                  {
                    "computed": {
                      "expression": "$geom.lengthKm(sitesCoveredForWeedDistribution)"
                    },
                    "dataType": "number",
                    "name": "calculatedLengthTreatedKm",
                    "units": "km",
                    "decimalPlaces": 3,
                    "behaviour": [
                      {
                        "condition": "lengthTreatedKm > 0",
                        "type": "conditional_validation",
                        "value": {
                          "message": "The managed length must be mapped",
                          "validate": "required,min[0.0001]"
                        }
                      }
                    ]
                  },
                  {
                    "defaultValue": {
                      "type": "computed",
                      "expression": "calculatedAreaTreatedHa"
                    },
                    "dataType": "number",
                    "name": "areaTreatedHa",
                    "description": "Manually enter correct figure for this reporting period if different to mapped value.",
                    "units": "ha",
                    "decimalPlaces": 3,
                    "validate": "required,min[0]"
                  },
                  {
                    "dataType": "text",
                    "name": "mappingNotAlignedReason",
                    "constraints": [
                      "Mapped area simplifies more complex area/s where work was undertaken during this period",
                      "Other"
                    ],
                    "validate": "required",
                    "behaviour": [
                      {
                        "condition": "not (within(areaTreatedHa, calculatedAreaTreatedHa, 0.1) and within(lengthTreatedKm, calculatedLengthTreatedKm, 0.1))",
                        "type": "if"
                      }
                    ]
                  },
                  {
                    "dataType": "text",
                    "name": "mappingNotAlignedComments",
                    "validate": "required,maxSize[100]",
                    "behaviour": [
                      {
                        "type": "visible",
                        "condition": "\"Other\" == mappingNotAlignedReason"
                      }
                    ]
                  },
                  {
                    "dataType": "document",
                    "name": "extraMappingDetails",
                    "validate": "required",
                    "description": "Please fill in the Mapped/Actual/Invoice fields before attaching a document here. If those fields match this field will be void. <br/>If any of these fields differ please attach your organisation's detailed map for the area, covered by this project service - during reporting period (include the scale measure for each map).",
                    "behaviour": [
                      {
                        "condition": "not (within(areaTreatedHa, calculatedAreaTreatedHa, 0.1) and within(lengthTreatedKm, calculatedLengthTreatedKm, 0.1))",
                        "type": "if"
                      }
                    ]
                  },
                  {
                    "defaultValue": {
                      "type": "computed",
                      "expression": "$geom.lengthKm(sitesCoveredForWeedDistribution)"
                    },
                    "dataType": "number",
                    "name": "lengthTreatedKm",
                    "units": "km",
                    "decimalPlaces": 3
                  },
                  {
                    "dataType": "text",
                    "description": "Select the technique used to conduct the survey. If the EMSA Application tool was not used, you should select 'Other'.",
                    "name": "emsaProtocol",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.protocol"
                    },
                    "constraints": {
                      "textProperty": "label",
                      "valueProperty": "value",
                      "type": "pre-populated",
                      "config": {
                        "source": {
                          "context-path": "owner.protocols"
                        }
                      }
                    }
                  },
                  {
                    "dataType": "stringList",
                    "description": "Describe the technique (if Other) was selected.",
                    "name": "otherEmsaProtocol",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.methods"
                    }
                  },
                  {
                    "dataType": "text",
                    "name": "surveyMethodology",
                    "description": "Provide more details on what is being done.",
                    "validate": "required,maxSize[3000]",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.methodDescription"
                    }
                  },
                  {
                    "dataType": "text",
                    "name": "invoicingThisActivity",
                    "constraints": [
                      "Yes",
                      "No"
                    ],
                    "validate": "required"
                  }
                ],
                "minSize": 1
              }
            ]
          },
          {
            "dataType": "lookupTable",
            "name": "baselineIndicatorMapping",
            "config": {
              "source": {
                "literal": {
                  "Baseline dataset associated with a project outcome": "Baseline",
                  "Project progress dataset that is tracking change against an established project baseline dataset": "Indicator"
                }
              }
            }
          },
          {
            "allowRowDelete": "false",
            "columns": [
              {
                "dataType": "text",
                "name": "participationIndividualsOrGroups",
                "description": "Once Individuals or groups is selected, the related number field in the next two columns will become editable to report.",
                "constraints": [
                  "Individuals",
                  "Groups"
                ],
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "participationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "participationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ]
              },
              {
                "dataType": "number",
                "name": "firstNationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "param": {
                      "expression": "participationIndividualNumber",
                      "type": "computed"
                    },
                    "rule": "max"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "firstNationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "param": {
                      "expression": "participationGroupNumber",
                      "type": "computed"
                    },
                    "rule": "max",
                    "message": "The number of first nation participants cannot be greater than the total number of participants"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "participationDetails",
                "validate": "required, maxSize[3000]"
              }
            ],
            "dataType": "list",
            "name": "participationInformationTableWds"
          },
          {
            "dataType": "number",
            "name": "totalSurveyBaseline",
            "validate": "min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(weedSurveys, \"baselineOrIndicatorSurvey == 'Baseline' ? 1 : 0\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalSurveyBaselineInvoiced",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalSurveyBaseline",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": ""
          },
          {
            "dataType": "number",
            "name": "totalSurveyIndicator",
            "validate": "min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(weedSurveys, \"baselineOrIndicatorSurvey == 'Indicator' ? 1 : 0\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalSurveyIndicatorInvoiced",
            "validate": [
              {
                "rule": "required"
              },
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "totalSurveyIndicator",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": ""
          },
          {
            "dataType": "text",
            "name": "totalInvoicedWeedMismatched",
            "description": "Please provide the reason/s why you are not invoicing for the same number that have been completed and delivered, e.g. the personnel and equipment were available to deliver more than was contracted.",
            "validate": "maxSize[400],required",
            "behaviour": [
              {
                "condition": "totalSurveyIndicatorInvoiced < totalSurveyIndicator or totalSurveyBaselineInvoiced < totalSurveyBaseline",
                "type": "enable"
              }
            ]
          },
          {
            "dataType": "text",
            "name": "comments",
            "validate": "maxSize[1500]"
          },
          {
            "dataType": "image",
            "name": "photographicEvidence"
          },
          {
            "dataType": "boolean",
            "name": "dataUploaded",
            "description": ""
          },
          {
            "dataType": "text",
            "name": "projectAssuranceDetails",
            "description": "",
            "validate": "required,maxSize[5000]"
          },
          {
            "dataType": "list",
            "name": "assuranceDocuments",
            "columns": [
              {
                "dataType": "document",
                "name": "attachments",
                "description": "Please attach any Evidence of Service Delivery here."
              }
            ]
          }
        ],
        "modelName": "NHT - Weed distribution survey",
        "title": "Weed Distribution Survey",
        "viewModel": [
          {
            "type": "section",
            "items": [
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<h3>Participation information</h3>"
                  }
                ]
              },
              {
                "disableTableUpload": true,
                "columns": [
                  {
                    "width": "10%",
                    "source": "participationIndividualsOrGroups",
                    "title": "Are individuals or groups delivering this service?",
                    "type": "selectOne"
                  },
                  {
                    "width": "20%",
                    "type": "col",
                    "title": "Total number of people delivering this service <br>(including First Nations people)<b style=\"color:red\">*</b>",
                    "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                    "items": [
                      {
                        "source": "participationIndividualNumber",
                        "type": "number"
                      },
                      {
                        "source": "participationGroupNumber",
                        "type": "selectOne"
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "width": "20%",
                    "title": "Total number of First Nations people delivering this service<b style=\"color:red\">*</b>",
                    "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                    "items": [
                      {
                        "source": "firstNationIndividualNumber",
                        "type": "number"
                      },
                      {
                        "source": "firstNationGroupNumber",
                        "type": "selectOne"
                      }
                    ]
                  },
                  {
                    "width": "20%",
                    "source": "participationDetails",
                    "rows": 4,
                    "title": "If no First Nations people participated in the delivery of this service, <br>what are the reasons? If there was participation, please provide details.",
                    "helpText": "If there were no First Nations people participating in the delivery of this service, please explain the reasons. If there were First Nations people involved, please outline how they were involved.",
                    "type": "textarea"
                  }
                ],
                "source": "participationInformationTableWds",
                "type": "table"
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<h3>Survey information</h3><p><b>Before completing this section, please ensure you have created a Data Set Summary information for every data set produced by the surveys you intend to report</b></p><ul><li>Each survey reported must relate to a combination of outcomes as described in your MERI plan</li><li>Each Data Set Summary recorded for a survey must be addressing the same outcomes as selected for the survey</li><li>If a survey produced more than one data set, use the New Data Set button to add each Data Set Summary under your survey</li><li>A single survey can be made up of multiple dataset</li></ul>"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<h3>Totals Summary</h3>"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "col",
                    "css": "span4 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(i) Total Number of baseline weed distribution surveys completed for this reporting period",
                            "source": "totalSurveyBaseline",
                            "type": "number"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(ii) Total Number of baseline weed distribution surveys <u><i>invoiced</i></u> for this reporting period",
                            "source": "totalSurveyBaselineInvoiced",
                            "type": "number"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span4 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(iii)  Total Number of  indicator weed distribution surveys completed for this reporting period",
                            "source": "totalSurveyIndicator",
                            "type": "number"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(iv) Total Number of indicator weed distribution surveys <u><i>invoiced</i></u> for this reporting period",
                            "source": "totalSurveyIndicatorInvoiced",
                            "type": "number"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "If the total invoiced is different to the total completed, please provide the reason",
                    "source": "totalInvoicedWeedMismatched",
                    "type": "textarea",
                    "rows": 4,
                    "placeholder": ""
                  }
                ]
              },
              {
                "addRowText": "Add survey",
                "removeRowText": "Delete this survey",
                "userAddedRows": true,
                "source": "weedSurveys",
                "type": "repeat",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "type": "col",
                        "items": [
                          {
                            "source": "relatedOutcomes",
                            "type": "selectOne",
                            "preLabel": "Which outcome statement/s relates to this survey?"
                          }
                        ]
                      },
                      {
                        "type": "col",
                        "items": [
                          {
                            "source": "baselineOrIndicatorSurvey",
                            "type": "selectOne",
                            "preLabel": "Baseline survey or indicator (follow-up) survey?"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "source": "surveyObjective",
                        "preLabel": "Survey objective",
                        "type": "text"
                      }
                    ]
                  },
                  {
                    "type": "repeat",
                    "source": "weedDataSets",
                    "userAddedRows": true,
                    "addRowText": "New data set",
                    "removeRowText": "Delete this data set",
                    "items": [
                      {
                        "type": "row",
                        "css": "border-bottom",
                        "items": [
                          {
                            "type": "col",
                            "items": [
                              {
                                "source": "dataSetId",
                                "type": "selectOne",
                                "preLabel": "Please select the data set produced by this survey.  Note it must have already been entered on the Data Set Summary tab."
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "projectBaselines",
                                    "type": "selectMany",
                                    "preLabel": "Which project baseline/s relate to this survey?",
                                    "readonly": "readonly"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "investmentPriorities2",
                                    "preLabel": "Which investment priority does this activity relate to?",
                                    "type": "select2Many"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Activity start date",
                                    "source": "activitiesStartDate",
                                    "type": "date"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Activity end date",
                                    "source": "activitiesEndDate",
                                    "type": "date"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Sites covered by weed distribution survey",
                                    "source": "sitesCoveredForWeedDistribution",
                                    "type": "feature"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "calculatedAreaTreatedHa",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    },
                                    "readonly": "readonly"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "calculatedLengthTreatedKm",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    },
                                    "readonly": "readonly"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Please attach mapping details",
                                    "source": "extraMappingDetails",
                                    "type": "document"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Actual area (ha) / length (km) covered by weed distribution survey",
                                    "source": "areaTreatedHa",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    }
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "lengthTreatedKm",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    }
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Reason for actual being different to mapped amount",
                                    "source": "mappingNotAlignedReason",
                                    "type": "selectOne"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "placeholder": "Please enter the reason/s the mapping didn't align with the invoiced amount",
                                    "source": "mappingNotAlignedComments",
                                    "type": "textarea",
                                    "rows": 5
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Survey technique",
                                    "source": "emsaProtocol",
                                    "type": "selectOne",
                                    "readonly": "readonly"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Survey technique (if Other)",
                                    "source": "otherEmsaProtocol",
                                    "type": "select2Many"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "surveyMethodology",
                                    "preLabel": "Survey methodology",
                                    "type": "text"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "invoicingThisActivity",
                                    "preLabel": "Are you invoicing for this activity in this reporting period?",
                                    "type": "selectOne"
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "columns": [
                          {
                            "width": "40%",
                            "source": "species",
                            "title": "Target species recorded",
                            "type": "speciesSelect"
                          },
                          {
                            "width": "10%",
                            "source": "estimatedCoverPercent",
                            "title": "Estimated weed cover (%)",
                            "type": "number"
                          },
                          {
                            "width": "25%",
                            "source": "threatenedEcologicalCommunity",
                            "title": "Threatened ecological communities (if applicable)",
                            "type": "text"
                          },
                          {
                            "width": "25%",
                            "source": "weedSurveyObjective",
                            "title": "Survey Objective",
                            "type": "text"
                          }
                        ],
                        "userAddedRows": true,
                        "disableTableUpload": true,
                        "source": "weedSurveySpeciesTable",
                        "type": "table"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Optionally attach photos",
                    "source": "photographicEvidence",
                    "type": "image"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Clarification, if needed",
                    "type": "textarea",
                    "rows": 4,
                    "css": "span8",
                    "source": "comments",
                    "placeholder": "Clarification comments include information for your project manager about the service like:\n • any reported items that are not being invoiced (eg, over-achievement) \n • any extraneous circumstances that affected delivery of the service \n"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<p><b>Available Evidence</b></p>This field is mandatory for all projects as part of the invoicing process. Please list evidence you have retained for this service and provide information to where the evidence is stored (links/file location data). Refer to the Project Service Evidence Guide and the Project Service Summaries for information on the evidence requirements.<b style=\"color:red\">*</b>"
                  },
                  {
                    "preLabel": "Data have been uploaded",
                    "source": "dataUploaded",
                    "type": "boolean"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "",
                    "source": "projectAssuranceDetails",
                    "type": "textarea",
                    "rows": 4,
                    "placeholder": "List the documentary evidence you have available for this project service. Include specifically, the document titles and location (e.g. internal IT network pathway, URLs) to assist with locating this material for future audits/assurance purposes."
                  }
                ]
              },
              {
                "type": "table",
                "source": "assuranceDocuments",
                "userAddedRows": true,
                "disableTableUpload": true,
                "columns": [
                  {
                    "title": "Attached documents",
                    "source": "attachments",
                    "type": "document"
                  }
                ]
              }
            ]
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtWeedDistributionSurvey",
      "optional": true,
      "optionalQuestionText": null,
      "title": "Weed distribution survey",
      "collapsibleHeading": null,
      "name": "NHT - Weed distribution survey",
      "description": null
    }
  ],
  "type": "Report",
  "category": "NHT Reports",
  "status": "active",
  "lastUpdatedUserId": "56575",
  "description": null,
  "formVersion": 1
}