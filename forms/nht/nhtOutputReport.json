{
  "id": "64bf6c1ac9126a73736284ff",
  "dateCreated": "2023-07-25T06:30:50Z",
  "minOptionalSectionsCompleted": 0,
  "supportsSites": true,
  "lastUpdated": "2023-10-04T11:46:09Z",
  "createdUserId": "1493",
  "external": false,
  "activationDate": null,
  "supportsPhotoPoints": false,
  "publicationStatus": "published",
  "externalIds": null,
  "gmsId": null,
  "name": "NHT Output Report",
  "sections": [
    {
      "collapsedByDefault": false,
      "template": {
        "name": "NHT - Communications",
        "title": "Communications",
        "dataModel": [
          {
            "name": "nhtCommunications",
            "dataType": "text",
            "description": "This <u>does not</u> include communication activities undertaken under the 'Communication Materials' Project Service or regional capacity service. Refer to the Project Services  and Overheads (PS&O) service summary to clarify what type of communications activity is paid under the PS&O service. All Communication Materials must correctly acknowledge Australian Government funding.",
            "validate": "required",
            "constraints": [
              "Yes",
              "No"
            ]
          },
          {
            "name": "yesCommunicationsMaterial",
            "dataType": "text",
            "validate": "required,maxSize[300]",
            "description": "Upload documents by clicking onto the 'Attach Document' button or provide a link in the free text field.",
            "behaviour": [
              {
                "condition": "nhtCommunications == \"Yes\"",
                "type": "enable"
              }
            ]
          },
          {
            "dataType": "document",
            "name": "attachments",
            "description": "Please attach any Evidence of Service Delivery here."
          }
        ],
        "viewModel": [
          {
            "type": "row",
            "items": [
              {
                "css": "span6",
                "type": "selectOne",
                "source": "nhtCommunications",
                "preLabel": "During this reporting period was any communication material developed and published?"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "type": "textarea",
                "source": "yesCommunicationsMaterial",
                "preLabel": "If yes, please provide link or copy of the material."
              }
            ]
          },
          {
            "type": "row",
            "behaviour": [
              {
                "type": "if_expression",
                "condition": "nhtCommunications == \"Yes\""
              }
            ],
            "items": [
              {
                "type": "col",
                "items": [
                  {
                    "title": "Attached documents",
                    "source": "attachments",
                    "type": "document"
                  }
                ]
              }
            ]
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtOutputCommunications",
      "optional": false,
      "optionalQuestionText": null,
      "title": "NHT - Communications",
      "collapsibleHeading": null,
      "name": "NHT - Communications",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "title": "Engagement activities or events, to the Community, which are directly relevant to delivery of Project",
        "modelName": "NHT - Project Engagements",
        "dataModel": [
          {
            "dataType": "list",
            "name": "engagementDetails",
            "columns": [
              {
                "dataType": "stringList",
                "name": "engagementType",
                "constraints": [
                  "One-on-one technical advice",
                  "Negotiations with the community, etc.",
                  "Facilitating/Hosting on-ground trials/demos",
                  "Hosting workshops",
                  "Facilitating/Hosting conferences/seminars"
                ],
                "validate": "required"
              },
              {
                "dataType": "text",
                "name": "engagementTitle",
                "validate": "required"
              },
              {
                "dataType": "text",
                "name": "engagementPurpose",
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "engagementNoParticipants",
                "validate": "required"
              },
              {
                "dataType": "date",
                "name": "activityDateFrom",
                "validate": "required"
              },
              {
                "dataType": "date",
                "name": "activityDateTo",
                "validate": "required"
              }
            ]
          },
          {
            "dataType": "text",
            "name": "comments",
            "validate": "maxSize[1500]"
          },
          {
            "dataType": "boolean",
            "name": "dataUploaded",
            "description": ""
          },
          {
            "name": "projectAssuranceDetails",
            "dataType": "text",
            "validate": "required,maxSize[5000]",
            "behaviour": [
              {
                "condition": "dataUploaded == true",
                "type": "enable"
              }
            ]
          },
          {
            "dataType": "list",
            "name": "assuranceDocuments",
            "columns": [
              {
                "dataType": "document",
                "name": "attachments",
                "description": "Please attach any Evidence of Service Delivery here."
              }
            ]
          }
        ],
        "viewModel": [
          {
            "items": [
              {
                "type": "table",
                "source": "engagementDetails",
                "title": "<b>Please list community engagement activities undertaken, including the title, description, and the number of participants for each activity undertaken in this reporting period, if any.</b><br>This does not include engagement activities undertaken in community/stakeholder engagement service or regional capacity service. The Register of Engagement must be retained as evidence.",
                "preLabel": "If yes, please provide link or copy of the material.",
                "userAddedRows": true,
                "columns": [
                  {
                    "source": "engagementType",
                    "type": "select2Many",
                    "width": "20%",
                    "title": "Type"
                  },
                  {
                    "source": "engagementTitle",
                    "type": "text",
                    "width": "25%",
                    "title": "Title"
                  },
                  {
                    "type": "textarea",
                    "source": "engagementPurpose",
                    "width": "25%",
                    "title": "Purpose",
                    "rows": 4
                  },
                  {
                    "source": "engagementNoParticipants",
                    "type": "number",
                    "width": "10%",
                    "title": "Number of participants"
                  },
                  {
                    "title": "Activity Date from",
                    "source": "activityDateFrom",
                    "type": "date",
                    "width": "10%"
                  },
                  {
                    "title": "Activity Date to",
                    "source": "activityDateTo",
                    "type": "date",
                    "width": "10%"
                  }
                ]
              }
            ],
            "type": "section"
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtProjectEngagements",
      "optional": false,
      "optionalQuestionText": null,
      "title": "NHT - Project Engagements",
      "collapsibleHeading": null,
      "name": "NHT - Project Engagements",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "title": "Coordinate Projects and MERI",
        "modelName": "NHT - Coordinate",
        "dataModel": [
          {
            "name": "undergoneReview",
            "dataType": "text",
            "validate": "required",
            "constraints": [
              "Yes",
              "No",
              "NA"
            ]
          },
          {
            "name": "yesUndergoneReview",
            "dataType": "text",
            "validate": "required,maxSize[4000]",
            "behaviour": [
              {
                "condition": "undergoneReview == \"Yes\"",
                "type": "enable"
              }
            ]
          },
          {
            "name": "workOrderVariation",
            "dataType": "text",
            "validate": "required",
            "behaviour": [
              {
                "condition": "undergoneReview == \"Yes\"",
                "type": "enable"
              }
            ],
            "constraints": [
              "Yes",
              "No",
              "Not Applicable"
            ]
          },
          {
            "name": "plansDeveloped",
            "dataType": "text",
            "validate": "required",
            "constraints": [
              "Yes",
              "No",
              "Not Applicable"
            ]
          },
          {
            "name": "planName",
            "dataType": "text",
            "validate": "required,maxSize[100]",
            "behaviour": [
              {
                "condition": "plansDeveloped == \"Yes\"",
                "type": "enable"
              }
            ]
          },
          {
            "name": "planPurpose",
            "dataType": "text",
            "validate": "required,maxSize[300]",
            "behaviour": [
              {
                "condition": "plansDeveloped == \"Yes\"",
                "type": "enable"
              }
            ]
          },
          {
            "name": "facilitatedPlanningMeetings",
            "dataType": "text",
            "validate": "required",
            "constraints": [
              "Yes",
              "No",
              "Not Applicable"
            ]
          },
          {
            "dataType": "list",
            "name": "meetingDetails",
            "columns": [
              {
                "dataType": "date",
                "behaviour": [
                  {
                    "type": "enable_and_clear",
                    "condition": "facilitatedPlanningMeetings == \"Yes\""
                  }
                ],
                "name": "meetingDateFrom",
                "validate": "required"
              },
              {
                "dataType": "date",
                "behaviour": [
                  {
                    "type": "enable_and_clear",
                    "condition": "facilitatedPlanningMeetings == \"Yes\""
                  }
                ],
                "name": "meetingDateTo",
                "validate": "required"
              },
              {
                "dataType": "text",
                "behaviour": [
                  {
                    "type": "enable_and_clear",
                    "condition": "facilitatedPlanningMeetings == \"Yes\""
                  }
                ],
                "name": "meetingName",
                "validate": "required,maxSize[100]"
              },
              {
                "dataType": "text",
                "behaviour": [
                  {
                    "type": "enable_and_clear",
                    "condition": "facilitatedPlanningMeetings == \"Yes\""
                  }
                ],
                "name": "meetingDescription",
                "validate": "required,maxSize[4000]"
              }
            ]
          },
          {
            "dataType": "text",
            "name": "comments",
            "validate": "maxSize[1500]"
          },
          {
            "dataType": "boolean",
            "name": "dataUploaded",
            "description": ""
          },
          {
            "name": "projectAssuranceDetails",
            "dataType": "text",
            "validate": "required,maxSize[5000]",
            "behaviour": [
              {
                "condition": "dataUploaded == true",
                "type": "enable"
              }
            ]
          },
          {
            "dataType": "list",
            "name": "assuranceDocuments",
            "columns": [
              {
                "dataType": "document",
                "name": "attachments",
                "description": "Please attach any Evidence of Service Delivery here."
              }
            ]
          }
        ],
        "viewModel": [
          {
            "type": "row",
            "items": [
              {
                "css": "span6",
                "type": "selectOne",
                "source": "undergoneReview",
                "preLabel": "During this reporting period has the project implementation plan undergone a review or amendment?"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "type": "textarea",
                "source": "yesUndergoneReview",
                "preLabel": "If yes, please provide a summary of the changes."
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "css": "span6",
                "type": "selectOne",
                "source": "workOrderVariation",
                "preLabel": "Will these changes require a work order variation?"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "css": "span6",
                "type": "selectOne",
                "source": "plansDeveloped",
                "preLabel": "During this reporting period have any site/project/monitoring plans been developed to support project delivery? "
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "css": "span3",
                "type": "text",
                "source": "planName",
                "preLabel": "Name of plan"
              },
              {
                "css": "span6",
                "type": "textarea",
                "source": "planPurpose",
                "preLabel": "Purpose of plan"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "css": "span6",
                "type": "selectOne",
                "source": "facilitatedPlanningMeetings",
                "preLabel": "During this reporting period did you facilitate/host any steering/technical advisory/stakeholder planning meetings?"
              }
            ]
          },
          {
            "items": [
              {
                "type": "table",
                "source": "meetingDetails",
                "userAddedRows": true,
                "columns": [
                  {
                    "source": "meetingDateFrom",
                    "type": "date",
                    "width": "10%",
                    "title": "Date from"
                  },
                  {
                    "source": "meetingDateTo",
                    "type": "date",
                    "width": "10%",
                    "title": "Date to"
                  },
                  {
                    "type": "text",
                    "source": "meetingName",
                    "title": "Name of event",
                    "rows": 4
                  },
                  {
                    "type": "textarea",
                    "source": "meetingDescription",
                    "title": "Purpose of the Meeting/Workshop",
                    "rows": 4
                  }
                ]
              }
            ],
            "type": "section"
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtCoordinate",
      "optional": false,
      "optionalQuestionText": null,
      "title": "NHT - Coordinate",
      "collapsibleHeading": null,
      "name": "NHT - Coordinate",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "name": "NHT - Project Commencement",
        "title": "Project Commencement",
        "dataModel": [],
        "viewModel": [
          {
            "type": "row",
            "items": [
              {
                "source": "<i>‘Any service delivered using the commencement payment should be reported in the relevant reporting field.’</i>",
                "type": "literal"
              }
            ]
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtProjectCommencement",
      "optional": false,
      "optionalQuestionText": null,
      "title": "NHT - Project Commencement",
      "collapsibleHeading": null,
      "name": "NHT - Project Commencement",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "name": "NHT - Project WHS",
        "title": "Project WHS Risk Register",
        "dataModel": [
          {
            "name": "undergoneWhsReview",
            "dataType": "text",
            "validate": "required",
            "description": "The WHS risk register for project services must be reviewed and updated where new risks are identified, or control measures have changed.",
            "constraints": [
              "Yes",
              "No"
            ]
          },
          {
            "name": "yesUndergoneWhsReview",
            "dataType": "text",
            "validate": "required,maxSize[300]",
            "behaviour": [
              {
                "condition": "undergoneWhsReview == \"Yes\"",
                "type": "enable"
              }
            ]
          },
          {
            "name": "hasNotifiableIncident",
            "dataType": "text",
            "validate": "required",
            "description": "A WHS Notifiable incident is defined within Work Health and Safety Act (Cth) 2011 Part 3 – Incident Notification. (https://www.legislation.gov.au/Details/C2018C00293). Refer to Deed of Standing offer clause 42 Work Health and Safety for further information on these requirements.",
            "constraints": [
              "Yes",
              "No"
            ]
          },
          {
            "name": "yesHasNotifiableIncident",
            "dataType": "text",
            "constraints": [
              "Yes",
              "No"
            ],
            "behaviour": [
              {
                "condition": "hasNotifiableIncident == \"Yes\"",
                "type": "enable"
              }
            ]
          },
          {
            "name": "hasVerifiedSubContractors",
            "dataType": "text",
            "validate": "required",
            "description": "If there have been no current or new subcontracting arrangement during this reporting period, please report as Not Applicable. Refer to Deed of standing offer clause 20 Subcontracting and 42 Work Health and Safety for further information on these requirements.",
            "constraints": [
              "Yes",
              "No",
              "Not Applicable"
            ]
          },
          {
            "name": "notVerifiedSubContractors",
            "dataType": "text",
            "validate": "required,maxSize[300]",
            "behaviour": [
              {
                "condition": "hasVerifiedSubContractors == \"No\"",
                "type": "enable"
              }
            ]
          }
        ],
        "viewModel": [
          {
            "type": "row",
            "items": [
              {
                "css": "span6",
                "type": "selectOne",
                "source": "undergoneWhsReview",
                "preLabel": "Have any project WHS risks or control measures in the project WHS risk register been reviewed and updated during the reporting period?"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "type": "textarea",
                "source": "yesUndergoneWhsReview",
                "preLabel": "If yes, please provide a brief description of the changes made."
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "css": "span6",
                "type": "selectOne",
                "source": "hasNotifiableIncident",
                "preLabel": "In the past reporting period, have any notifiable incidents or events occurred during the delivery of the project services?"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "css": "span6",
                "type": "selectOne",
                "source": "yesHasNotifiableIncident",
                "preLabel": "If yes, has the incident/event been reported to the department and the relevant documentation provided?"
              }
            ]
          },
          {
            "type": "row",
            "behaviour": [
              {
                "type": "if_expression",
                "condition": "yesHasNotifiableIncident == \"No\""
              }
            ],
            "items": [
              {
                "source": "<span class=\"preLabel required\"><label><i>If no, provide notification as outlined in the Deed of Standing offer clause 42.3 Notifying the customer.</i>",
                "type": "literal"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "css": "span6",
                "type": "selectOne",
                "source": "hasVerifiedSubContractors",
                "preLabel": "Have you verified that all subcontractors engaged during the reporting period (existing and new) are meeting WHS requirements under the Deed and this contract, and that corroborating documentation such as relevant permits, licences etc have been retained?"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "type": "textarea",
                "source": "notVerifiedSubContractors",
                "preLabel": "If no, provide reason on why checks have not been undertaken."
              }
            ]
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtProjectWHS",
      "optional": false,
      "optionalQuestionText": null,
      "title": "NHT - Project WHS",
      "collapsibleHeading": null,
      "name": "NHT - Project WHS",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "title": "Synthesising and finalising baseline data",
        "modelName": "NHT - Baseline data",
        "dataModel": [
          {
            "dataType": "list",
            "name": "baselineDetails",
            "columns": [
              {
                "dataType": "text",
                "name": "datasetName",
                "validate": "required"
              },
              {
                "name": "projectBaseline",
                "dataType": "text",
                "description": "Select the relevant Project Baseline as listed in the Monitoring Methodology section of the MERI Plan.",
                "validate": "required",
                "constraints": {
                  "textProperty": "baseline",
                  "valueProperty": "baseline",
                  "type": "pre-populated",
                  "excludePath": "baselineDetails.projectBaseline",
                  "config": {
                    "source": {
                      "context-path": "owner.custom.details.baseline.rows"
                    }
                  }
                }
              },
              {
                "name": "datasetSupports",
                "dataType": "text",
                "description": "This section will require the Data Set Name so the Metadata fields in the Data Set Summary tab should be filled out before the Outcome Report is due. More than one dataset if relevant for this Project Baseline could be selected.",
                "validate": "required",
                "constraints": {
                  "textProperty": "name",
                  "valueProperty": "dataSetId",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "context-path": "owner.custom.dataSets"
                    }
                  }
                }
              },
              {
                "dataType": "text",
                "name": "baselineDescription",
                "validate": "required,maxSize[500]"
              },
              {
                "name": "relatedOutcomes",
                "dataType": "text",
                "description": "Select the outcome/s as defined in your MERI plan that this service was delivered to achieve.",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "label",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "url": "/project/outcomesByScores",
                      "params": [
                        {
                          "expression": "owner.projectId",
                          "name": "id",
                          "type": "computed"
                        },
                        {
                          "expression": "scores",
                          "name": "scoreIds",
                          "type": "computed"
                        }
                      ]
                    }
                  }
                }
              },
              {
                "dataType": "text",
                "description": "",
                "name": "outcomeStatementNew"
              }
            ]
          },
          {
            "name": "numberBaselineDataSets",
            "type": "number",
            "decimalPlaces": 0,
            "computed": {
              "expression": "count(baselineDetails, \"projectBaseline\")"
            }
          },
          {
            "dataType": "text",
            "name": "comments",
            "validate": "maxSize[1500]"
          },
          {
            "dataType": "boolean",
            "name": "dataUploaded",
            "description": ""
          },
          {
            "name": "projectAssuranceDetails",
            "dataType": "text",
            "validate": "required,maxSize[5000]",
            "behaviour": [
              {
                "condition": "dataUploaded == true",
                "type": "enable"
              }
            ]
          },
          {
            "dataType": "list",
            "name": "assuranceDocuments",
            "columns": [
              {
                "dataType": "document",
                "name": "attachments",
                "description": "Please attach any Evidence of Service Delivery here."
              }
            ]
          }
        ],
        "viewModel": [
          {
            "items": [
              {
                "preLabel": "Total number of baseline datasets synthesised and finalised:",
                "noEdit": true,
                "type": "number",
                "source": "numberBaselineDataSets"
              },
              {
                "type": "table",
                "source": "baselineDetails",
                "userAddedRows": true,
                "columns": [
                  {
                    "source": "datasetName",
                    "type": "text",
                    "width": "20%",
                    "title": "Name of Baseline Dataset"
                  },
                  {
                    "source": "projectBaseline",
                    "type": "selectOne",
                    "width": "15%",
                    "title": "Which Project Baseline are you reporting on?"
                  },
                  {
                    "source": "datasetSupports",
                    "type": "select2Many",
                    "width": "15%",
                    "title": "What dataset supports this Project Baseline?"
                  },
                  {
                    "preLabel": "",
                    "source": "baselineDescription",
                    "type": "textarea",
                    "width": "25%",
                    "rows": 3,
                    "placeholder": "",
                    "title": "Briefly describe the baseline you have established under this service and its purpose."
                  },
                  {
                    "source": "relatedOutcomes",
                    "type": "selectOne",
                    "width": "25%",
                    "title": "Which outcome statement/s aligns with this Baseline Dataset?"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Clarification, if needed",
                    "type": "textarea",
                    "rows": 4,
                    "css": "span8",
                    "source": "comments",
                    "placeholder": "Clarification comments include information for your project manager about the service like:\n• any reported items that are not being invoiced (eg, over-achievement) \n • any extraneous circumstances that affected delivery of the service \n"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<p><b>Available Evidence</b></p>This field is mandatory for all projects as part of the invoicing process. Please list evidence you have retained for this service and provide information to where the evidence is stored (links/file location data). Refer to the Project Service Evidence Guide and the Project Service Summaries for information on the evidence requirements.<b style=\"color:red\">*</b>"
                  },
                  {
                    "preLabel": "Data have been uploaded",
                    "source": "dataUploaded",
                    "type": "boolean"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "",
                    "source": "projectAssuranceDetails",
                    "type": "textarea",
                    "rows": 4,
                    "placeholder": "List the documentary evidence you have available for this project service. Include specifically, the document titles and location (e.g. internal IT network pathway, URLs) to assist with locating this material for future audits/assurance purposes."
                  }
                ]
              },
              {
                "type": "table",
                "source": "assuranceDocuments",
                "userAddedRows": true,
                "disableTableUpload": true,
                "columns": [
                  {
                    "title": "Attached documents",
                    "source": "attachments",
                    "type": "document"
                  }
                ]
              }
            ],
            "type": "section"
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtBaselineData",
      "optional": true,
      "optionalQuestionText": null,
      "title": "Collecting, or synthesising baseline data",
      "collapsibleHeading": null,
      "name": "NHT - Baseline data",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "dataModel": [
          {
            "dataType": "text",
            "name": "participationIndividualsOrGroups",
            "description": "Once Individuals or groups is selected, the related number field in the next two columns will become editable to report.",
            "constraints": [
              "Individuals",
              "Groups"
            ],
            "validate": "required"
          },
          {
            "dataType": "number",
            "name": "participationIndividualNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Individuals\"",
                "type": "enable"
              }
            ],
            "validate": "required,min[0]"
          },
          {
            "dataType": "text",
            "name": "participationGroupNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Groups\"",
                "type": "enable"
              }
            ],
            "constraints": [
              "0",
              "1-10",
              "11-20",
              "21-30",
              "31-40",
              "41-50"
            ],
            "validate": "required"
          },
          {
            "dataType": "number",
            "name": "firstNationIndividualNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Individuals\"",
                "type": "enable"
              }
            ],
            "validate": "required,min[0]"
          },
          {
            "dataType": "text",
            "name": "firstNationGroupNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Groups\"",
                "type": "enable"
              }
            ],
            "constraints": [
              "0",
              "1-10",
              "11-20",
              "21-30",
              "31-40",
              "41-50"
            ],
            "validate": "required"
          },
          {
            "dataType": "text",
            "name": "participationDetails",
            "validate": "maxSize[3000]"
          },
          {
            "name": "relatedOutcomes",
            "dataType": "text",
            "description": "Select the outcome/s as defined in your MERI plan that this service was delivered to achieve.",
            "validate": "required",
            "constraints": {
              "textProperty": "label",
              "valueProperty": "value",
              "type": "pre-populated",
              "config": {
                "source": {
                  "context-path": "outcomes"
                }
              }
            }
          },
          {
            "name": "investmentPriorities2",
            "dataType": "stringList",
            "validate": "required",
            "constraints": {
              "type": "pre-populated",
              "config": {
                "source": {
                  "params": [
                    {
                      "expression": "owner.projectId",
                      "name": "id",
                      "type": "computed"
                    }
                  ],
                  "url": "/project/listProjectInvestmentPriorities/"
                }
              }
            }
          },
          {
            "dataType": "text",
            "name": "otherInvestmentPriority",
            "behaviour": [
              {
                "type": "enable",
                "condition": "\"Other\" in investmentPriorities2"
              }
            ]
          },
          {
            "dataType": "text",
            "name": "invoicingThisActivity",
            "constraints": [
              "Yes",
              "No"
            ],
            "validate": "required"
          },
          {
            "columns": [
              {
                "dataType": "text",
                "name": "communicationMaterialType",
                "constraints": [
                  "Booklets",
                  "Educational/Interpretive Signage",
                  "Fact Sheets/Brochures",
                  "Videos"
                ],
                "validate": "required"
              },
              {
                "dataType": "date",
                "name": "communicationDate",
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "numberOfCommunicationMaterialsPublished",
                "description": "Refers to unique publications not number printed.",
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "communicationMaterialPurpose",
                "validate": "required,maxSize[300]",
                "description": "e.g. public awareness, warnings, advertisements"
              }
            ],
            "dataType": "list",
            "name": "communicationMaterials"
          },
          {
            "dataType": "number",
            "name": "totalMaterialsPublished",
            "validate": "required,min[0]",
            "decimalPlaces": 0,
            "defaultValue": 1,
            "computed": {
              "expression": "count(communicationMaterials, \"numberOfCommunicationMaterialsPublished\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalMaterialsPublishedInvoiced",
            "validate": "required,min[0]",
            "defaultValue": 1,
            "validate": [
              {
                "param": {
                  "expression": "totalMaterialsPublished",
                  "type": "computed"
                },
                "rule": "max"
              }
            ]
          },
          {
            "dataType": "text",
            "name": "comments",
            "validate": "maxSize[1500]"
          },
          {
            "dataType": "image",
            "name": "photographicEvidence"
          },
          {
            "dataType": "boolean",
            "name": "dataUploaded",
            "description": "<ul><li>Tick box to confirm data has been uploaded</li><li>URL Link (mandatory if below is ticked) in available evidence</li></ul>"
          },
          {
            "name": "projectAssuranceDetails",
            "dataType": "text",
            "validate": "required,maxSize[5000]",
            "behaviour": [
              {
                "condition": "dataUploaded == true",
                "type": "enable"
              }
            ]
          },
          {
            "dataType": "list",
            "name": "assuranceDocuments",
            "columns": [
              {
                "dataType": "document",
                "name": "attachments",
                "description": "Please attach any Evidence of Service Delivery here."
              }
            ]
          }
        ],
        "modelName": "NHT - Communication Materials",
        "title": "Communication Materials",
        "viewModel": [
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<h3>Participation information</h3>"
              }
            ]
          },
          {
            "columns": [
              {
                "width": "10%",
                "source": "participationIndividualsOrGroups",
                "title": " Are individuals or groups delivering this service?",
                "type": "selectOne"
              },
              {
                "width": "20%",
                "type": "col",
                "title": "Total number of people delivering this service <br>(including First Nations people)",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "participationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "participationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "type": "col",
                "width": "20%",
                "title": "Total number of First Nations people delivering this service ",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "firstNationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "firstNationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "source": "participationDetails",
                "rows": 4,
                "title": "If no First Nations people participated in the delivery of this service, <br>what are the reasons? If there was participation, please provide details.",
                "helpText": "If there were no First Nations people participating in the delivery of this service, please explain the reasons. If there were First Nations people involved, please outline how they were involved.",
                "type": "textarea"
              }
            ],
            "userAddedRows": false,
            "disableTableUpload": false,
            "source": "",
            "type": "table"
          },
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<h3>Totals Summary</h3>"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(i) Total Number of communication materials published for this reporting period",
                        "source": "totalMaterialsPublished",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(ii) Total Number of communication materials <u><i>invoiced</i></u> for this reporting period",
                        "source": "totalMaterialsPublishedInvoiced",
                        "type": "number"
                      }
                    ]
                  }
                ]
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "css": "span3",
                "type": "col",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "source": "relatedOutcomes",
                        "type": "selectOne",
                        "preLabel": "Which outcome statement/s does this activity relate to?"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "col",
                "css": "span3 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "source": "investmentPriorities2",
                        "preLabel": "Which investment priority does this activity relate to?",
                        "type": "select2Many"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "source": "otherInvestmentPriority",
                        "type": "text"
                      }
                    ]
                  }
                ]
              },
              {
                "css": "span3",
                "type": "col",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "source": "invoicingThisActivity",
                        "preLabel": "Are you invoicing for this activity in this reporting period?",
                        "type": "selectOne"
                      }
                    ]
                  }
                ]
              }
            ]
          },
          {
            "type": "section",
            "items": [
              {
                "columns": [
                  {
                    "width": "25%",
                    "source": "communicationMaterialType",
                    "title": "Type of communication material published",
                    "type": "select2"
                  },
                  {
                    "width": "15%",
                    "source": "communicationDate",
                    "title": "Date",
                    "type": "date"
                  },
                  {
                    "width": "20%",
                    "source": "numberOfCommunicationMaterialsPublished",
                    "title": "Number of communication materials published",
                    "type": "number"
                  },
                  {
                    "width": "40%",
                    "source": "communicationMaterialPurpose",
                    "title": "Purpose of communication material",
                    "type": "textarea"
                  }
                ],
                "userAddedRows": true,
                "source": "communicationMaterials",
                "type": "table"
              },
              {
                "type": "row",
                "items": [
                  {
                    "source": "<i>Note: to upload a communication material refer to the documents tab.</i>",
                    "type": "literal"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Optionally attach photos",
                    "source": "photographicEvidence",
                    "type": "image"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Clarification, if needed",
                    "type": "textarea",
                    "rows": 4,
                    "css": "span8",
                    "source": "comments",
                    "placeholder": "Clarification comments include information for your project manager about the service like:\n • any reported items that are not being invoiced (eg, over-achievement) \n • any extraneous circumstances that affected delivery of the service \n"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<p><b>Available Evidence</b></p>This field is mandatory for all projects as part of the invoicing process. Please list evidence you have retained for this service and provide information to where the evidence is stored (links/file location data). Refer to the Project Service Evidence Guide and the Project Service Summaries for information on the evidence requirements.<b style=\"color:red\">*</b>"
                  },
                  {
                    "preLabel": "Data have been uploaded",
                    "source": "dataUploaded",
                    "type": "boolean"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "",
                    "source": "projectAssuranceDetails",
                    "type": "textarea",
                    "rows": 4,
                    "placeholder": "List the documentary evidence you have available for this project service. Include specifically, the document titles and location (e.g. internal IT network pathway, URLs) to assist with locating this material for future audits/assurance purposes."
                  }
                ]
              },
              {
                "type": "table",
                "source": "assuranceDocuments",
                "userAddedRows": true,
                "disableTableUpload": true,
                "columns": [
                  {
                    "title": "Attached documents",
                    "source": "attachments",
                    "type": "document"
                  }
                ]
              }
            ]
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtCommunicationMaterials",
      "optional": true,
      "optionalQuestionText": null,
      "title": "Communication materials",
      "collapsibleHeading": null,
      "name": "NHT - Communication materials",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "dataModel": [
          {
            "dataType": "text",
            "name": "participationIndividualsOrGroups",
            "description": "Once Individuals or groups is selected, the related number field in the next two columns will become editable to report.",
            "constraints": [
              "Individuals",
              "Groups"
            ],
            "validate": "required"
          },
          {
            "dataType": "number",
            "name": "participationIndividualNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Individuals\"",
                "type": "enable"
              }
            ],
            "validate": "required,min[0]"
          },
          {
            "dataType": "text",
            "name": "participationGroupNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Groups\"",
                "type": "enable"
              }
            ],
            "constraints": [
              "0",
              "1-10",
              "11-20",
              "21-30",
              "31-40",
              "41-50"
            ],
            "validate": "required"
          },
          {
            "dataType": "number",
            "name": "firstNationIndividualNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Individuals\"",
                "type": "enable"
              }
            ],
            "validate": "required,min[0]"
          },
          {
            "dataType": "text",
            "name": "firstNationGroupNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Groups\"",
                "type": "enable"
              }
            ],
            "constraints": [
              "0",
              "1-10",
              "11-20",
              "21-30",
              "31-40",
              "41-50"
            ],
            "validate": "required"
          },
          {
            "dataType": "text",
            "name": "participationDetails",
            "validate": "maxSize[3000]"
          },
          {
            "name": "relatedOutcomes",
            "dataType": "text",
            "description": "Select the outcome/s as defined in your MERI plan that this service was delivered to achieve.",
            "validate": "required",
            "constraints": {
              "textProperty": "label",
              "valueProperty": "value",
              "type": "pre-populated",
              "config": {
                "source": {
                  "context-path": "outcomes"
                }
              }
            }
          },
          {
            "name": "investmentPriorities2",
            "dataType": "stringList",
            "validate": "required",
            "constraints": {
              "type": "pre-populated",
              "config": {
                "source": {
                  "params": [
                    {
                      "expression": "owner.projectId",
                      "name": "id",
                      "type": "computed"
                    }
                  ],
                  "url": "/project/listProjectInvestmentPriorities/"
                }
              }
            }
          },
          {
            "dataType": "text",
            "name": "otherInvestmentPriority",
            "behaviour": [
              {
                "type": "enable",
                "condition": "\"Other\" in investmentPriorities2"
              }
            ]
          },
          {
            "dataType": "text",
            "name": "invoicingThisActivity",
            "constraints": [
              "Yes",
              "No"
            ],
            "validate": "required"
          },
          {
            "columns": [
              {
                "dataType": "text",
                "name": "eventType",
                "constraints": [
                  "Field days",
                  "On-ground trials / demonstrations facilitated or hosted",
                  "Training workshops hosted"
                ],
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "numberOfEvents",
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "numberOfParticipants",
                "validate": "required,min[0]"
              },
              {
                "dataType": "number",
                "name": "numberOfIndigenousParticipants",
                "validate": "required,min[0]"
              },
              {
                "dataType": "number",
                "name": "numberOfFarmers",
                "validate": "required,min[0]"
              },
              {
                "dataType": "number",
                "name": "numberOfGroups",
                "validate": "required,min[0]"
              },
              {
                "dataType": "stringList",
                "name": "industryType",
                "constraints": [
                  "Cropping",
                  "Dairy",
                  "Dryland agriculture",
                  "Horticulture",
                  "Grazing",
                  "Fisheries",
                  "Aquaculture",
                  "Environmental"
                ],
                "validate": "required"
              },
              {
                "dataType": "text",
                "name": "eventPurpose",
                "validate": "required,maxSize[300]"
              },
              {
                "dataType": "date",
                "name": "dateFrom",
                "validate": "required"
              },
              {
                "dataType": "date",
                "name": "dateTo",
                "validate": "required"
              }
            ],
            "dataType": "list",
            "name": "events"
          },
          {
            "dataType": "number",
            "name": "totalNumberFieldDays",
            "validate": "required,min[0]",
            "decimalPlaces": 0,
            "defaultValue": 1,
            "computed": {
              "expression": "sum(events, \"eventType == 'Field days' ? 1 : 0\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalNumberFieldDaysInvoiced",
            "validate": "required,min[0]",
            "defaultValue": 1,
            "validate": [
              {
                "param": {
                  "expression": "totalNumberFieldDays",
                  "type": "computed"
                },
                "rule": "max"
              }
            ]
          },
          {
            "dataType": "number",
            "name": "totalNumberTrainingWorkshopEvents",
            "validate": "required,min[0]",
            "decimalPlaces": 0,
            "defaultValue": 1,
            "computed": {
              "expression": "sum(events, \"eventType == 'Training workshops hosted' ? 1 : 0\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalNumberTrainingWorkshopEventsInvoiced",
            "validate": "required,min[0]",
            "defaultValue": 1,
            "validate": [
              {
                "param": {
                  "expression": "totalNumberTrainingWorkshopEvents",
                  "type": "computed"
                },
                "rule": "max"
              }
            ]
          },
          {
            "dataType": "number",
            "name": "totalNumberOnGroundTrials",
            "validate": "required,min[0]",
            "decimalPlaces": 0,
            "defaultValue": 1,
            "computed": {
              "expression": "sum(events, \"eventType == 'On-ground trials / demonstrations facilitated or hosted' ? 1 : 0\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalNumberOnGroundTrialsInvoiced",
            "validate": "required,min[0]",
            "defaultValue": 1,
            "validate": [
              {
                "param": {
                  "expression": "totalNumberOnGroundTrials",
                  "type": "computed"
                },
                "rule": "max"
              }
            ]
          },
          {
            "dataType": "number",
            "name": "totalNumberEngagementHeld",
            "validate": "required,min[0]",
            "decimalPlaces": 0,
            "defaultValue": 1,
            "computed": {
              "expression": "sum(events, \"numberOfEvents\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalNumberEngagementHeldInvoiced",
            "description": "Number of events invoiced for this reporting period.",
            "validate": "required,min[0]",
            "defaultValue": 1,
            "validate": [
              {
                "param": {
                  "expression": "totalNumberEngagementHeld",
                  "type": "computed"
                },
                "rule": "max"
              }
            ]
          },
          {
            "dataType": "text",
            "name": "comments",
            "validate": "maxSize[1500]"
          },
          {
            "dataType": "image",
            "name": "photographicEvidence"
          },
          {
            "dataType": "boolean",
            "name": "dataUploaded",
            "description": "<ul><li>Tick box to confirm data has been uploaded</li><li>URL Link (mandatory if below is ticked) in available evidence</li></ul>"
          },
          {
            "name": "projectAssuranceDetails",
            "dataType": "text",
            "validate": "required,maxSize[5000]",
            "behaviour": [
              {
                "condition": "dataUploaded == true",
                "type": "enable"
              }
            ]
          },
          {
            "dataType": "list",
            "name": "assuranceDocuments",
            "columns": [
              {
                "dataType": "document",
                "name": "attachments",
                "description": "Please attach any Evidence of Service Delivery here."
              }
            ]
          }
        ],
        "modelName": "NHT - Community engagement",
        "title": "Community/Stakeholder Engagement",
        "viewModel": [
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<h3>Participation information</h3>"
              }
            ]
          },
          {
            "columns": [
              {
                "width": "10%",
                "source": "participationIndividualsOrGroups",
                "title": " Are individuals or groups delivering this service?",
                "type": "selectOne"
              },
              {
                "width": "20%",
                "type": "col",
                "title": "Total number of people delivering this service <br>(including First Nations people)",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "participationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "participationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "type": "col",
                "width": "20%",
                "title": "Total number of First Nations people delivering this service ",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "firstNationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "firstNationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "source": "participationDetails",
                "rows": 4,
                "title": "If no First Nations people participated in the delivery of this service, <br>what are the reasons? If there was participation, please provide details.",
                "helpText": "If there were no First Nations people participating in the delivery of this service, please explain the reasons. If there were First Nations people involved, please outline how they were involved.",
                "type": "textarea"
              }
            ],
            "userAddedRows": false,
            "disableTableUpload": false,
            "source": "",
            "type": "table"
          },
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<h3>Totals Summary</h3>"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(i) Total Number of field days for this reporting period",
                        "source": "totalNumberFieldDays",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(ii) Total Number of field days <u><i>invoiced</i></u> for this reporting period",
                        "source": "totalNumberFieldDaysInvoiced",
                        "type": "number"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(iii) Total Number of training / workshop events for this reporting period",
                        "source": "totalNumberTrainingWorkshopEvents",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(iv) Total Number of training / workshop events <u><i>invoiced</i></u> for this reporting period",
                        "source": "totalNumberTrainingWorkshopEventsInvoiced",
                        "type": "number"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(v) Total Number of on-ground trials / demonstrations for this reporting period",
                        "source": "totalNumberOnGroundTrials",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(vi) Total Number of on-ground trials / demonstrations <u><i>invoiced</i></u> for this reporting period",
                        "source": "totalNumberOnGroundTrialsInvoiced",
                        "type": "number"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(vii) Total number of engagement activities held/attended",
                        "source": "totalNumberEngagementHeld",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(viii) Total number of engagement activities invoiced for this reporting period",
                        "source": "totalNumberEngagementHeldInvoiced",
                        "type": "number"
                      }
                    ]
                  }
                ]
              }
            ]
          },
          {
            "type": "section",
            "items": [
              {
                "type": "row",
                "items": [
                  {
                    "css": "span3",
                    "type": "col",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "relatedOutcomes",
                            "type": "selectOne",
                            "preLabel": "Which outcome statement/s does this activity relate to?"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "investmentPriorities2",
                            "preLabel": "Which investment priority does this activity relate to?",
                            "type": "select2Many"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "otherInvestmentPriority",
                            "type": "text"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "css": "span3",
                    "type": "col",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "invoicingThisActivity",
                            "preLabel": "Are you invoicing for this activity in this reporting period?",
                            "type": "selectOne"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "columns": [
                  {
                    "width": "10%",
                    "source": "eventType",
                    "title": "Type of Community / Stakeholder engagement activity",
                    "type": "select2"
                  },
                  {
                    "width": "10%",
                    "source": "numberOfEvents",
                    "title": "Number of engagement activities",
                    "type": "number"
                  },
                  {
                    "width": "10%",
                    "source": "eventPurpose",
                    "title": "Purpose of engagement",
                    "type": "textarea"
                  },
                  {
                    "width": "10%",
                    "source": "numberOfGroups",
                    "title": "Number of communities or groups engaged",
                    "type": "number"
                  },
                  {
                    "width": "10%",
                    "source": "numberOfParticipants",
                    "title": "Total number of attendees / participants",
                    "type": "number"
                  },
                  {
                    "width": "10%",
                    "source": "numberOfIndigenousParticipants",
                    "title": "Number of Indigenous attendees / participants",
                    "type": "number"
                  },
                  {
                    "width": "10%",
                    "source": "numberOfFarmers",
                    "title": "Number of farmers attending / participating",
                    "type": "number"
                  },
                  {
                    "width": "10%",
                    "source": "industryType",
                    "title": "Industry type engaged",
                    "type": "select2Many"
                  },
                  {
                    "width": "10%",
                    "source": "dateFrom",
                    "title": "Date from",
                    "type": "date"
                  },
                  {
                    "width": "10%",
                    "source": "dateTo",
                    "title": "Date to",
                    "type": "date"
                  }
                ],
                "userAddedRows": true,
                "source": "events",
                "type": "table"
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Optionally attach photos",
                    "source": "photographicEvidence",
                    "type": "image"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Clarification, if needed",
                    "type": "textarea",
                    "rows": 4,
                    "css": "span8",
                    "source": "comments",
                    "placeholder": "Clarification comments include information for your project manager about the service like:\n • any reported items that are not being invoiced (eg, over-achievement) \n • any extraneous circumstances that affected delivery of the service \n"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<p><b>Available Evidence</b></p>This field is mandatory for all projects as part of the invoicing process. Please list evidence you have retained for this service and provide information to where the evidence is stored (links/file location data). Refer to the Project Service Evidence Guide and the Project Service Summaries for information on the evidence requirements.<b style=\"color:red\">*</b>"
                  },
                  {
                    "preLabel": "Data have been uploaded",
                    "source": "dataUploaded",
                    "type": "boolean"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "",
                    "source": "projectAssuranceDetails",
                    "type": "textarea",
                    "rows": 4,
                    "placeholder": "List the documentary evidence you have available for this project service. Include specifically, the document titles and location (e.g. internal IT network pathway, URLs) to assist with locating this material for future audits/assurance purposes."
                  }
                ]
              },
              {
                "type": "table",
                "source": "assuranceDocuments",
                "userAddedRows": true,
                "disableTableUpload": true,
                "columns": [
                  {
                    "title": "Attached documents",
                    "source": "attachments",
                    "type": "document"
                  }
                ]
              }
            ]
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtCommunityEngagement",
      "optional": true,
      "optionalQuestionText": null,
      "title": "Community/stakeholder engagement",
      "collapsibleHeading": null,
      "name": "NHT - Community engagement",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "dataModel": [
          {
            "dataType": "text",
            "name": "participationIndividualsOrGroups",
            "description": "Once Individuals or groups is selected, the related number field in the next two columns will become editable to report.",
            "constraints": [
              "Individuals",
              "Groups"
            ],
            "validate": "required"
          },
          {
            "dataType": "number",
            "name": "participationIndividualNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Individuals\"",
                "type": "enable"
              }
            ],
            "validate": "required,min[0]"
          },
          {
            "dataType": "text",
            "name": "participationGroupNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Groups\"",
                "type": "enable"
              }
            ],
            "constraints": [
              "0",
              "1-10",
              "11-20",
              "21-30",
              "31-40",
              "41-50"
            ],
            "validate": "required"
          },
          {
            "dataType": "number",
            "name": "firstNationIndividualNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Individuals\"",
                "type": "enable"
              }
            ],
            "validate": "required,min[0]"
          },
          {
            "dataType": "text",
            "name": "firstNationGroupNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Groups\"",
                "type": "enable"
              }
            ],
            "constraints": [
              "0",
              "1-10",
              "11-20",
              "21-30",
              "31-40",
              "41-50"
            ],
            "validate": "required"
          },
          {
            "dataType": "text",
            "name": "participationDetails",
            "validate": "maxSize[3000]"
          },
          {
            "columns": [
              {
                "columns": [
                  {
                    "dataType": "feature",
                    "name": "protectedSites"
                  },
                  {
                    "computed": {
                      "expression": "$geom.areaHa(protectedSites)"
                    },
                    "dataType": "number",
                    "decimalPlaces": 3,
                    "name": "areaProtectedHa",
                    "units": "ha"
                  },

                  {
                    "dataType": "text",
                    "name": "accessControlType",
                    "description": "",
                    "constraints": [
                      "Boardwalks",
                      "Bollards & barriers",
                      "Constructed parking bays",
                      "Fencing, styles, gates & grids",
                      "Formed traffic ways",
                      "Signage",
                      "Other"
                    ],
                    "validate": "required"
                  },
                  {
                    "dataType": "text",
                    "name": "otherAccessControlType",
                    "description": "Please specify the type of access control if Other (specify in notes) was selected in the Type of Access Control Installed column.",
                    "behaviour": [
                      {
                        "condition": "accessControlType == \"Other\"",
                        "type": "enable"
                      }
                    ],
                    "validate": "required"
                  },
                  {
                    "dataType": "text",
                    "name": "controlObjective",
                    "description": "What is your access control method? and/or What do you intend to achieve by using your structure/s?",
                    "validate": "required,maxSize[300]"
                  },
                  {
                    "dataType": "date",
                    "name": "dateFrom",
                    "validate": "required"
                  },
                  {
                    "dataType": "date",
                    "name": "dateTo",
                    "validate": "required"
                  }
                ],
                "dataType": "list",
                "name": "accessControlDetails"
              },
              {
                "dataType": "number",
                "name": "numberInstalled",
                "validate": "required,min[0]"
              },
              {
                "name": "relatedOutcomes",
                "dataType": "text",
                "description": "Select the outcome/s as defined in your MERI plan that this service was delivered to achieve.",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "value",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "context-path": "outcomes"
                    }
                  }
                }
              },
              {
                "name": "investmentPriorities2",
                "dataType": "stringList",
                "validate": "required",
                "constraints": {
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "params": [
                        {
                          "expression": "owner.projectId",
                          "name": "id",
                          "type": "computed"
                        }
                      ],
                      "url": "/project/listProjectInvestmentPriorities/"
                    }
                  }
                }
              },
              {
                "dataType": "text",
                "name": "otherInvestmentPriority",
                "behaviour": [
                  {
                    "type": "enable",
                    "condition": "\"Other\" in investmentPriorities2"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "invoicingThisActivity",
                "constraints": [
                  "Yes",
                  "No"
                ],
                "validate": "required"
              },
              {
                "dataType": "feature",
                "name": "sitesInstalledForControlAccess",
                "description": "Mapping field to be done and Area (ha)/length (km) field be auto-calculated from mapping.",
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "sitesInstalledCalcAreaHaForControlAccess",
                "computed": {
                  "expression": "$geom.areaHa(sitesInstalledForControlAccess)"
                },
                "units": "ha",
                "decimalPlaces": 3,
                "behaviour": [
                  {
                    "condition": "areaInvoicedHaForControlAccess > 0",
                    "type": "conditional_validation",
                    "value": {
                      "message": "The controlled area must be mapped",
                      "validate": "required,min[0.0001]"
                    }
                  }
                ]
              },
              {
                "dataType": "number",
                "name": "sitesInstalledCalcLengthKmForControlAccess",
                "computed": {
                  "expression": "$geom.lengthKm(sitesInstalledForControlAccess)"
                },
                "units": "km",
                "decimalPlaces": 3,
                "behaviour": [
                  {
                    "condition": "lengthInvoicedKmForControlAccess > 0",
                    "type": "conditional_validation",
                    "value": {
                      "message": "The controlled length must be mapped",
                      "validate": "required,min[0.0001]"
                    }
                  }
                ]
              },
              {
                "dataType": "number",
                "name": "areaInstalledHaForControlAccess",
                "description": "Manually enter correct figure for this reporting period if different to mapped value.",
                "validate": "required,min[0]",
                "units": "ha",
                "decimalPlaces": 3,
                "defaultValue": {
                  "type": "computed",
                  "expression": "sitesInstalledCalcAreaHaForControlAccess"
                }
              },
              {
                "dataType": "number",
                "name": "lengthInstalledKmForControlAccess",
                "validate": "required,min[0]",
                "units": "km",
                "decimalPlaces": 3,
                "defaultValue": {
                  "type": "computed",
                  "expression": "$geom.lengthKm(sitesInstalledForControlAccess)"
                }
              },
              {
                "dataType": "number",
                "name": "areaInvoicedHaForControlAccess",
                "units": "ha",
                "decimalPlaces": 3,
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "rule": "max",
                    "param": {
                      "type": "computed",
                      "expression": "areaInstalledHaForControlAccess"
                    }
                  }
                ]
              },
              {
                "dataType": "number",
                "name": "lengthInvoicedKmForControlAccess",
                "units": "km",
                "decimalPlaces": 3,
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "rule": "max",
                    "param": {
                      "type": "computed",
                      "expression": "lengthInstalledKmForControlAccess"
                    }
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedReason",
                "constraints": [
                  "Mapped area simplifies more complex area/s where work was undertaken during this period",
                  "Other"
                ],
                "validate": "required",
                "behaviour": [
                  {
                    "condition": "not (within(areaInstalledHaForControlAccess, sitesInstalledCalcAreaHaForControlAccess, 0.1))",
                    "type": "if"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedComments",
                "validate": "required,maxSize[100]",
                "behaviour": [
                  {
                    "type": "if",
                    "condition": "not within(areaInstalledHaForControlAccess, sitesInstalledCalcAreaHaForControlAccess, 0.1) and \"Other\" == mappingNotAlignedReason"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingLengthNotAlignedReason",
                "constraints": [
                  "Mapped area simplifies more complex length/s where work was undertaken during this period",
                  "Other"
                ],
                "validate": "required",
                "behaviour": [
                  {
                    "condition": "not (within(lengthInstalledKmForControlAccess, sitesInstalledCalcLengthKmForControlAccess, 0.1))",
                    "type": "if"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingLengthNotAlignedComments",
                "validate": "required,maxSize[100]",
                "behaviour": [
                  {
                    "type": "if",
                    "condition": "not (within(lengthInstalledKmForControlAccess, sitesInstalledCalcLengthKmForControlAccess, 0.1)) and \"Other\" == mappingLengthNotAlignedReason"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "invoicedNotActualReason",
                "constraints": [
                  "Work was undertaken over a greater area than will be invoiced for",
                  "Other"
                ],
                "validate": "required",
                "behaviour": [
                  {
                    "condition": "roundTo(areaInstalledHaForControlAccess, 2) != roundTo(areaInvoicedHaForControlAccess, 2)",
                    "type": "if"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "invoicedNotActualComments",
                "behaviour": [
                  {
                    "type": "if",
                    "condition": "roundTo(areaInstalledHaForControlAccess, 2) != roundTo(areaInvoicedHaForControlAccess, 2) and \"Other\" == invoicedNotActualReason"
                  }
                ],
                "validate": "required,maxSize[300]"
              },
              {
                "dataType": "text",
                "name": "invoicedLengthNotActualReason",
                "constraints": [
                  "Work was undertaken over a greater length than will be invoiced for",
                  "Other"
                ],
                "validate": "required",
                "behaviour": [
                  {
                    "condition": "roundTo(lengthInstalledKmForControlAccess, 2) != roundTo(lengthInvoicedKmForControlAccess, 2)",
                    "type": "if"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "invoicedLengthNotActualComments",
                "behaviour": [
                  {
                    "type": "if",
                    "condition": "roundTo(lengthInstalledKmForControlAccess, 2) != roundTo(lengthInvoicedKmForControlAccess, 2) and \"Other\" == invoicedLengthNotActualReason"
                  }
                ],
                "validate": "required,maxSize[300]"
              },
              {
                "dataType": "document",
                "name": "extraMappingDetails",
                "validate": "required",
                "description": "Please fill in the Mapped/Actual/Invoice fields before attaching a document here. If those fields match this field will be void. <br/>If any of these fields differ please attach your organisation's detailed map for the area, covered by this project service - during reporting period (include the scale measure for each map).",
                "behaviour": [
                  {
                    "condition": "not (within(areaInstalledHaForControlAccess, sitesInstalledCalcAreaHaForControlAccess, 0.1)) or roundTo(areaInstalledHaForControlAccess, 2) != roundTo(areaInvoicedHa, 2)",
                    "type": "if"
                  }
                ]
              },
              {
                "dataType": "number",
                "name": "areaInstalledHaForControlAccess",
                "validate": "required,min[0]",
                "units": "ha",
                "decimalPlaces": 3,
                "defaultValue": {
                  "type": "computed",
                  "expression": "$geom.areaHa(sitesInstalledForControlAccess)"
                }
              },
              {
                "dataType": "number",
                "name": "lengthInstalledKmForControlAccess",
                "validate": "required,min[0]",
                "units": "km",
                "decimalPlaces": 3,
                "defaultValue": {
                  "type": "computed",
                  "expression": "$geom.lengthKm(sitesInstalledForControlAccess)"
                }
              },
              {
                "dataType": "number",
                "name": "areaInvoicedHaForControlAccess",
                "units": "ha",
                "decimalPlaces": 3,
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "rule": "max",
                    "param": {
                      "type": "computed",
                      "expression": "areaInstalledHaForControlAccess"
                    }
                  }
                ]
              },
              {
                "dataType": "number",
                "name": "lengthInvoicedKmForControlAccess",
                "units": "km",
                "decimalPlaces": 3,
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "rule": "max",
                    "param": {
                      "type": "computed",
                      "expression": "lengthInstalledKmForControlAccess"
                    }
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedReason",
                "constraints": [
                  "Mapped area simplifies more complex area/s where work was undertaken during this period",
                  "Other"
                ],
                "validate": "required",
                "behaviour": [
                  {
                    "condition": "not (within(areaInstalledHaForControlAccess, sitesInstalledCalcAreaHaForControlAccess, 0.1))",
                    "type": "if"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedComments",
                "validate": "required,maxSize[100]",
                "behaviour": [
                  {
                    "type": "if",
                    "condition": "not within(areaInstalledHaForControlAccess, sitesInstalledCalcAreaHaForControlAccess, 0.1) and \"Other\" == mappingNotAlignedReason"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingLengthNotAlignedReason",
                "constraints": [
                  "Mapped area simplifies more complex length/s where work was undertaken during this period",
                  "Other"
                ],
                "validate": "required",
                "behaviour": [
                  {
                    "condition": "not (within(lengthInstalledKmForControlAccess, sitesInstalledCalcLengthKmForControlAccess, 0.1))",
                    "type": "if"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingLengthNotAlignedComments",
                "validate": "required,maxSize[100]",
                "behaviour": [
                  {
                    "type": "if",
                    "condition": "not (within(lengthInstalledKmForControlAccess, sitesInstalledCalcLengthKmForControlAccess, 0.1)) and \"Other\" == mappingLengthNotAlignedReason"
                  }
                ]
              },
              {
                "dataType": "number",
                "name": "areaInvoicedHaForControlAccess",
                "units": "ha",
                "decimalPlaces": 3,
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "rule": "max",
                    "param": {
                      "type": "computed",
                      "expression": "areaInstalledHaForControlAccess"
                    }
                  }
                ]
              },
              {
                "dataType": "number",
                "name": "lengthInvoicedKmForControlAccess",
                "units": "km",
                "decimalPlaces": 3,
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "rule": "max",
                    "param": {
                      "type": "computed",
                      "expression": "lengthInstalledKmForControlAccess"
                    }
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedReason",
                "constraints": [
                  "Mapped area simplifies more complex area/s where work was undertaken during this period",
                  "Other"
                ],
                "validate": "required",
                "behaviour": [
                  {
                    "condition": "not (within(areaInstalledHaForControlAccess, sitesInstalledCalcAreaHaForControlAccess, 0.1))",
                    "type": "if"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedComments",
                "validate": "required,maxSize[100]",
                "behaviour": [
                  {
                    "type": "if",
                    "condition": "not within(areaInstalledHaForControlAccess, sitesInstalledCalcAreaHaForControlAccess, 0.1) and \"Other\" == mappingNotAlignedReason"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingLengthNotAlignedReason",
                "constraints": [
                  "Mapped area simplifies more complex length/s where work was undertaken during this period",
                  "Other"
                ],
                "validate": "required",
                "behaviour": [
                  {
                    "condition": "not (within(lengthInstalledKmForControlAccess, sitesInstalledCalcLengthKmForControlAccess, 0.1))",
                    "type": "if"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingLengthNotAlignedComments",
                "validate": "required,maxSize[100]",
                "behaviour": [
                  {
                    "type": "if",
                    "condition": "not (within(lengthInstalledKmForControlAccess, sitesInstalledCalcLengthKmForControlAccess, 0.1)) and \"Other\" == mappingLengthNotAlignedReason"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "invoicedNotActualReason",
                "constraints": [
                  "Work was undertaken over a greater area than will be invoiced for",
                  "Other"
                ],
                "validate": "required",
                "behaviour": [
                  {
                    "condition": "roundTo(areaInstalledHaForControlAccess, 2) != roundTo(areaInvoicedHaForControlAccess, 2)",
                    "type": "if"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "invoicedNotActualComments",
                "behaviour": [
                  {
                    "type": "if",
                    "condition": "roundTo(areaInstalledHaForControlAccess, 2) != roundTo(areaInvoicedHaForControlAccess, 2) and \"Other\" == invoicedNotActualReason"
                  }
                ],
                "validate": "required,maxSize[300]"
              },
              {
                "dataType": "text",
                "name": "invoicedLengthNotActualReason",
                "constraints": [
                  "Work was undertaken over a greater length than will be invoiced for",
                  "Other"
                ],
                "validate": "required",
                "behaviour": [
                  {
                    "condition": "roundTo(lengthInstalledKmForControlAccess, 2) != roundTo(lengthInvoicedKmForControlAccess, 2)",
                    "type": "if"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "invoicedLengthNotActualComments",
                "behaviour": [
                  {
                    "type": "if",
                    "condition": "roundTo(lengthInstalledKmForControlAccess, 2) != roundTo(lengthInvoicedKmForControlAccess, 2) and \"Other\" == invoicedLengthNotActualReason"
                  }
                ],
                "validate": "required,maxSize[300]"
              }
            ],
            "dataType": "list",
            "name": "controllingAccessAreasControlled"
          },
          {
            "dataType": "number",
            "name": "totalStructuresInstalled",
            "validate": "required,min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(controllingAccessAreasControlled, \"numberInstalled\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalStructuresInstalledInvoiced",
            "validate": [
              {
                "param": {
                  "expression": "totalStructuresInstalled",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": 1
          },
          {
            "dataType": "number",
            "name": "totalLengthStructuresInstalled",
            "validate": "required,min[0]",
            "decimalPlaces": 3,
            "computed": {
              "expression": "sum(controllingAccessAreasControlled, \"lengthInstalledKmForControlAccess\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalLengthStructuresInstalledInvoiced",
            "validate": [
              {
                "param": {
                  "expression": "totalLengthStructuresInstalled",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": 1
          },
          {
            "dataType": "number",
            "name": "totalAreaStructuresInstalled",
            "validate": "required,min[0]",
            "decimalPlaces": 3,
            "computed": {
              "expression": "sum(controllingAccessAreasControlled, \"areaInstalledHaForControlAccess\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalAreaStructuresInstalledInvoiced",
            "validate": [
              {
                "param": {
                  "expression": "totalAreaStructuresInstalled",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": 1
          },
          {
            "dataType": "text",
            "name": "comments",
            "validate": "maxSize[1500]"
          },
          {
            "dataType": "image",
            "name": "photographicEvidence"
          },
          {
            "dataType": "boolean",
            "name": "dataUploaded",
            "description": "<ul><li>Tick box to confirm data has been uploaded</li><li>URL Link (mandatory if below is ticked) in available evidence</li></ul>"
          },
          {
            "name": "projectAssuranceDetails",
            "dataType": "text",
            "validate": "required,maxSize[5000]",
            "behaviour": [
              {
                "condition": "dataUploaded == true",
                "type": "enable"
              }
            ]
          },
          {
            "dataType": "list",
            "name": "assuranceDocuments",
            "columns": [
              {
                "dataType": "document",
                "name": "attachments",
                "description": "Please attach any Evidence of Service Delivery here."
              }
            ]
          }
        ],
        "modelName": "NHT - Controlling access",
        "title": "Controlling Access",
        "viewModel": [
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<h3>Participation information</h3>"
              }
            ]
          },
          {
            "columns": [
              {
                "width": "10%",
                "source": "participationIndividualsOrGroups",
                "title": " Are individuals or groups delivering this service?",
                "type": "selectOne"
              },
              {
                "width": "20%",
                "type": "col",
                "title": "Total number of people delivering this service <br>(including First Nations people)",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "participationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "participationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "type": "col",
                "width": "20%",
                "title": "Total number of First Nations people delivering this service ",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "firstNationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "firstNationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "source": "participationDetails",
                "rows": 4,
                "title": "If no First Nations people participated in the delivery of this service, <br>what are the reasons? If there was participation, please provide details.",
                "helpText": "If there were no First Nations people participating in the delivery of this service, please explain the reasons. If there were First Nations people involved, please outline how they were involved.",
                "type": "textarea"
              }
            ],
            "userAddedRows": false,
            "disableTableUpload": false,
            "source": "",
            "type": "table"
          },
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<h3>Totals Summary</h3>"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(i) Total number of structures installed that control access for this reporting period",
                        "source": "totalStructuresInstalled",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(ii) Total number of structures that control access invoiced for this reporting period",
                        "source": "totalStructuresInstalledInvoiced",
                        "type": "number"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(iii) Total length (km) of structures installed that control access for this reporting period",
                        "source": "totalLengthStructuresInstalled",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(iv) Total length (km) of structures installed that control access invoiced for this reporting period",
                        "source": "totalLengthStructuresInstalledInvoiced",
                        "type": "number"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(v) Total area (ha) of structures installed that control access for this reporting period",
                        "source": "totalAreaStructuresInstalled",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(vi) Total area (ha) of structures installed that control access invoiced for this reporting period",
                        "source": "totalAreaStructuresInstalledInvoiced",
                        "type": "number"
                      }
                    ]
                  }
                ]
              }
            ]
          },
          {
            "addRowText": "Add a new controlled area",
            "userAddedRows": true,
            "source": "controllingAccessAreasControlled",
            "type": "repeat",
            "items": [
              {
                "type": "row",
                "items": [
                  {
                    "css": "span3",
                    "type": "col",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "relatedOutcomes",
                            "type": "selectOne",
                            "preLabel": "Which outcome statement/s does this activity relate to?"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "investmentPriorities2",
                            "preLabel": "Which investment priority does this activity relate to?",
                            "type": "select2Many"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "otherInvestmentPriority",
                            "type": "text"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "css": "span3",
                    "type": "col",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "invoicingThisActivity",
                            "preLabel": "Are you invoicing for this activity in this reporting period?",
                            "type": "selectOne"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "row",
                "css": "border-bottom",
                "items": [
                  {
                    "css": "span3",
                    "type": "col",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "numberInstalled",
                            "preLabel": "Number of structures installed",
                            "type": "number"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "sitesInstalledForControlAccess",
                            "type": "feature",
                            "preLabel": "Site/s where access has been controlled"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "sitesInstalledCalcAreaHaForControlAccess",
                            "type": "number",
                            "readonly": true,
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "sitesInstalledCalcLengthKmForControlAccess",
                            "type": "number",
                            "readonly": true,
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Please attach mapping details",
                            "source": "extraMappingDetails",
                            "type": "document"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Actual area (ha) where access has been controlled",
                            "source": "areaInstalledHaForControlAccess",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Reason for actual area being different to mapped amount",
                            "source": "mappingNotAlignedReason",
                            "type": "selectOne"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "placeholder": "Please enter the reason/s the mapping area didn't align with the invoiced amount",
                            "source": "mappingNotAlignedComments",
                            "type": "textarea",
                            "rows": 5
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Actual length (km) where access has been controlled",
                            "source": "lengthInstalledKmForControlAccess",
                            "type": "number",
                            "validate": "required",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Reason for actual length being different to mapped amount",
                            "source": "mappingLengthNotAlignedReason",
                            "type": "selectOne"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "placeholder": "Please enter the reason/s the mapping length didn't align with the invoiced amount",
                            "source": "mappingLengthNotAlignedComments",
                            "type": "textarea",
                            "rows": 5
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Invoiced area (ha) where access has been controlled",
                            "helpText": "",
                            "source": "areaInvoicedHaForControlAccess",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Reason for invoiced amount being different to actual amount",
                            "source": "invoicedNotActualReason",
                            "type": "selectOne"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "placeholder": "Please enter the reason/s the mapping didn't align with the invoiced amount",
                            "source": "invoicedNotActualComments",
                            "type": "textarea",
                            "rows": 5
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Invoiced length (km) where access has been controlled",
                            "helpText": "",
                            "source": "lengthInvoicedKmForControlAccess",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Reason for invoiced amount being different to actual amount",
                            "source": "invoicedLengthNotActualReason",
                            "type": "selectOne"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "placeholder": "Please enter the reason/s the mapping didn't align with the invoiced amount",
                            "source": "invoicedLengthNotActualComments",
                            "type": "textarea",
                            "rows": 5
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "columns": [
                  {
                    "width": "20%",
                    "type": "col",
                    "title": "Site/s protected by access control structures",
                    "items": [
                      {
                        "source": "protectedSites",
                        "type": "feature"
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "readonly": true,
                            "source": "areaProtectedHa",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "width": "20%",
                    "type": "col",
                    "title": "Type of access control installed",
                    "items": [
                      {
                        "source": "accessControlType",
                        "type": "select2"
                      },
                      {
                        "source": "otherAccessControlType",
                        "type": "text"
                      }
                    ]
                  },
                  {
                    "width": "30%",
                    "source": "controlObjective",
                    "title": "Control objective",
                    "type": "textarea",
                    "rows": 5
                  },
                  {
                    "width": "15%",
                    "source": "dateFrom",
                    "title": "Date from",
                    "type": "date"
                  },
                  {
                    "width": "15%",
                    "source": "dateTo",
                    "title": "Date to",
                    "type": "date"
                  }
                ],
                "userAddedRows": true,
                "source": "accessControlDetails",
                "type": "table"
              }

            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "Optionally attach photos",
                "source": "photographicEvidence",
                "type": "image"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "Clarification, if needed",
                "type": "textarea",
                "rows": 4,
                "css": "span8",
                "source": "comments",
                "placeholder": "Clarification comments include information for your project manager about the service like:\n • any reported items that are not being invoiced (eg, over-achievement) \n • any extraneous circumstances that affected delivery of the service \n"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<p><b>Available Evidence</b></p>This field is mandatory for all projects as part of the invoicing process. Please list evidence you have retained for this service and provide information to where the evidence is stored (links/file location data). Refer to the Project Service Evidence Guide and the Project Service Summaries for information on the evidence requirements.<b style=\"color:red\">*</b>"
              },
              {
                "preLabel": "Data have been uploaded",
                "source": "dataUploaded",
                "type": "boolean"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "",
                "source": "projectAssuranceDetails",
                "type": "textarea",
                "rows": 4,
                "placeholder": "List the documentary evidence you have available for this project service. Include specifically, the document titles and location (e.g. internal IT network pathway, URLs) to assist with locating this material for future audits/assurance purposes."
              }
            ]
          },
          {
            "type": "table",
            "source": "assuranceDocuments",
            "userAddedRows": true,
            "disableTableUpload": true,
            "columns": [
              {
                "title": "Attached documents",
                "source": "attachments",
                "type": "document"
              }
            ]
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtControllingAccess",
      "optional": true,
      "optionalQuestionText": null,
      "title": "Controlling access",
      "collapsibleHeading": null,
      "name": "NHT - Controlling access",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "dataModel": [
          {
            "dataType": "text",
            "name": "participationIndividualsOrGroups",
            "description": "Once Individuals or groups is selected, the related number field in the next two columns will become editable to report.",
            "constraints": [
              "Individuals",
              "Groups"
            ],
            "validate": "required"
          },
          {
            "dataType": "number",
            "name": "participationIndividualNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Individuals\"",
                "type": "enable"
              }
            ],
            "validate": "required,min[0]"
          },
          {
            "dataType": "text",
            "name": "participationGroupNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Groups\"",
                "type": "enable"
              }
            ],
            "constraints": [
              "0",
              "1-10",
              "11-20",
              "21-30",
              "31-40",
              "41-50"
            ],
            "validate": "required"
          },
          {
            "dataType": "number",
            "name": "firstNationIndividualNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Individuals\"",
                "type": "enable"
              }
            ],
            "validate": "required,min[0]"
          },
          {
            "dataType": "text",
            "name": "firstNationGroupNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Groups\"",
                "type": "enable"
              }
            ],
            "constraints": [
              "0",
              "1-10",
              "11-20",
              "21-30",
              "31-40",
              "41-50"
            ],
            "validate": "required"
          },
          {
            "dataType": "text",
            "name": "participationDetails",
            "validate": "maxSize[3000]"
          },
          {
            "columns": [
              {
                "dataType": "text",
                "name": "initialOrFollowup",
                "constraints": [
                  "Initial",
                  "Follow-up"
                ],
                "validate": "required"
              },
              {
                "dataType": "feature",
                "name": "sitesUndertakenForPestControl",
                "description": "Mapping field to be done and Area (ha)/length (km) field be auto-calculated from mapping.",
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "siteCalculatedAreaHa",
                "computed": {
                  "expression": "$geom.areaHa(sitesUndertakenForPestControl)"
                },
                "units": "ha",
                "decimalPlaces": 3,
                "behaviour": [
                  {
                    "condition": "areaInvoicedHa > 0",
                    "type": "conditional_validation",
                    "value": {
                      "message": "The controlled area must be mapped",
                      "validate": "required,min[0.0001]"
                    }
                  }
                ]
              },
              {
                "dataType": "number",
                "name": "siteCalculatedLengthKm",
                "computed": {
                  "expression": "$geom.lengthKm(sitesUndertakenForPestControl)"
                },
                "units": "km",
                "decimalPlaces": 3,
                "behaviour": [
                  {
                    "condition": "lengthInvoicedKm > 0",
                    "type": "conditional_validation",
                    "value": {
                      "message": "The controlled length must be mapped",
                      "validate": "required,min[0.0001]"
                    }
                  }
                ]
              },
              {
                "dataType": "number",
                "name": "areaControlledHa",
                "description": "Manually enter correct figure for this reporting period if different to mapped value.",
                "validate": "required,min[0]",
                "units": "ha",
                "decimalPlaces": 3,
                "defaultValue": {
                  "type": "computed",
                  "expression": "siteCalculatedAreaHa"
                }
              },
              {
                "dataType": "number",
                "name": "lengthControlledKm",
                "validate": "required,min[0]",
                "units": "km",
                "decimalPlaces": 3,
                "defaultValue": {
                  "type": "computed",
                  "expression": "$geom.lengthKm(sitesUndertakenForPestControl)"
                }
              },
              {
                "dataType": "number",
                "name": "areaInvoicedHa",
                "units": "ha",
                "decimalPlaces": 3,
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "rule": "max",
                    "param": {
                      "type": "computed",
                      "expression": "areaControlledHa"
                    }
                  }
                ]
              },
              {
                "dataType": "number",
                "name": "lengthInvoicedKm",
                "units": "km",
                "decimalPlaces": 3,
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "rule": "max",
                    "param": {
                      "type": "computed",
                      "expression": "lengthControlledKm"
                    }
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedReason",
                "constraints": [
                  "Mapped area simplifies more complex area/s where work was undertaken during this period",
                  "Other"
                ],
                "validate": "required",
                "behaviour": [
                  {
                    "condition": "not (within(areaControlledHa, siteCalculatedAreaHa, 0.1))",
                    "type": "if"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedComments",
                "validate": "required,maxSize[100]",
                "behaviour": [
                  {
                    "type": "if",
                    "condition": "not within(areaControlledHa, siteCalculatedAreaHa, 0.1) and \"Other\" == mappingNotAlignedReason"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingLengthNotAlignedReason",
                "constraints": [
                  "Mapped area simplifies more complex length/s where work was undertaken during this period",
                  "Other"
                ],
                "validate": "required",
                "behaviour": [
                  {
                    "condition": "not (within(lengthControlledKm, siteCalculatedLengthKm, 0.1))",
                    "type": "if"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingLengthNotAlignedComments",
                "validate": "required,maxSize[100]",
                "behaviour": [
                  {
                    "type": "if",
                    "condition": "not (within(lengthControlledKm, siteCalculatedLengthKm, 0.1)) and \"Other\" == mappingLengthNotAlignedReason"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "invoicedNotActualReason",
                "constraints": [
                  "Work was undertaken over a greater area than will be invoiced for",
                  "Other"
                ],
                "validate": "required",
                "behaviour": [
                  {
                    "condition": "roundTo(areaControlledHa, 2) != roundTo(areaInvoicedHa, 2)",
                    "type": "if"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "invoicedNotActualComments",
                "behaviour": [
                  {
                    "type": "if",
                    "condition": "roundTo(areaControlledHa, 2) != roundTo(areaInvoicedHa, 2) and \"Other\" == invoicedNotActualReason"
                  }
                ],
                "validate": "required,maxSize[300]"
              },
              {
                "dataType": "text",
                "name": "invoicedLengthNotActualReason",
                "constraints": [
                  "Work was undertaken over a greater length than will be invoiced for",
                  "Other"
                ],
                "validate": "required",
                "behaviour": [
                  {
                    "condition": "roundTo(lengthControlledKm, 2) != roundTo(lengthInvoicedKm, 2)",
                    "type": "if"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "invoicedLengthNotActualComments",
                "behaviour": [
                  {
                    "type": "if",
                    "condition": "roundTo(lengthControlledKm, 2) != roundTo(lengthInvoicedKm, 2) and \"Other\" == invoicedLengthNotActualReason"
                  }
                ],
                "validate": "required,maxSize[300]"
              },
              {
                "dataType": "document",
                "name": "extraMappingDetails",
                "validate": "required",
                "description": "Please fill in the Mapped/Actual/Invoice fields before attaching a document here. If those fields match this field will be void. <br/>If any of these fields differ please attach your organisation's detailed map for the area, covered by this project service - during reporting period (include the scale measure for each map).",
                "behaviour": [
                  {
                    "condition": "not (within(areaControlledHa, siteCalculatedAreaHa, 0.1)) or roundTo(areaControlledHa, 2) != roundTo(areaInvoicedHa, 2)",
                    "type": "if"
                  }
                ]
              },
              {
                "dataType": "number",
                "name": "areaControlledHa",
                "validate": "required,min[0]",
                "units": "ha",
                "decimalPlaces": 3,
                "defaultValue": {
                  "type": "computed",
                  "expression": "$geom.areaHa(sitesUndertakenForPestControl)"
                }
              },
              {
                "dataType": "number",
                "name": "lengthControlledKm",
                "validate": "required,min[0]",
                "units": "km",
                "decimalPlaces": 3,
                "defaultValue": {
                  "type": "computed",
                  "expression": "$geom.lengthKm(sitesUndertakenForPestControl)"
                }
              },
              {
                "dataType": "number",
                "name": "areaInvoicedHa",
                "units": "ha",
                "decimalPlaces": 3,
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "rule": "max",
                    "param": {
                      "type": "computed",
                      "expression": "areaControlledHa"
                    }
                  }
                ]
              },
              {
                "dataType": "number",
                "name": "lengthInvoicedKm",
                "units": "km",
                "decimalPlaces": 3,
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "rule": "max",
                    "param": {
                      "type": "computed",
                      "expression": "lengthControlledKm"
                    }
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedReason",
                "constraints": [
                  "Mapped area simplifies more complex area/s where work was undertaken during this period",
                  "Other"
                ],
                "validate": "required",
                "behaviour": [
                  {
                    "condition": "not (within(areaControlledHa, siteCalculatedAreaHa, 0.1))",
                    "type": "if"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedComments",
                "validate": "required,maxSize[100]",
                "behaviour": [
                  {
                    "type": "if",
                    "condition": "not within(areaControlledHa, siteCalculatedAreaHa, 0.1) and \"Other\" == mappingNotAlignedReason"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingLengthNotAlignedReason",
                "constraints": [
                  "Mapped area simplifies more complex length/s where work was undertaken during this period",
                  "Other"
                ],
                "validate": "required",
                "behaviour": [
                  {
                    "condition": "not (within(lengthControlledKm, siteCalculatedLengthKm, 0.1))",
                    "type": "if"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingLengthNotAlignedComments",
                "validate": "required,maxSize[100]",
                "behaviour": [
                  {
                    "type": "if",
                    "condition": "not (within(lengthControlledKm, siteCalculatedLengthKm, 0.1)) and \"Other\" == mappingLengthNotAlignedReason"
                  }
                ]
              },
              {
                "dataType": "number",
                "name": "areaInvoicedHa",
                "units": "ha",
                "decimalPlaces": 3,
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "rule": "max",
                    "param": {
                      "type": "computed",
                      "expression": "areaControlledHa"
                    }
                  }
                ]
              },
              {
                "dataType": "number",
                "name": "lengthInvoicedKm",
                "units": "km",
                "decimalPlaces": 3,
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "rule": "max",
                    "param": {
                      "type": "computed",
                      "expression": "lengthControlledKm"
                    }
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedReason",
                "constraints": [
                  "Mapped area simplifies more complex area/s where work was undertaken during this period",
                  "Other"
                ],
                "validate": "required",
                "behaviour": [
                  {
                    "condition": "not (within(areaControlledHa, siteCalculatedAreaHa, 0.1))",
                    "type": "if"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedComments",
                "validate": "required,maxSize[100]",
                "behaviour": [
                  {
                    "type": "if",
                    "condition": "not within(areaControlledHa, siteCalculatedAreaHa, 0.1) and \"Other\" == mappingNotAlignedReason"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingLengthNotAlignedReason",
                "constraints": [
                  "Mapped area simplifies more complex length/s where work was undertaken during this period",
                  "Other"
                ],
                "validate": "required",
                "behaviour": [
                  {
                    "condition": "not (within(lengthControlledKm, siteCalculatedLengthKm, 0.1))",
                    "type": "if"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingLengthNotAlignedComments",
                "validate": "required,maxSize[100]",
                "behaviour": [
                  {
                    "type": "if",
                    "condition": "not (within(lengthControlledKm, siteCalculatedLengthKm, 0.1)) and \"Other\" == mappingLengthNotAlignedReason"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "invoicedNotActualReason",
                "constraints": [
                  "Work was undertaken over a greater area than will be invoiced for",
                  "Other"
                ],
                "validate": "required",
                "behaviour": [
                  {
                    "condition": "roundTo(areaControlledHa, 2) != roundTo(areaInvoicedHa, 2)",
                    "type": "if"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "invoicedNotActualComments",
                "behaviour": [
                  {
                    "type": "if",
                    "condition": "roundTo(areaControlledHa, 2) != roundTo(areaInvoicedHa, 2) and \"Other\" == invoicedNotActualReason"
                  }
                ],
                "validate": "required,maxSize[300]"
              },
              {
                "dataType": "text",
                "name": "invoicedLengthNotActualReason",
                "constraints": [
                  "Work was undertaken over a greater length than will be invoiced for",
                  "Other"
                ],
                "validate": "required",
                "behaviour": [
                  {
                    "condition": "roundTo(lengthControlledKm, 2) != roundTo(lengthInvoicedKm, 2)",
                    "type": "if"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "invoicedLengthNotActualComments",
                "behaviour": [
                  {
                    "type": "if",
                    "condition": "roundTo(lengthControlledKm, 2) != roundTo(lengthInvoicedKm, 2) and \"Other\" == invoicedLengthNotActualReason"
                  }
                ],
                "validate": "required,maxSize[300]"
              },
              {
                "dataType": "number",
                "name": "noStructuresInstalled",
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "invoiceLocationsStructures",
                "validate": "required"
              },
              {
                "columns": [
                  {
                    "dataType": "species",
                    "name": "pestSpecies",
                    "dwcAttribute": "scientificName",
                    "description": "Pest species targeted for treatment (start typing a  scientific or common name for a species).",
                    "validate": "required"
                  },
                  {
                    "dataType": "text",
                    "name": "pestManagementMethod",
                    "dwcAttribute": "treatmentMethod",
                    "description": "The method used in this activity to manage pests.",
                    "constraints": [
                      "Aerial shoot",
                      "Bait & trap",
                      "Bait only",
                      "Feral free enclosure",
                      "Exclusion fencing",
                      "Fumigation",
                      "Ground shoot",
                      "Trap & cull",
                      "Trap & remove",
                      "Other"
                    ],
                    "validate": "required"
                  },
                  {
                    "dataType": "text",
                    "name": "otherManagementMethod",
                    "description": "Please specify the management method used if Other was selected in the Management Method column.",
                    "behaviour": [
                      {
                        "condition": "pestManagementMethod == \"Other\"",
                        "type": "enable"
                      }
                    ],
                    "validate": "required,maxSize[100]"
                  },
                  {
                    "dataType": "text",
                    "name": "treatmentObjective",
                    "validate": "required,maxSize[300]"
                  },
                  {
                    "dataType": "text",
                    "name": "individualsOrColonies",
                    "constraints": [
                      "Colonies",
                      "Individuals"
                    ],
                    "validate": "required"
                  },
                  {
                    "dataType": "number",
                    "name": "individualsOrColoniesRemoved",
                    "validate": "required"
                  }
                ],
                "dataType": "list",
                "name": "pestAnimalsControlled"
              },
              {
                "name": "relatedOutcomes",
                "dataType": "text",
                "description": "Select the outcome/s as defined in your MERI plan that this service was delivered to achieve.",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "value",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "context-path": "outcomes"
                    }
                  }
                }
              },
              {
                "name": "investmentPriorities2",
                "dataType": "stringList",
                "validate": "required",
                "constraints": {
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "params": [
                        {
                          "expression": "owner.projectId",
                          "name": "id",
                          "type": "computed"
                        }
                      ],
                      "url": "/project/listProjectInvestmentPriorities/"
                    }
                  }
                }
              },
              {
                "dataType": "text",
                "name": "otherInvestmentPriority",
                "behaviour": [
                  {
                    "type": "enable",
                    "condition": "\"Other\" in investmentPriorities2"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "invoicingThisActivity",
                "constraints": [
                  "Yes",
                  "No"
                ],
                "validate": "required"
              }
            ],
            "dataType": "list",
            "name": "areasControlled"
          },
          {
            "name": "pestSurveyCountHeader",
            "type": "number",
            "decimalPlaces": 0,
            "computed": {
              "expression": "count(areasControlled, \"relatedOutcomes\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalAreaPestAnimalsTreatedInitial",
            "validate": "required,min[0]",
            "decimalPlaces": 3,
            "computed": {
              "expression": "sum(areasControlled, \"areaControlledHa\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalAreaPestAnimalsTreatedInitialInvoiced",
            "validate": [
              {
                "param": {
                  "expression": "totalAreaPestAnimalsTreatedInitial",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": 1
          },
          {
            "dataType": "number",
            "name": "totalAreaPestAnimalsTreatedFollowUp",
            "validate": "required,min[0]",
            "decimalPlaces": 3,
            "computed": {
              "expression": "sum(areasControlled, \"areaControlledHa\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalAreaPestAnimalsTreatedFollowUpInvoiced",
            "validate": [
              {
                "param": {
                  "expression": "totalAreaPestAnimalsTreatedFollowUp",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": 1
          },
          {
            "dataType": "number",
            "name": "totalLengthPestAnimalsTreatedInitial",
            "validate": "required,min[0]",
            "decimalPlaces": 3,
            "computed": {
              "expression": "sum(areasControlled, \"lengthControlledKm\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalLengthPestAnimalsTreatedInitialInvoiced",
            "validate": [
              {
                "param": {
                  "expression": "totalLengthPestAnimalsTreatedInitial",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": 1
          },
          {
            "dataType": "number",
            "name": "totalLengthPestAnimalsTreatedFollowUp",
            "validate": "required,min[0]",
            "decimalPlaces": 3,
            "computed": {
              "expression": "sum(areasControlled, \"lengthControlledKm\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalLengthPestAnimalsTreatedFollowUpInvoiced",
            "validate": [
              {
                "param": {
                  "expression": "totalLengthPestAnimalsTreatedFollowUp",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": 1
          },
          {
            "dataType": "text",
            "name": "comments",
            "validate": "maxSize[1500]"
          },
          {
            "dataType": "image",
            "name": "photographicEvidence"
          },
          {
            "dataType": "boolean",
            "name": "dataUploaded",
            "description": ""
          },
          {
            "dataType": "text",
            "name": "projectAssuranceDetails",
            "description": ""
          },
          {
            "dataType": "list",
            "name": "assuranceDocuments",
            "columns": [
              {
                "dataType": "document",
                "name": "attachments",
                "description": "Please attach any Evidence of Service Delivery here."
              }
            ]
          }
        ],
        "modelName": "NHT - Pest animal management",
        "title": "Controlling Pest Animals",
        "viewModel": [
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<h3>Participation information</h3>"
              }
            ]
          },
          {
            "columns": [
              {
                "width": "10%",
                "source": "participationIndividualsOrGroups",
                "title": " Are individuals or groups delivering this service?",
                "type": "selectOne"
              },
              {
                "width": "20%",
                "type": "col",
                "title": "Total number of people delivering this service <br>(including First Nations people)",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "participationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "participationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "type": "col",
                "width": "20%",
                "title": "Total number of First Nations people delivering this service ",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "firstNationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "firstNationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "source": "participationDetails",
                "rows": 4,
                "title": "If no First Nations people participated in the delivery of this service, <br>what are the reasons? If there was participation, please provide details.",
                "helpText": "If there were no First Nations people participating in the delivery of this service, please explain the reasons. If there were First Nations people involved, please outline how they were involved.",
                "type": "textarea"
              }
            ],
            "userAddedRows": false,
            "disableTableUpload": false,
            "source": "",
            "type": "table"
          },
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<h3>Totals Summary</h3>"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(i) Total area (ha) of treated for pest animals for this reporting period (Initial)",
                        "source": "totalAreaPestAnimalsTreatedInitial",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(ii) Total area (ha) of treated for pest animals <u><i>invoiced</i></u> for this reporting period (Initial)",
                        "source": "totalAreaPestAnimalsTreatedInitialInvoiced",
                        "type": "number"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(iii) Total area (ha) of treated for pest animals for this reporting period (follow up)",
                        "source": "totalAreaPestAnimalsTreatedFollowUp",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(iv) Total area (ha) of treated for pest animals <u><i>invoiced</i></u> for this reporting period (follow up)",
                        "source": "totalAreaPestAnimalsTreatedFollowUpInvoiced",
                        "type": "number"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(v) Total length (km) of treated for pest animals for this reporting period (initial)",
                        "source": "totalLengthPestAnimalsTreatedInitial",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(vi) Total length (km) of treated for pest animals <u><i>invoiced</i></u> for this reporting period (initial)",
                        "source": "totalLengthPestAnimalsTreatedInitialInvoiced",
                        "type": "number"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(vii) Total length (km) of treated for pest animals for this reporting period (follow up)",
                        "source": "totalLengthPestAnimalsTreatedFollowUp",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(viii) Total length (km) of treated for pest animals <u><i>invoiced</i></u> for this reporting period (follow up)",
                        "source": "totalLengthPestAnimalsTreatedFollowUpInvoiced",
                        "type": "number"
                      }
                    ]
                  }
                ]
              }
            ]
          },
          {
            "addRowText": "Add a new controlled area",
            "userAddedRows": true,
            "source": "areasControlled",
            "type": "repeat",
            "items": [
              {
                "type": "row",
                "items": [
                  {
                    "css": "span3",
                    "type": "col",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "relatedOutcomes",
                            "type": "selectOne",
                            "preLabel": "Which outcome statement/s does this activity relate to?"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "investmentPriorities2",
                            "preLabel": "Which investment priority does this activity relate to?",
                            "type": "select2Many"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "otherInvestmentPriority",
                            "type": "text"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "css": "span3",
                    "type": "col",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "invoicingThisActivity",
                            "preLabel": "Are you invoicing for this activity in this reporting period?",
                            "type": "selectOne"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "row",
                "css": "border-bottom",
                "items": [
                  {
                    "preLabel": "Initial or follow-up control?",
                    "css": "span3",
                    "source": "initialOrFollowup",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "type": "row",
                "css": "border-bottom",
                "items": [
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "sitesUndertakenForPestControl",
                            "type": "feature",
                            "preLabel": "Site/s where pest control was undertaken"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "siteCalculatedAreaHa",
                            "type": "number",
                            "readonly": true,
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "siteCalculatedLengthKm",
                            "type": "number",
                            "readonly": true,
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Please attach mapping details",
                            "source": "extraMappingDetails",
                            "type": "document"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Actual area (ha) treated for pest animals",
                            "source": "areaControlledHa",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Reason for actual area being different to mapped amount",
                            "source": "mappingNotAlignedReason",
                            "type": "selectOne"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "placeholder": "Please enter the reason/s the mapping area didn't align with the invoiced amount",
                            "source": "mappingNotAlignedComments",
                            "type": "textarea",
                            "rows": 5
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Actual length (km) treated for pest animals",
                            "source": "lengthControlledKm",
                            "type": "number",
                            "validate": "required",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Reason for actual length being different to mapped amount",
                            "source": "mappingLengthNotAlignedReason",
                            "type": "selectOne"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "placeholder": "Please enter the reason/s the mapping length didn't align with the invoiced amount",
                            "source": "mappingLengthNotAlignedComments",
                            "type": "textarea",
                            "rows": 5
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Invoiced area (ha) treated for pest animals",
                            "helpText": "",
                            "source": "areaInvoicedHa",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Reason for invoiced amount being different to actual amount",
                            "source": "invoicedNotActualReason",
                            "type": "selectOne"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "placeholder": "Please enter the reason/s the mapping didn't align with the invoiced amount",
                            "source": "invoicedNotActualComments",
                            "type": "textarea",
                            "rows": 5
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Invoiced length (km) treated for pest animals",
                            "helpText": "",
                            "source": "lengthInvoicedKm",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Reason for invoiced amount being different to actual amount",
                            "source": "invoicedLengthNotActualReason",
                            "type": "selectOne"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "placeholder": "Please enter the reason/s the mapping didn't align with the invoiced amount",
                            "source": "invoicedLengthNotActualComments",
                            "type": "textarea",
                            "rows": 5
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "noStructuresInstalled",
                            "preLabel": "Number of structures installed/maintained",
                            "type": "number"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "invoiceLocationsStructures",
                            "preLabel": "Number of locations where structures were installed/maintained",
                            "type": "number"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "addRowText": "Add a species",
                    "columns": [
                      {
                        "width": "15%",
                        "source": "pestSpecies",
                        "title": "Target pest species",
                        "type": "speciesSelect"
                      },
                      {
                        "width": "10%",
                        "source": "pestManagementMethod",
                        "title": "Type of control",
                        "type": "selectOne"
                      },
                      {
                        "width": "20%",
                        "source": "otherManagementMethod",
                        "title": "Type of control (if other)",
                        "type": "text"
                      },
                      {
                        "width": "30%",
                        "source": "treatmentObjective",
                        "title": "Treatment objective",
                        "type": "textarea"
                      },
                      {
                        "width": "10%",
                        "source": "individualsOrColonies",
                        "title": "Individuals or colonies?",
                        "type": "selectOne"
                      },
                      {
                        "width": "10%",
                        "source": "individualsOrColoniesRemoved",
                        "title": "Number of individuals or colonies removed / destroyed",
                        "type": "number"
                      }
                    ],
                    "userAddedRows": true,
                    "source": "pestAnimalsControlled",
                    "type": "table"
                  }
                ]
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "Optionally attach photos",
                "source": "photographicEvidence",
                "type": "image"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "Clarification, if needed",
                "type": "textarea",
                "rows": 4,
                "css": "span8",
                "source": "comments",
                "placeholder": "Clarification comments include information for your project manager about the service like:\n • any reported items that are not being invoiced (eg, over-achievement) \n • any extraneous circumstances that affected delivery of the service \n"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<p><b>Available Evidence</b></p>This field is mandatory for all projects as part of the invoicing process. Please list evidence you have retained for this service and provide information to where the evidence is stored (links/file location data). Refer to the Project Service Evidence Guide and the Project Service Summaries for information on the evidence requirements."
              },
              {
                "preLabel": "Data have been uploaded",
                "source": "dataUploaded",
                "type": "boolean"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "",
                "source": "projectAssuranceDetails",
                "type": "textarea",
                "rows": 4,
                "placeholder": "List the documentary evidence you have available for this project service. Include specifically, the document titles and location (e.g. internal IT network pathway, URLs) to assist with locating this material for future audits/assurance purposes."
              }
            ]
          },
          {
            "type": "table",
            "source": "assuranceDocuments",
            "userAddedRows": true,
            "disableTableUpload": true,
            "columns": [
              {
                "title": "Attached documents",
                "source": "attachments",
                "type": "document"
              }
            ]
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtPestAnimalManagement",
      "optional": true,
      "optionalQuestionText": null,
      "title": "Controlling pest animals",
      "collapsibleHeading": null,
      "name": "NHT - Pest animal management",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "dataModel": [
          {
            "dataType": "text",
            "name": "participationIndividualsOrGroups",
            "description": "Once Individuals or groups is selected, the related number field in the next two columns will become editable to report.",
            "constraints": [
              "Individuals",
              "Groups"
            ],
            "validate": "required"
          },
          {
            "dataType": "number",
            "name": "participationIndividualNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Individuals\"",
                "type": "enable"
              }
            ],
            "validate": "required,min[0]"
          },
          {
            "dataType": "text",
            "name": "participationGroupNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Groups\"",
                "type": "enable"
              }
            ],
            "constraints": [
              "0",
              "1-10",
              "11-20",
              "21-30",
              "31-40",
              "41-50"
            ],
            "validate": "required"
          },
          {
            "dataType": "number",
            "name": "firstNationIndividualNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Individuals\"",
                "type": "enable"
              }
            ],
            "validate": "required,min[0]"
          },
          {
            "dataType": "text",
            "name": "firstNationGroupNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Groups\"",
                "type": "enable"
              }
            ],
            "constraints": [
              "0",
              "1-10",
              "11-20",
              "21-30",
              "31-40",
              "41-50"
            ],
            "validate": "required"
          },
          {
            "dataType": "text",
            "name": "participationDetails",
            "validate": "maxSize[3000]"
          },
          {
            "columns": [
              {
                "dataType": "text",
                "name": "initialOrFollowup",
                "constraints": [
                  "Initial",
                  "Follow-up"
                ],
                "validate": "required"
              },
              {
                "dataType": "feature",
                "name": "sitesImplementedForDebrisRemoval",
                "description": "Mapping field to be done and Area (ha)/length (km) field be auto-calculated from mapping.",
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "siteCalculatedAreaHa",
                "computed": {
                  "expression": "$geom.areaHa(sitesImplementedForDebrisRemoval)"
                },
                "units": "ha",
                "decimalPlaces": 3,
                "behaviour": [
                  {
                    "condition": "areaInvoicedHa > 0",
                    "type": "conditional_validation",
                    "value": {
                      "message": "The controlled area must be mapped",
                      "validate": "required,min[0.0001]"
                    }
                  }
                ]
              },
              {
                "dataType": "number",
                "name": "siteCalculatedLengthKm",
                "computed": {
                  "expression": "$geom.lengthKm(sitesImplementedForDebrisRemoval)"
                },
                "units": "km",
                "decimalPlaces": 3,
                "behaviour": [
                  {
                    "condition": "lengthInvoicedKm > 0",
                    "type": "conditional_validation",
                    "value": {
                      "message": "The controlled length must be mapped",
                      "validate": "required,min[0.0001]"
                    }
                  }
                ]
              },
              {
                "dataType": "number",
                "name": "areaControlledHa",
                "description": "Manually enter correct figure for this reporting period if different to mapped value.",
                "validate": "required,min[0]",
                "units": "ha",
                "decimalPlaces": 3,
                "defaultValue": {
                  "type": "computed",
                  "expression": "siteCalculatedAreaHa"
                }
              },
              {
                "dataType": "number",
                "name": "lengthControlledKm",
                "validate": "required,min[0]",
                "units": "km",
                "decimalPlaces": 3,
                "defaultValue": {
                  "type": "computed",
                  "expression": "$geom.lengthKm(sitesImplementedForDebrisRemoval)"
                }
              },
              {
                "dataType": "number",
                "name": "areaInvoicedHa",
                "units": "ha",
                "decimalPlaces": 3,
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "rule": "max",
                    "param": {
                      "type": "computed",
                      "expression": "areaControlledHa"
                    }
                  }
                ]
              },
              {
                "dataType": "number",
                "name": "lengthInvoicedKm",
                "units": "km",
                "decimalPlaces": 3,
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "rule": "max",
                    "param": {
                      "type": "computed",
                      "expression": "lengthControlledKm"
                    }
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedReason",
                "constraints": [
                  "Mapped area simplifies more complex area/s where work was undertaken during this period",
                  "Other"
                ],
                "validate": "required",
                "behaviour": [
                  {
                    "condition": "not (within(areaControlledHa, siteCalculatedAreaHa, 0.1))",
                    "type": "if"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedComments",
                "validate": "required,maxSize[100]",
                "behaviour": [
                  {
                    "type": "if",
                    "condition": "not within(areaControlledHa, siteCalculatedAreaHa, 0.1) and \"Other\" == mappingNotAlignedReason"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingLengthNotAlignedReason",
                "constraints": [
                  "Mapped area simplifies more complex length/s where work was undertaken during this period",
                  "Other"
                ],
                "validate": "required",
                "behaviour": [
                  {
                    "condition": "not (within(lengthControlledKm, siteCalculatedLengthKm, 0.1))",
                    "type": "if"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingLengthNotAlignedComments",
                "validate": "required,maxSize[100]",
                "behaviour": [
                  {
                    "type": "if",
                    "condition": "not (within(lengthControlledKm, siteCalculatedLengthKm, 0.1)) and \"Other\" == mappingLengthNotAlignedReason"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "invoicedNotActualReason",
                "constraints": [
                  "Work was undertaken over a greater area than will be invoiced for",
                  "Other"
                ],
                "validate": "required",
                "behaviour": [
                  {
                    "condition": "roundTo(areaControlledHa, 2) != roundTo(areaInvoicedHa, 2)",
                    "type": "if"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "invoicedNotActualComments",
                "behaviour": [
                  {
                    "type": "if",
                    "condition": "roundTo(areaControlledHa, 2) != roundTo(areaInvoicedHa, 2) and \"Other\" == invoicedNotActualReason"
                  }
                ],
                "validate": "required,maxSize[300]"
              },
              {
                "dataType": "text",
                "name": "invoicedLengthNotActualReason",
                "constraints": [
                  "Work was undertaken over a greater length than will be invoiced for",
                  "Other"
                ],
                "validate": "required",
                "behaviour": [
                  {
                    "condition": "roundTo(lengthControlledKm, 2) != roundTo(lengthInvoicedKm, 2)",
                    "type": "if"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "invoicedLengthNotActualComments",
                "behaviour": [
                  {
                    "type": "if",
                    "condition": "roundTo(lengthControlledKm, 2) != roundTo(lengthInvoicedKm, 2) and \"Other\" == invoicedLengthNotActualReason"
                  }
                ],
                "validate": "required,maxSize[300]"
              },
              {
                "dataType": "document",
                "name": "extraMappingDetails",
                "validate": "required",
                "description": "Please fill in the Mapped/Actual/Invoice fields before attaching a document here. If those fields match this field will be void. <br/>If any of these fields differ please attach your organisation's detailed map for the area, covered by this project service - during reporting period (include the scale measure for each map).",
                "behaviour": [
                  {
                    "condition": "not (within(areaControlledHa, siteCalculatedAreaHa, 0.1)) or roundTo(areaControlledHa, 2) != roundTo(areaInvoicedHa, 2)",
                    "type": "if"
                  }
                ]
              },
              {
                "dataType": "number",
                "name": "areaControlledHa",
                "validate": "required,min[0]",
                "units": "ha",
                "decimalPlaces": 3,
                "defaultValue": {
                  "type": "computed",
                  "expression": "$geom.areaHa(sitesImplementedForDebrisRemoval)"
                }
              },
              {
                "dataType": "number",
                "name": "lengthControlledKm",
                "validate": "required,min[0]",
                "units": "km",
                "decimalPlaces": 3,
                "defaultValue": {
                  "type": "computed",
                  "expression": "$geom.lengthKm(sitesImplementedForDebrisRemoval)"
                }
              },
              {
                "dataType": "number",
                "name": "areaInvoicedHa",
                "units": "ha",
                "decimalPlaces": 3,
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "rule": "max",
                    "param": {
                      "type": "computed",
                      "expression": "areaControlledHa"
                    }
                  }
                ]
              },
              {
                "dataType": "number",
                "name": "lengthInvoicedKm",
                "units": "km",
                "decimalPlaces": 3,
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "rule": "max",
                    "param": {
                      "type": "computed",
                      "expression": "lengthControlledKm"
                    }
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedReason",
                "constraints": [
                  "Mapped area simplifies more complex area/s where work was undertaken during this period",
                  "Other"
                ],
                "validate": "required",
                "behaviour": [
                  {
                    "condition": "not (within(areaControlledHa, siteCalculatedAreaHa, 0.1))",
                    "type": "if"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedComments",
                "validate": "required,maxSize[100]",
                "behaviour": [
                  {
                    "type": "if",
                    "condition": "not within(areaControlledHa, siteCalculatedAreaHa, 0.1) and \"Other\" == mappingNotAlignedReason"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingLengthNotAlignedReason",
                "constraints": [
                  "Mapped area simplifies more complex length/s where work was undertaken during this period",
                  "Other"
                ],
                "validate": "required",
                "behaviour": [
                  {
                    "condition": "not (within(lengthControlledKm, siteCalculatedLengthKm, 0.1))",
                    "type": "if"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingLengthNotAlignedComments",
                "validate": "required,maxSize[100]",
                "behaviour": [
                  {
                    "type": "if",
                    "condition": "not (within(lengthControlledKm, siteCalculatedLengthKm, 0.1)) and \"Other\" == mappingLengthNotAlignedReason"
                  }
                ]
              },
              {
                "dataType": "number",
                "name": "areaInvoicedHa",
                "units": "ha",
                "decimalPlaces": 3,
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "rule": "max",
                    "param": {
                      "type": "computed",
                      "expression": "areaControlledHa"
                    }
                  }
                ]
              },
              {
                "dataType": "number",
                "name": "lengthInvoicedKm",
                "units": "km",
                "decimalPlaces": 3,
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "rule": "max",
                    "param": {
                      "type": "computed",
                      "expression": "lengthControlledKm"
                    }
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedReason",
                "constraints": [
                  "Mapped area simplifies more complex area/s where work was undertaken during this period",
                  "Other"
                ],
                "validate": "required",
                "behaviour": [
                  {
                    "condition": "not (within(areaControlledHa, siteCalculatedAreaHa, 0.1))",
                    "type": "if"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedComments",
                "validate": "required,maxSize[100]",
                "behaviour": [
                  {
                    "type": "if",
                    "condition": "not within(areaControlledHa, siteCalculatedAreaHa, 0.1) and \"Other\" == mappingNotAlignedReason"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingLengthNotAlignedReason",
                "constraints": [
                  "Mapped area simplifies more complex length/s where work was undertaken during this period",
                  "Other"
                ],
                "validate": "required",
                "behaviour": [
                  {
                    "condition": "not (within(lengthControlledKm, siteCalculatedLengthKm, 0.1))",
                    "type": "if"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingLengthNotAlignedComments",
                "validate": "required,maxSize[100]",
                "behaviour": [
                  {
                    "type": "if",
                    "condition": "not (within(lengthControlledKm, siteCalculatedLengthKm, 0.1)) and \"Other\" == mappingLengthNotAlignedReason"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "invoicedNotActualReason",
                "constraints": [
                  "Work was undertaken over a greater area than will be invoiced for",
                  "Other"
                ],
                "validate": "required",
                "behaviour": [
                  {
                    "condition": "roundTo(areaControlledHa, 2) != roundTo(areaInvoicedHa, 2)",
                    "type": "if"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "invoicedNotActualComments",
                "behaviour": [
                  {
                    "type": "if",
                    "condition": "roundTo(areaControlledHa, 2) != roundTo(areaInvoicedHa, 2) and \"Other\" == invoicedNotActualReason"
                  }
                ],
                "validate": "required,maxSize[300]"
              },
              {
                "dataType": "text",
                "name": "invoicedLengthNotActualReason",
                "constraints": [
                  "Work was undertaken over a greater length than will be invoiced for",
                  "Other"
                ],
                "validate": "required",
                "behaviour": [
                  {
                    "condition": "roundTo(lengthControlledKm, 2) != roundTo(lengthInvoicedKm, 2)",
                    "type": "if"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "invoicedLengthNotActualComments",
                "behaviour": [
                  {
                    "type": "if",
                    "condition": "roundTo(lengthControlledKm, 2) != roundTo(lengthInvoicedKm, 2) and \"Other\" == invoicedLengthNotActualReason"
                  }
                ],
                "validate": "required,maxSize[300]"
              },
              {
                "name": "relatedOutcomes",
                "dataType": "text",
                "description": "Select the outcome/s as defined in your MERI plan that this service was delivered to achieve.",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "value",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "context-path": "outcomes"
                    }
                  }
                }
              },
              {
                "name": "investmentPriorities2",
                "dataType": "stringList",
                "validate": "required",
                "constraints": {
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "params": [
                        {
                          "expression": "owner.projectId",
                          "name": "id",
                          "type": "computed"
                        }
                      ],
                      "url": "/project/listProjectInvestmentPriorities/"
                    }
                  }
                }
              },
              {
                "dataType": "text",
                "name": "otherInvestmentPriority",
                "behaviour": [
                  {
                    "type": "enable",
                    "condition": "\"Other\" in investmentPriorities2"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "invoicingThisActivity",
                "constraints": [
                  "Yes",
                  "No"
                ],
                "validate": "required"
              },
              {
                "columns": [
                  {
                    "dataType": "text",
                    "name": "teqDebrisRemoval",
                    "description": "",
                    "validate": "required"
                  },
                  {
                    "dataType": "text",
                    "name": "debrisType",
                    "description": "",
                    "constraints": [
                      "Building & Industrial waste",
                      "Domestic waste",
                      "Green waste",
                      "Other"
                    ],
                    "validate": "required"
                  },
                  {
                    "dataType": "text",
                    "name": "otherDebrisType",
                    "description": "if Other",
                    "behaviour": [
                      {
                        "condition": "debrisType == \"Other\"",
                        "type": "visible"
                      }
                    ],
                    "validate": "required,maxSize[300]"
                  },
                  {
                    "validated": "required,min[0]",
                    "dataType": "number",
                    "name": "weightOfDebrisTonnes",
                    "units": "tonnes"
                  },
                  {
                    "validated": "required,min[0]",
                    "dataType": "number",
                    "name": "volumeRemovedM3",
                    "units": "m3"
                  }
                ],
                "dataType": "list",
                "name": "debrisRemovalDetails"
              }
            ],
            "dataType": "list",
            "name": "debrisRemovalAreasControlled"
          },

          {
            "dataType": "number",
            "name": "totalAreaDebrisRemovedInitial",
            "validate": "required,min[0]",
            "decimalPlaces": 3,
            "computed": {
              "expression": "sum(debrisRemovalAreasControlled, \"initialOrFollowup == 'Initial' ? areaControlledHa : 0\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalAreaDebrisRemovedInitialInvoiced",
            "validate": [
              {
                "param": {
                  "expression": "totalAreaDebrisRemovedInitial",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": 0
          },
          {
            "dataType": "number",
            "name": "totalLengthDebrisRemovedInitial",
            "validate": "required,min[0]",
            "decimalPlaces": 3,
            "computed": {
              "expression": "sum(debrisRemovalAreasControlled, \"initialOrFollowup == 'Initial' ? lengthControlledKm : 0\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalLengthDebrisRemovedInvoicedInitial",
            "validate": [
              {
                "param": {
                  "expression": "totalLengthDebrisRemovedInitial",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": 0
          },
          {
            "dataType": "number",
            "name": "totalAreaDebrisRemovedFollowup",
            "validate": "required,min[0]",
            "decimalPlaces": 3,
            "computed": {
              "expression": "sum(debrisRemovalAreasControlled, \"initialOrFollowup == 'Follow-up' ? areaControlledHa : 0\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalAreaDebrisRemovedInvoicedFollowup",
            "validate": [
              {
                "param": {
                  "expression": "totalAreaDebrisRemovedFollowup",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": 0
          },
          {
            "dataType": "number",
            "name": "totalLengthDebrisRemovedFollowup",
            "validate": "required,min[0]",
            "decimalPlaces": 3,
            "computed": {
              "expression": "sum(debrisRemovalAreasControlled, \"initialOrFollowup == 'Follow-up' ? lengthControlledKm : 0\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalLengthDebrisRemovedInvoicedFollowup",
            "validate": [
              {
                "param": {
                  "expression": "totalLengthDebrisRemovedFollowup",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": 0
          },
          {
            "dataType": "text",
            "name": "comments",
            "validate": "maxSize[1500]"
          },
          {
            "dataType": "image",
            "name": "photographicEvidence"
          },
          {
            "dataType": "boolean",
            "name": "dataUploaded",
            "description": "<ul><li>Tick box to confirm data has been uploaded</li><li>URL Link (mandatory if below is ticked) in available evidence</li></ul>"
          },
          {
            "name": "projectAssuranceDetails",
            "dataType": "text",
            "validate": "required,maxSize[5000]",
            "behaviour": [
              {
                "condition": "dataUploaded == true",
                "type": "enable"
              }
            ]
          },
          {
            "dataType": "list",
            "name": "assuranceDocuments",
            "columns": [
              {
                "dataType": "document",
                "name": "attachments",
                "description": "Please attach any Evidence of Service Delivery here."
              }
            ]
          }
        ],
        "modelName": "NHT - Debris removal",
        "title": "Debris Removal",
        "viewModel": [
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<h3>Participation information</h3>"
              }
            ]
          },
          {
            "columns": [
              {
                "width": "10%",
                "source": "participationIndividualsOrGroups",
                "title": " Are individuals or groups delivering this service?",
                "type": "selectOne"
              },
              {
                "width": "20%",
                "type": "col",
                "title": "Total number of people delivering this service <br>(including First Nations people)",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "participationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "participationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "type": "col",
                "width": "20%",
                "title": "Total number of First Nations people delivering this service ",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "firstNationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "firstNationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "source": "participationDetails",
                "rows": 4,
                "title": "If no First Nations people participated in the delivery of this service, <br>what are the reasons? If there was participation, please provide details.",
                "helpText": "If there were no First Nations people participating in the delivery of this service, please explain the reasons. If there were First Nations people involved, please outline how they were involved.",
                "type": "textarea"
              }
            ],
            "userAddedRows": false,
            "disableTableUpload": false,
            "source": "",
            "type": "table"
          },
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<h3>Totals Summary</h3>"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(i) Total area (ha) of debris removal implemented (Initial)",
                        "source": "totalAreaDebrisRemovedInitial",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(ii) Total area (ha) of debris removal <b><u>invoiced</b></u> for this reporting period (Initial)",
                        "source": "totalAreaDebrisRemovedInitialInvoiced",
                        "type": "number"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(iii) Total area (ha) of debris removal implemented (follow up)",
                        "source": "totalAreaDebrisRemovedFollowup",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(iv) Total area (ha) of debris removal <b><u>invoiced</b></u> for this reporting period (follow up)",
                        "source": "totalAreaDebrisRemovedInvoicedFollowup",
                        "type": "number"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(v) Total length (km) of debris removal implemented (Initial)",
                        "source": "totalLengthDebrisRemovedInitial",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(vi) Total length (km) of debris removal <b><u>invoiced</b></u> for this reporting period (Initial)",
                        "source": "totalLengthDebrisRemovedInvoicedInitial",
                        "type": "number"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(vii) Total length (km) of debris removal implemented (follow up)",
                        "source": "totalLengthDebrisRemovedFollowup",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(viii) Total length (km) of debris removal <b><u>invoiced</b></u> for this reporting period (follow up)",
                        "source": "totalLengthDebrisRemovedInvoicedFollowup",
                        "type": "number"
                      }
                    ]
                  }
                ]
              }
            ]
          },
          {
            "addRowText": "Add a new controlled area",
            "userAddedRows": true,
            "source": "debrisRemovalAreasControlled",
            "type": "repeat",
            "items": [
              {
                "type": "row",
                "items": [
                  {
                    "css": "span3",
                    "type": "col",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "relatedOutcomes",
                            "type": "selectOne",
                            "preLabel": "Which outcome statement/s does this activity relate to?"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "investmentPriorities2",
                            "preLabel": "Which investment priority does this activity relate to?",
                            "type": "select2Many"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "otherInvestmentPriority",
                            "type": "text"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "css": "span3",
                    "type": "col",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "invoicingThisActivity",
                            "preLabel": "Are you invoicing for this activity in this reporting period?",
                            "type": "selectOne"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "row",
                "css": "border-bottom",
                "items": [
                  {
                    "preLabel": "Initial or follow-up activity?",
                    "css": "span3",
                    "source": "initialOrFollowup",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "type": "row",
                "css": "border-bottom",
                "items": [
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "sitesImplementedForDebrisRemoval",
                            "type": "feature",
                            "preLabel": "Site/s where debris removal was implemented"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "siteCalculatedAreaHa",
                            "type": "number",
                            "readonly": true,
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "siteCalculatedLengthKm",
                            "type": "number",
                            "readonly": true,
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Please attach mapping details",
                            "source": "extraMappingDetails",
                            "type": "document"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Actual area (ha) of debris removed",
                            "source": "areaControlledHa",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Reason for actual area being different to mapped amount",
                            "source": "mappingNotAlignedReason",
                            "type": "selectOne"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "placeholder": "Please enter the reason/s the mapping area didn't align with the invoiced amount",
                            "source": "mappingNotAlignedComments",
                            "type": "textarea",
                            "rows": 5
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Actual length (km) of debris removed",
                            "source": "lengthControlledKm",
                            "type": "number",
                            "validate": "required",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Reason for actual length being different to mapped amount",
                            "source": "mappingLengthNotAlignedReason",
                            "type": "selectOne"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "placeholder": "Please enter the reason/s the mapping length didn't align with the invoiced amount",
                            "source": "mappingLengthNotAlignedComments",
                            "type": "textarea",
                            "rows": 5
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Invoiced area (ha) of debris removed",
                            "helpText": "",
                            "source": "areaInvoicedHa",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Reason for invoiced amount being different to actual amount",
                            "source": "invoicedNotActualReason",
                            "type": "selectOne"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "placeholder": "Please enter the reason/s the mapping didn't align with the invoiced amount",
                            "source": "invoicedNotActualComments",
                            "type": "textarea",
                            "rows": 5
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Invoiced length (km) of debris removed",
                            "helpText": "",
                            "source": "lengthInvoicedKm",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Reason for invoiced amount being different to actual amount",
                            "source": "invoicedLengthNotActualReason",
                            "type": "selectOne"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "placeholder": "Please enter the reason/s the mapping didn't align with the invoiced amount",
                            "source": "invoicedLengthNotActualComments",
                            "type": "textarea",
                            "rows": 5
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "columns": [
                  {
                    "width": "30%",
                    "source": "teqDebrisRemoval",
                    "title": "Technique used to remove debris",
                    "type": "textarea",
                    "rows": 5
                  },
                  {
                    "width": "30%",
                    "title": "Type of debris removed",
                    "type": "col",
                    "validate": "required",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "debrisType",
                            "type": "select2"
                          }
                        ]
                      },
                      {
                        "source": "otherDebrisType",
                        "type": "text"
                      }
                    ]
                  },
                  {
                    "width": "20%",
                    "source": "weightOfDebrisTonnes",
                    "title": "Weight (tonnes) of debris removed",
                    "type": "number"
                  },
                  {
                    "width": "20%",
                    "source": "volumeRemovedM3",
                    "title": "Volume (m3) of debris removed",
                    "type": "number"
                  }
                ],
                "userAddedRows": true,
                "source": "debrisRemovalDetails",
                "type": "table"
              }
            ]
          },

          {
            "type": "row",
            "items": [
              {
                "preLabel": "Optionally attach photos",
                "source": "photographicEvidence",
                "type": "image"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "Clarification, if needed",
                "type": "textarea",
                "rows": 4,
                "css": "span8",
                "source": "comments",
                "placeholder": "Clarification comments include information for your project manager about the service like:\n • any reported items that are not being invoiced (eg, over-achievement) \n • any extraneous circumstances that affected delivery of the service \n"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<p><b>Available Evidence</b></p>This field is mandatory for all projects as part of the invoicing process. Please list evidence you have retained for this service and provide information to where the evidence is stored (links/file location data). Refer to the Project Service Evidence Guide and the Project Service Summaries for information on the evidence requirements.<b style=\"color:red\">*</b>"
              },
              {
                "preLabel": "Data have been uploaded",
                "source": "dataUploaded",
                "type": "boolean"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "",
                "source": "projectAssuranceDetails",
                "type": "textarea",
                "rows": 4,
                "placeholder": "List the documentary evidence you have available for this project service. Include specifically, the document titles and location (e.g. internal IT network pathway, URLs) to assist with locating this material for future audits/assurance purposes."
              }
            ]
          },
          {
            "type": "table",
            "source": "assuranceDocuments",
            "userAddedRows": true,
            "disableTableUpload": true,
            "columns": [
              {
                "title": "Attached documents",
                "source": "attachments",
                "type": "document"
              }
            ]
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtDebrisRemoval",
      "optional": true,
      "optionalQuestionText": null,
      "title": "Debris removal",
      "collapsibleHeading": null,
      "name": "NHT - Debris removal",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "dataModel": [
          {
            "dataType": "text",
            "name": "participationIndividualsOrGroups",
            "description": "Once Individuals or groups is selected, the related number field in the next two columns will become editable to report.",
            "constraints": [
              "Individuals",
              "Groups"
            ],
            "validate": "required"
          },
          {
            "dataType": "number",
            "name": "participationIndividualNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Individuals\"",
                "type": "enable"
              }
            ],
            "validate": "required,min[0]"
          },
          {
            "dataType": "text",
            "name": "participationGroupNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Groups\"",
                "type": "enable"
              }
            ],
            "constraints": [
              "0",
              "1-10",
              "11-20",
              "21-30",
              "31-40",
              "41-50"
            ],
            "validate": "required"
          },
          {
            "dataType": "number",
            "name": "firstNationIndividualNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Individuals\"",
                "type": "enable"
              }
            ],
            "validate": "required,min[0]"
          },
          {
            "dataType": "text",
            "name": "firstNationGroupNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Groups\"",
                "type": "enable"
              }
            ],
            "constraints": [
              "0",
              "1-10",
              "11-20",
              "21-30",
              "31-40",
              "41-50"
            ],
            "validate": "required"
          },
          {
            "dataType": "text",
            "name": "participationDetails",
            "validate": "maxSize[3000]"
          },
          {
            "columns": [
              {
                "dataType": "text",
                "name": "initialOrFollowup",
                "constraints": [
                  "Initial",
                  "Follow-up"
                ],
                "validate": "required"
              },
              {
                "dataType": "feature",
                "name": "existingErosionSites"
              },
              {
                "defaultValue": {
                  "expression": "$geom.areaHa(existingErosionSites)",
                  "type": "computed"
                },
                "dataType": "number",
                "name": "existingErosionAreaHa",
                "units": "ha",
                "decimalPlaces": 3,
                "validate": "min[0]"
              },
              {
                "dataType": "feature",
                "name": "sitesUndertakenForErosionControl",
                "description": "Mapping field to be done and Area (ha)/length (km) field be auto-calculated from mapping.",
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "siteCalculatedAreaHa",
                "computed": {
                  "expression": "$geom.areaHa(sitesUndertakenForErosionControl)"
                },
                "units": "ha",
                "decimalPlaces": 3,
                "behaviour": [
                  {
                    "condition": "areaInvoicedHa > 0",
                    "type": "conditional_validation",
                    "value": {
                      "message": "The controlled area must be mapped",
                      "validate": "required,min[0.0001]"
                    }
                  }
                ]
              },
              {
                "dataType": "number",
                "name": "siteCalculatedLengthKm",
                "computed": {
                  "expression": "$geom.lengthKm(sitesUndertakenForErosionControl)"
                },
                "units": "km",
                "decimalPlaces": 3,
                "behaviour": [
                  {
                    "condition": "lengthInvoicedKm > 0",
                    "type": "conditional_validation",
                    "value": {
                      "message": "The controlled length must be mapped",
                      "validate": "required,min[0.0001]"
                    }
                  }
                ]
              },
              {
                "dataType": "number",
                "name": "areaControlledHa",
                "description": "Manually enter correct figure for this reporting period if different to mapped value.",
                "validate": "required,min[0]",
                "units": "ha",
                "decimalPlaces": 3,
                "defaultValue": {
                  "type": "computed",
                  "expression": "siteCalculatedAreaHa"
                }
              },
              {
                "dataType": "number",
                "name": "lengthControlledKm",
                "validate": "required,min[0]",
                "units": "km",
                "decimalPlaces": 3,
                "defaultValue": {
                  "type": "computed",
                  "expression": "$geom.lengthKm(sitesUndertakenForErosionControl)"
                }
              },
              {
                "dataType": "number",
                "name": "areaInvoicedHa",
                "units": "ha",
                "decimalPlaces": 3,
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "rule": "max",
                    "param": {
                      "type": "computed",
                      "expression": "areaControlledHa"
                    }
                  }
                ]
              },
              {
                "dataType": "number",
                "name": "lengthInvoicedKm",
                "units": "km",
                "decimalPlaces": 3,
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "rule": "max",
                    "param": {
                      "type": "computed",
                      "expression": "lengthControlledKm"
                    }
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedReason",
                "constraints": [
                  "Mapped area simplifies more complex area/s where work was undertaken during this period",
                  "Other"
                ],
                "validate": "required",
                "behaviour": [
                  {
                    "condition": "not (within(areaControlledHa, siteCalculatedAreaHa, 0.1))",
                    "type": "if"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedComments",
                "validate": "required,maxSize[100]",
                "behaviour": [
                  {
                    "type": "if",
                    "condition": "not within(areaControlledHa, siteCalculatedAreaHa, 0.1) and \"Other\" == mappingNotAlignedReason"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingLengthNotAlignedReason",
                "constraints": [
                  "Mapped area simplifies more complex length/s where work was undertaken during this period",
                  "Other"
                ],
                "validate": "required",
                "behaviour": [
                  {
                    "condition": "not (within(lengthControlledKm, siteCalculatedLengthKm, 0.1))",
                    "type": "if"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingLengthNotAlignedComments",
                "validate": "required,maxSize[100]",
                "behaviour": [
                  {
                    "type": "if",
                    "condition": "not (within(lengthControlledKm, siteCalculatedLengthKm, 0.1)) and \"Other\" == mappingLengthNotAlignedReason"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "invoicedNotActualReason",
                "constraints": [
                  "Work was undertaken over a greater area than will be invoiced for",
                  "Other"
                ],
                "validate": "required",
                "behaviour": [
                  {
                    "condition": "roundTo(areaControlledHa, 2) != roundTo(areaInvoicedHa, 2)",
                    "type": "if"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "invoicedNotActualComments",
                "behaviour": [
                  {
                    "type": "if",
                    "condition": "roundTo(areaControlledHa, 2) != roundTo(areaInvoicedHa, 2) and \"Other\" == invoicedNotActualReason"
                  }
                ],
                "validate": "required,maxSize[300]"
              },
              {
                "dataType": "text",
                "name": "invoicedLengthNotActualReason",
                "constraints": [
                  "Work was undertaken over a greater length than will be invoiced for",
                  "Other"
                ],
                "validate": "required",
                "behaviour": [
                  {
                    "condition": "roundTo(lengthControlledKm, 2) != roundTo(lengthInvoicedKm, 2)",
                    "type": "if"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "invoicedLengthNotActualComments",
                "behaviour": [
                  {
                    "type": "if",
                    "condition": "roundTo(lengthControlledKm, 2) != roundTo(lengthInvoicedKm, 2) and \"Other\" == invoicedLengthNotActualReason"
                  }
                ],
                "validate": "required,maxSize[300]"
              },
              {
                "dataType": "document",
                "name": "extraMappingDetails",
                "validate": "required",
                "description": "Please fill in the Mapped/Actual/Invoice fields before attaching a document here. If those fields match this field will be void. <br/>If any of these fields differ please attach your organisation's detailed map for the area, covered by this project service - during reporting period (include the scale measure for each map).",
                "behaviour": [
                  {
                    "condition": "not (within(areaControlledHa, siteCalculatedAreaHa, 0.1)) or roundTo(areaControlledHa, 2) != roundTo(areaInvoicedHa, 2)",
                    "type": "if"
                  }
                ]
              },
              {
                "dataType": "number",
                "name": "areaControlledHa",
                "validate": "required,min[0]",
                "units": "ha",
                "decimalPlaces": 3,
                "defaultValue": {
                  "type": "computed",
                  "expression": "$geom.areaHa(sitesUndertakenForErosionControl)"
                }
              },
              {
                "dataType": "number",
                "name": "lengthControlledKm",
                "validate": "required,min[0]",
                "units": "km",
                "decimalPlaces": 3,
                "defaultValue": {
                  "type": "computed",
                  "expression": "$geom.lengthKm(sitesUndertakenForErosionControl)"
                }
              },
              {
                "dataType": "number",
                "name": "areaInvoicedHa",
                "units": "ha",
                "decimalPlaces": 3,
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "rule": "max",
                    "param": {
                      "type": "computed",
                      "expression": "areaControlledHa"
                    }
                  }
                ]
              },
              {
                "dataType": "number",
                "name": "lengthInvoicedKm",
                "units": "km",
                "decimalPlaces": 3,
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "rule": "max",
                    "param": {
                      "type": "computed",
                      "expression": "lengthControlledKm"
                    }
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedReason",
                "constraints": [
                  "Mapped area simplifies more complex area/s where work was undertaken during this period",
                  "Other"
                ],
                "validate": "required",
                "behaviour": [
                  {
                    "condition": "not (within(areaControlledHa, siteCalculatedAreaHa, 0.1))",
                    "type": "if"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedComments",
                "validate": "required,maxSize[100]",
                "behaviour": [
                  {
                    "type": "if",
                    "condition": "not within(areaControlledHa, siteCalculatedAreaHa, 0.1) and \"Other\" == mappingNotAlignedReason"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingLengthNotAlignedReason",
                "constraints": [
                  "Mapped area simplifies more complex length/s where work was undertaken during this period",
                  "Other"
                ],
                "validate": "required",
                "behaviour": [
                  {
                    "condition": "not (within(lengthControlledKm, siteCalculatedLengthKm, 0.1))",
                    "type": "if"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingLengthNotAlignedComments",
                "validate": "required,maxSize[100]",
                "behaviour": [
                  {
                    "type": "if",
                    "condition": "not (within(lengthControlledKm, siteCalculatedLengthKm, 0.1)) and \"Other\" == mappingLengthNotAlignedReason"
                  }
                ]
              },
              {
                "dataType": "number",
                "name": "areaInvoicedHa",
                "units": "ha",
                "decimalPlaces": 3,
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "rule": "max",
                    "param": {
                      "type": "computed",
                      "expression": "areaControlledHa"
                    }
                  }
                ]
              },
              {
                "dataType": "number",
                "name": "lengthInvoicedKm",
                "units": "km",
                "decimalPlaces": 3,
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "rule": "max",
                    "param": {
                      "type": "computed",
                      "expression": "lengthControlledKm"
                    }
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedReason",
                "constraints": [
                  "Mapped area simplifies more complex area/s where work was undertaken during this period",
                  "Other"
                ],
                "validate": "required",
                "behaviour": [
                  {
                    "condition": "not (within(areaControlledHa, siteCalculatedAreaHa, 0.1))",
                    "type": "if"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedComments",
                "validate": "required,maxSize[100]",
                "behaviour": [
                  {
                    "type": "if",
                    "condition": "not within(areaControlledHa, siteCalculatedAreaHa, 0.1) and \"Other\" == mappingNotAlignedReason"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingLengthNotAlignedReason",
                "constraints": [
                  "Mapped area simplifies more complex length/s where work was undertaken during this period",
                  "Other"
                ],
                "validate": "required",
                "behaviour": [
                  {
                    "condition": "not (within(lengthControlledKm, siteCalculatedLengthKm, 0.1))",
                    "type": "if"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingLengthNotAlignedComments",
                "validate": "required,maxSize[100]",
                "behaviour": [
                  {
                    "type": "if",
                    "condition": "not (within(lengthControlledKm, siteCalculatedLengthKm, 0.1)) and \"Other\" == mappingLengthNotAlignedReason"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "invoicedNotActualReason",
                "constraints": [
                  "Work was undertaken over a greater area than will be invoiced for",
                  "Other"
                ],
                "validate": "required",
                "behaviour": [
                  {
                    "condition": "roundTo(areaControlledHa, 2) != roundTo(areaInvoicedHa, 2)",
                    "type": "if"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "invoicedNotActualComments",
                "behaviour": [
                  {
                    "type": "if",
                    "condition": "roundTo(areaControlledHa, 2) != roundTo(areaInvoicedHa, 2) and \"Other\" == invoicedNotActualReason"
                  }
                ],
                "validate": "required,maxSize[300]"
              },
              {
                "dataType": "text",
                "name": "invoicedLengthNotActualReason",
                "constraints": [
                  "Work was undertaken over a greater length than will be invoiced for",
                  "Other"
                ],
                "validate": "required",
                "behaviour": [
                  {
                    "condition": "roundTo(lengthControlledKm, 2) != roundTo(lengthInvoicedKm, 2)",
                    "type": "if"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "invoicedLengthNotActualComments",
                "behaviour": [
                  {
                    "type": "if",
                    "condition": "roundTo(lengthControlledKm, 2) != roundTo(lengthInvoicedKm, 2) and \"Other\" == invoicedLengthNotActualReason"
                  }
                ],
                "validate": "required,maxSize[300]"
              },
              {
                "name": "relatedOutcomes",
                "dataType": "text",
                "description": "Select the outcome/s as defined in your MERI plan that this service was delivered to achieve.",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "value",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "context-path": "outcomes"
                    }
                  }
                }
              },
              {
                "name": "investmentPriorities2",
                "dataType": "stringList",
                "validate": "required",
                "constraints": {
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "params": [
                        {
                          "expression": "owner.projectId",
                          "name": "id",
                          "type": "computed"
                        }
                      ],
                      "url": "/project/listProjectInvestmentPriorities/"
                    }
                  }
                }
              },
              {
                "dataType": "text",
                "name": "otherInvestmentPriority",
                "behaviour": [
                  {
                    "type": "enable",
                    "condition": "\"Other\" in investmentPriorities2"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "invoicingThisActivity",
                "constraints": [
                  "Yes",
                  "No"
                ],
                "validate": "required"
              },
              {
                "columns": [
                  {
                    "dataType": "date",
                    "name": "dateFrom",
                    "validate": "required"
                  },
                  {
                    "dataType": "date",
                    "name": "dateTo",
                    "validate": "required"
                  },
                  {
                    "dataType": "text",
                    "name": "treatmentObjective",
                    "validate": "required"
                  },
                  {
                    "dataType": "number",
                    "name": "numberInstalled",
                    "validate": "required,min[0]"
                  },
                  {
                    "dataType": "text",
                    "name": "erosionManagementMethod",
                    "constraints": [
                      "Alternative watering point",
                      "Erosion control structures",
                      "Farming practice change",
                      "Fencing",
                      "Revegetation",
                      "Terracing",
                      "Vegetated waterway (bioswale)",
                      "Windbreaks",
                      "Other"
                    ],
                    "validate": "required"
                  },
                  {
                    "dataType": "text",
                    "name": "otherErosionManagementMethod",
                    "behaviour": [
                      {
                        "condition": "erosionManagementMethod == \"Other\"",
                        "type": "visible"
                      }
                    ],
                    "validate": "required,max[300]"
                  },
                  {
                    "dataType": "number",
                    "name": "numberDaysCollecting",
                    "validate": "required,min[0]"
                  },
                  {
                    "dataType": "text",
                    "name": "threatenedEcologicalCommunity",
                    "validate": "maxSize[300]"
                  },
                  {
                    "dataType": "feature",
                    "name": "sitesBenefittingFromErosionControl"
                  },
                  {
                    "defaultValue": {
                      "expression": "$geom.areaHa(sitesBenefittingFromErosionControl)",
                      "type": "computed"
                    },
                    "dataType": "number",
                    "name": "areaBenefitingHa",
                    "decimalPlaces": 3,
                    "units": "ha"
                  },
                  {
                    "dataType": "text",
                    "name": "evidenceOfBenefit",
                    "validate": "maxSize[300]"
                  }
                ],
                "dataType": "list",
                "name": "erosionManagementDetails",
                "minSize": 0
              }
            ],
            "dataType": "list",
            "name": "erosionManagementAreasControlled"
          },
          {
            "name": "relatedOutcomes",
            "dataType": "text",
            "description": "Select the outcome/s as defined in your MERI plan that this service was delivered to achieve.",
            "validate": "required",
            "constraints": {
              "textProperty": "label",
              "valueProperty": "value",
              "type": "pre-populated",
              "config": {
                "source": {
                  "context-path": "outcomes"
                }
              }
            }
          },
          {
            "name": "investmentPriorities2",
            "dataType": "stringList",
            "validate": "required",
            "constraints": {
              "type": "pre-populated",
              "config": {
                "source": {
                  "params": [
                    {
                      "expression": "owner.projectId",
                      "name": "id",
                      "type": "computed"
                    }
                  ],
                  "url": "/project/listProjectInvestmentPriorities/"
                }
              }
            }
          },
          {
            "dataType": "text",
            "name": "otherInvestmentPriority",
            "behaviour": [
              {
                "type": "enable",
                "condition": "\"Other\" in investmentPriorities2"
              }
            ]
          },
          {
            "dataType": "text",
            "name": "invoicingThisActivity",
            "constraints": [
              "Yes",
              "No"
            ],
            "validate": "required"
          },
          {
            "dataType": "number",
            "name": "totalNoAreaOfErosionControl",
            "validate": "required,min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(erosionManagementAreasControlled, \"areaControlledHa\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalNoLengthOfErosionControl",
            "validate": "required,min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(erosionManagementAreasControlled, \"lengthControlledKm\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalLengthStreamCoastlineInitial",
            "validate": "required,min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(erosionManagementAreasControlled, \"initialOrFollowup == 'Initial' ? lengthControlledKm : 0\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalLengthStreamCoastlineInitialInvoice",
            "validate": [
              {
                "param": {
                  "expression": "totalLengthStreamCoastlineInitial"
                ,
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": 0
          },
          {
            "dataType": "number",
            "name": "totalLengthStreamCoastlineFollowup",
            "validate": "required,min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(erosionManagementAreasControlled, \"initialOrFollowup == 'Follow-up' ? lengthControlledKm : 0\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalLengthStreamCoastlineInvoicedFollowup",
            "validate": [
              {
                "param": {
                  "expression": "totalLengthStreamCoastlineFollowup",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": 0
          },
          {
            "dataType": "number",
            "name": "totalAreaErosionControlInitial",
            "validate": "required,min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(erosionManagementAreasControlled, \"initialOrFollowup == 'Initial' ? areaControlledHa : 0\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalAreaErosionControlInvoicedInitial",
            "validate": [
              {
                "param": {
                  "expression": "totalAreaErosionControlInitial",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": 0
          },
          {
            "dataType": "number",
            "name": "totalAreaErosionControlFollowup",
            "validate": "required,min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(erosionManagementAreasControlled, \"initialOrFollowup == 'Follow-up' ? areaControlledHa : 0\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalAreaErosionControlInvoicedFollowup",
            "validate": [
              {
                "param": {
                  "expression": "totalAreaErosionControlFollowup",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": 0
          },
          {
            "dataType": "text",
            "name": "comments",
            "validate": "maxSize[1500]"
          },
          {
            "dataType": "image",
            "name": "photographicEvidence"
          },
          {
            "dataType": "boolean",
            "name": "dataUploaded",
            "description": "<ul><li>Tick box to confirm data has been uploaded</li><li>URL Link (mandatory if below is ticked) in available evidence</li></ul>"
          },
          {
            "name": "projectAssuranceDetails",
            "dataType": "text",
            "validate": "required,maxSize[5000]",
            "behaviour": [
              {
                "condition": "dataUploaded == true",
                "type": "enable"
              }
            ]
          },
          {
            "dataType": "list",
            "name": "assuranceDocuments",
            "columns": [
              {
                "dataType": "document",
                "name": "attachments",
                "description": "Please attach any Evidence of Service Delivery here."
              }
            ]
          }
        ],
        "modelName": "NHT - Erosion Management",
        "title": "Erosion Management",
        "viewModel": [
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<h3>Participation information</h3>"
              }
            ]
          },
          {
            "columns": [
              {
                "width": "10%",
                "source": "participationIndividualsOrGroups",
                "title": " Are individuals or groups delivering this service?",
                "type": "selectOne"
              },
              {
                "width": "20%",
                "type": "col",
                "title": "Total number of people delivering this service <br>(including First Nations people)",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "participationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "participationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "type": "col",
                "width": "20%",
                "title": "Total number of First Nations people delivering this service ",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "firstNationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "firstNationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "source": "participationDetails",
                "rows": 4,
                "title": "If no First Nations people participated in the delivery of this service, <br>what are the reasons? If there was participation, please provide details.",
                "helpText": "If there were no First Nations people participating in the delivery of this service, please explain the reasons. If there were First Nations people involved, please outline how they were involved.",
                "type": "textarea"
              }
            ],
            "userAddedRows": false,
            "disableTableUpload": false,
            "source": "",
            "type": "table"
          },
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<h3>Totals Summary</h3>"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(i) Total number of area (ha) of erosion control for this reporting period",
                        "source": "totalNoAreaOfErosionControl",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(ii) Total number of length (km) of erosion control for this reporting period",
                        "source": "totalNoLengthOfErosionControl",
                        "type": "number"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(iii) Total length (km) of stream/coastline treated for erosion for this reporting period (Initial)",
                        "source": "totalLengthStreamCoastlineInitial",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(iv) Total length (km) of stream/coastline treated for erosion <u><i>invoiced</i></u> for this reporting period (Initial)",
                        "source": "totalLengthStreamCoastlineInitialInvoice",
                        "type": "number"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(v) Total length (km) of stream/coastline treated for erosion for this reporting period (follow up)",
                        "source": "totalLengthStreamCoastlineFollowup",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(vi) Total length (km) of stream/coastline treated for erosion <u><i>invoiced</i></u> for this reporting period (follow up)",
                        "source": "totalLengthStreamCoastlineInvoicedFollowup",
                        "type": "number"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(vii) Total area (ha) of erosion control for this reporting period (Initial)",
                        "source": "totalAreaErosionControlInitial",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(viii) Total area (ha) of erosion control <u><i>invoiced</i></u> for this reporting period (Initial)",
                        "source": "totalAreaErosionControlInvoicedInitial",
                        "type": "number"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(ix) Total area (ha) of erosion control for this reporting period (follow up)",
                        "source": "totalAreaErosionControlFollowup",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(x) Total area (ha) of erosion control <u><i>invoiced</i></u> for this reporting period (follow up)",
                        "source": "totalAreaErosionControlInvoicedFollowup",
                        "type": "number"
                      }
                    ]
                  }
                ]
              }
            ]
          },
          {
            "addRowText": "Add a new controlled area",
            "userAddedRows": true,
            "source": "erosionManagementAreasControlled",
            "type": "repeat",
            "items": [
              {
                "type": "row",
                "items": [
                  {
                    "css": "span3",
                    "type": "col",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "relatedOutcomes",
                            "type": "selectOne",
                            "preLabel": "Which outcome statement/s does this activity relate to?"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "investmentPriorities2",
                            "preLabel": "Which investment priority does this activity relate to?",
                            "type": "select2Many"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "otherInvestmentPriority",
                            "type": "text"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "css": "span3",
                    "type": "col",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "invoicingThisActivity",
                            "preLabel": "Are you invoicing for this activity in this reporting period?",
                            "type": "selectOne"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "row",
                "css": "border-bottom",
                "items": [
                  {
                    "preLabel": "Initial or follow-up control?",
                    "css": "span3",
                    "source": "initialOrFollowup",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "type": "row",
                "css": "border-bottom",
                "items": [
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "existingErosionSites",
                            "type": "feature",
                            "preLabel": "Site/s where erosion is evident"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "existingErosionAreaHa",
                            "type": "number",
                            "readonly": true,
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "sitesUndertakenForErosionControl",
                            "type": "feature",
                            "preLabel": "Site/s of erosion control"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "siteCalculatedAreaHa",
                            "type": "number",
                            "readonly": true,
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "siteCalculatedLengthKm",
                            "type": "number",
                            "readonly": true,
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Please attach mapping details",
                            "source": "extraMappingDetails",
                            "type": "document"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Actual area (ha) of erosion control",
                            "source": "areaControlledHa",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Reason for actual area being different to mapped amount",
                            "source": "mappingNotAlignedReason",
                            "type": "selectOne"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "placeholder": "Please enter the reason/s the mapping area didn't align with the invoiced amount",
                            "source": "mappingNotAlignedComments",
                            "type": "textarea",
                            "rows": 5
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Actual length (km) of erosion control",
                            "source": "lengthControlledKm",
                            "type": "number",
                            "validate": "required",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Reason for actual length being different to mapped amount",
                            "source": "mappingLengthNotAlignedReason",
                            "type": "selectOne"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "placeholder": "Please enter the reason/s the mapping length didn't align with the invoiced amount",
                            "source": "mappingLengthNotAlignedComments",
                            "type": "textarea",
                            "rows": 5
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Invoiced area (ha) of erosion control",
                            "helpText": "",
                            "source": "areaInvoicedHa",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Reason for invoiced amount being different to actual amount",
                            "source": "invoicedNotActualReason",
                            "type": "selectOne"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "placeholder": "Please enter the reason/s the mapping didn't align with the invoiced amount",
                            "source": "invoicedNotActualComments",
                            "type": "textarea",
                            "rows": 5
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Invoiced length (km) of erosion control",
                            "helpText": "",
                            "source": "lengthInvoicedKm",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Reason for invoiced amount being different to actual amount",
                            "source": "invoicedLengthNotActualReason",
                            "type": "selectOne"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "placeholder": "Please enter the reason/s the mapping didn't align with the invoiced amount",
                            "source": "invoicedLengthNotActualComments",
                            "type": "textarea",
                            "rows": 5
                          }
                        ]
                      }
                    ]
                  }
                ]
              },

              {
                "columns": [
                  {
                    "title": "Date from",
                    "source": "dateFrom",
                    "type": "date",
                    "width": "10%"
                  },
                  {
                    "title": "Date to",
                    "source": "dateTo",
                    "type": "date",
                    "width": "10%"
                  },
                  {
                    "width": "20%",
                    "source": "treatmentObjective",
                    "title": "Treatment objective",
                    "type": "text"
                  },
                  {
                    "width": "5%",
                    "source": "numberInstalled",
                    "title": "Number of erosion control structures installed",
                    "type": "number"
                  },
                  {
                    "width": "15%",
                    "type": "col",
                    "title": "Type of treatment being used",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "erosionManagementMethod",
                            "type": "select2"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "otherErosionManagementMethod",
                            "placeholder": "Type of treatment method",
                            "type": "textarea"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "width": "5%",
                    "source": "numberDaysCollecting",
                    "title": "Number of days collecting seeds/propagating plants ",
                    "type": "number"
                  },
                  {
                    "width": "15%",
                    "source": "threatenedEcologicalCommunity",
                    "title": "Threatened Ecological Community (TEC) benefitting from this activity",
                    "type": "text"
                  },
                  {
                    "width": "20%",
                    "title": "Please map any off-site area/s if they benefitted from this erosion management activity",
                    "type": "col",
                    "items": [
                      {
                        "source": "sitesBenefittingFromErosionControl",
                        "type": "feature"
                      },
                      {
                        "source": "areaBenefitingHa",
                        "type": "number",
                        "displayOptions": {
                          "displayUnits": true
                        }
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "evidenceOfBenefit",
                            "placeholder": "Please describe evidence of off-site benefits",
                            "type": "textarea"
                          }
                        ]
                      }
                    ]
                  }
                ],
                "userAddedRows": true,
                "source": "erosionManagementDetails",
                "type": "table"
              }
            ]
          },

              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Optionally attach photos",
                    "source": "photographicEvidence",
                    "type": "image"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Clarification, if needed",
                    "type": "textarea",
                    "rows": 4,
                    "css": "span8",
                    "source": "comments",
                    "placeholder": "Clarification comments include information for your project manager about the service like:\n • any reported items that are not being invoiced (eg, over-achievement) \n • any extraneous circumstances that affected delivery of the service \n"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<p><b>Available Evidence</b></p>This field is mandatory for all projects as part of the invoicing process. Please list evidence you have retained for this service and provide information to where the evidence is stored (links/file location data). Refer to the Project Service Evidence Guide and the Project Service Summaries for information on the evidence requirements.<b style=\"color:red\">*</b>"
                  },
                  {
                    "preLabel": "Data have been uploaded",
                    "source": "dataUploaded",
                    "type": "boolean"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "",
                    "source": "projectAssuranceDetails",
                    "type": "textarea",
                    "rows": 4,
                    "placeholder": "List the documentary evidence you have available for this project service. Include specifically, the document titles and location (e.g. internal IT network pathway, URLs) to assist with locating this material for future audits/assurance purposes."
                  }
                ]
              },
              {
                "type": "table",
                "source": "assuranceDocuments",
                "userAddedRows": true,
                "disableTableUpload": true,
                "columns": [
                  {
                    "title": "Attached documents",
                    "source": "attachments",
                    "type": "document"
                  }
                ]
              }

        ]
      },
      "modelName": null,
      "templateName": "nhtErosionManagement",
      "optional": true,
      "optionalQuestionText": null,
      "title": "Erosion management",
      "collapsibleHeading": null,
      "name": "NHT - Erosion Management",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "dataModel": [
          {
            "dataType": "text",
            "name": "participationIndividualsOrGroups",
            "description": "Once Individuals or groups is selected, the related number field in the next two columns will become editable to report.",
            "constraints": [
              "Individuals",
              "Groups"
            ],
            "validate": "required"
          },
          {
            "dataType": "number",
            "name": "participationIndividualNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Individuals\"",
                "type": "enable"
              }
            ],
            "validate": "required,min[0]"
          },
          {
            "dataType": "text",
            "name": "participationGroupNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Groups\"",
                "type": "enable"
              }
            ],
            "constraints": [
              "0",
              "1-10",
              "11-20",
              "21-30",
              "31-40",
              "41-50"
            ],
            "validate": "required"
          },
          {
            "dataType": "number",
            "name": "firstNationIndividualNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Individuals\"",
                "type": "enable"
              }
            ],
            "validate": "required,min[0]"
          },
          {
            "dataType": "text",
            "name": "firstNationGroupNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Groups\"",
                "type": "enable"
              }
            ],
            "constraints": [
              "0",
              "1-10",
              "11-20",
              "21-30",
              "31-40",
              "41-50"
            ],
            "validate": "required"
          },
          {
            "dataType": "text",
            "name": "participationDetails",
            "validate": "maxSize[3000]"
          },
          {
            "columns": [
              {
                "dataType": "text",
                "name": "newOrMaintained",
                "constraints": [
                  "Newly established",
                  "Maintained"
                ],
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "numberOfPestFreeEnclosures",
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "daysSpentOnMaintenanceOfEnclosures",
                "description": "Number of days should be calculated as number of days by number of people (eg. 4.5 days by 3 people is 13.5 days).",
                "validate": "min[0]"
              },
              {
                "dataType": "feature",
                "name": "sitesForPestAnimalFreeEnclosures"
              },
              {
                "computed": {
                  "expression": "$geom.areaHa(sitesForPestAnimalFreeEnclosures)"
                },
                "dataType": "number",
                "name": "calculatedAreaOfEnclosuresHa",
                "units": "ha",
                "decimalPlaces": 3,
                "behaviour": [
                  {
                    "condition": "areaInvoicedHa > 0",
                    "type": "conditional_validation",
                    "value": {
                      "message": "The area of the enclosure must be mapped",
                      "validate": "required,min[0.0001]"
                    }
                  }
                ]
              },
              {
                "defaultValue": {
                  "expression": "$geom.areaHa(sitesForPestAnimalFreeEnclosures)",
                  "type": "computed"
                },
                "dataType": "number",
                "name": "areaOfEnclosuresHa",
                "description": "Manually enter correct figure for this reporting period if different to mapped value.",
                "units": "ha",
                "decimalPlaces": 3,
                "validate": "required,min[0]"
              },
              {
                "dataType": "number",
                "name": "areaInvoicedHa",
                "description": "Enter the amount you will invoice for during this reporting period.",
                "units": "ha",
                "decimalPlaces": 3,
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "param": {
                      "expression": "areaOfEnclosuresHa",
                      "type": "computed"
                    },
                    "rule": "max"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedReason",
                "behaviour": [
                  {
                    "condition": "not within(areaOfEnclosuresHa, calculatedAreaOfEnclosuresHa, 0.1)",
                    "type": "if"
                  }
                ],
                "constraints": [
                  "Mapped area simplifies more complex area/s where work was undertaken during this period",
                  "Other"
                ],
                "validate": "required"
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedComments",
                "behaviour": [
                  {
                    "condition": "\"Other\" == mappingNotAlignedReason",
                    "type": "if"
                  }
                ],
                "validate": "required,maxSize[300]"
              },
              {
                "dataType": "text",
                "name": "invoicedNotActualReason",
                "behaviour": [
                  {
                    "condition": "roundTo(areaOfEnclosuresHa, 2) != roundTo(areaInvoicedHa, 2)",
                    "type": "visible"
                  }
                ],
                "constraints": [
                  "Work was undertaken over a greater area than will be invoiced for",
                  "Other"
                ],
                "validate": "required"
              },
              {
                "dataType": "text",
                "name": "invoicedNotActualComments",
                "behaviour": [
                  {
                    "condition": "\"Other\" == invoicedNotActualReason",
                    "type": "if"
                  }
                ],
                "validate": "required,maxSize[300]"
              },
              {
                "dataType": "text",
                "name": "invoicingThisActivity",
                "constraints": [
                  "Yes",
                  "No"
                ],
                "validate": "required"
              },
              {
                "dataType": "document",
                "name": "extraMappingDetails",
                "description": "Please fill in the Mapped/Actual/Invoice fields before attaching a document here. If those fields match this field will be void. <br/>If any of these fields differ please attach your organisation's detailed map for the area, covered by this project service - during reporting period (include the scale measure for each map).",
                "behaviour": [
                  {
                    "condition": "not within(areaOfEnclosuresHa, calculatedAreaOfEnclosuresHa, 0.1) or roundTo(areaOfEnclosuresHa, 2) != roundTo(areaInvoicedHa, 2)",
                    "type": "if"
                  }
                ],
                "validate": "required"
              },
              {
                "columns": [
                  {
                    "dataType": "species",
                    "name": "protectedSpecies",
                    "dwcAttribute": "scientificName",
                    "description": "The threatened species protected by the enclosure.",
                    "validate": "required"
                  },
                  {
                    "dataType": "text",
                    "name": "targetFeralSpecies",
                    "description": "",
                    "validate": "required,maxSize[300]"
                  },
                  {
                    "dataType": "text",
                    "name": "individualsOrPopulations",
                    "constraints": [
                      "Individuals",
                      "Populations"
                    ],
                    "validate": "required"
                  },
                  {
                    "dataType": "number",
                    "name": "numberOfPopulationsOrIndividualsProtected",
                    "validate": "required,min[0]"
                  }
                ],
                "dataType": "list",
                "name": "speciesProtected"
              },
              {
                "name": "relatedOutcomes",
                "dataType": "text",
                "description": "Select the outcome/s as defined in your MERI plan that this service was delivered to achieve.",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "value",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "context-path": "outcomes"
                    }
                  }
                }
              },
              {
                "name": "investmentPriorities2",
                "dataType": "stringList",
                "validate": "required",
                "constraints": {
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "params": [
                        {
                          "expression": "owner.projectId",
                          "name": "id",
                          "type": "computed"
                        }
                      ],
                      "url": "/project/listProjectInvestmentPriorities/"
                    }
                  }
                }
              },
              {
                "dataType": "text",
                "name": "otherInvestmentPriority",
                "behaviour": [
                  {
                    "type": "enable",
                    "condition": "\"Other\" in investmentPriorities2"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "invoicingThisActivity",
                "constraints": [
                  "Yes",
                  "No"
                ],
                "validate": "required"
              }
            ],
            "dataType": "list",
            "name": "enclosureDetails"
          },
          {
            "dataType": "number",
            "name": "totalNoPestFreeSurveyEstablished",
            "validate": "required,min[0]",
            "decimalPlaces": 0,
            "defaultValue": 0,
            "computed": {
              "expression": "sum(enclosureDetails, \"newOrMaintained == 'Newly established' ? numberOfPestFreeEnclosures : 0\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalNoPestFreeSurveyEstablishedInvoiced",
            "description": "The total invoiced must be the same or less than the total amount delivered.",
            "validate": "required,min[0]",
            "decimalPlaces": 0,
            "validate": [
              {
                "param": {
                  "expression": "totalNoPestFreeSurveyEstablished",
                  "type": "computed"
                },
                "rule": "max"
              }
            ]
          },
          {
            "dataType": "number",
            "name": "totalNoPestFreeSurveyMaintained",
            "validate": "required,min[0]",
            "decimalPlaces": 0,
            "defaultValue": 0,
            "computed": {
              "expression": "sum(enclosureDetails, \"newOrMaintained == 'Maintained' ? numberOfPestFreeEnclosures : 0\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalNoPestFreeSurveyMaintainedInvoiced",
            "description": "The total invoiced must be the same or less than the total amount delivered.",
            "validate": "required,min[0]",
            "decimalPlaces": 0,
            "defaultValue": 0,
            "validate": [
              {
                "param": {
                  "expression": "totalNoPestFreeSurveyMaintained",
                  "type": "computed"
                },
                "rule": "max"
              }
            ]
          },
          {
            "dataType": "number",
            "name": "totalNoDaysMaintainingPestFree",
            "validate": "required,min[0]",
            "decimalPlaces": 0,
            "defaultValue": 1,
            "computed": {
              "expression": "sum(enclosureDetails, \"daysSpentOnMaintenanceOfEnclosures\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalNoDaysMaintainingPestFreeInvoiced",
            "description": "The total invoiced must be the same or less than the total amount delivered.",
            "decimalPlaces": 0,
            "defaultValue": 0,
            "validate": [
              {
                "param": {
                  "expression": "totalNoDaysMaintainingPestFree",
                  "type": "computed"
                },
                "rule": "max"
              }
            ]
          },
          {
            "dataType": "number",
            "name": "totalAreaPestFreeSurveyInitial",
            "validate": "required,min[0]",
            "decimalPlaces": 0,
            "defaultValue": 0,
            "computed": {
              "expression": "sum(enclosureDetails, \"newOrMaintained == 'Newly established' ? areaOfEnclosuresHa : 0\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalAreaPestFreeSurveyInitialInvoiced",
            "description": "The total invoiced must be the same or less than the total amount delivered.",
            "validate": "required,min[0]",
            "decimalPlaces": 0,
            "defaultValue": 0,
            "validate": [
              {
                "param": {
                  "expression": "totalAreaPestFreeSurveyInitial",
                  "type": "computed"
                },
                "rule": "max"
              }
            ]
          },
          {
            "dataType": "number",
            "name": "totalAreaPestFreeSurveyMaintained",
            "validate": "required,min[0]",
            "decimalPlaces": 0,
            "defaultValue": 0,
            "computed": {
              "expression": "sum(enclosureDetails, \"newOrMaintained == 'Maintained' ? areaOfEnclosuresHa : 0\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalAreaPestFreeSurveyMaintainedInvoiced",
            "description": "The total invoiced must be the same or less than the total amount delivered.",
            "validate": "required,min[0]",
            "decimalPlaces": 0,
            "defaultValue": 0,
            "validate": [
              {
                "param": {
                  "expression": "totalAreaPestFreeSurveyMaintained",
                  "type": "computed"
                },
                "rule": "max"
              }
            ]
          },
          {
            "dataType": "text",
            "name": "comments",
            "validate": "maxSize[1500]"
          },
          {
            "dataType": "image",
            "name": "photographicEvidence"
          },
          {
            "dataType": "boolean",
            "name": "dataUploaded",
            "description": "<ul><li>Tick box to confirm data has been uploaded</li><li>URL Link (mandatory if below is ticked) in available evidence</li></ul>"
          },
          {
            "name": "projectAssuranceDetails",
            "dataType": "text",
            "validate": "required,maxSize[5000]",
            "behaviour": [
              {
                "condition": "dataUploaded == true",
                "type": "enable"
              }
            ]
          },
          {
            "dataType": "list",
            "name": "assuranceDocuments",
            "columns": [
              {
                "dataType": "document",
                "name": "attachments",
                "description": "Please attach any Evidence of Service Delivery here."
              }
            ]
          }
        ],
        "modelName": "NHT - Maintaining feral free enclosures",
        "title": "Establishing and Maintaining Pest Animal-free Enclosures",
        "viewModel": [
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<h3>Participation information</h3>"
              }
            ]
          },
          {
            "columns": [
              {
                "width": "10%",
                "source": "participationIndividualsOrGroups",
                "title": " Are individuals or groups delivering this service?",
                "type": "selectOne"
              },
              {
                "width": "20%",
                "type": "col",
                "title": "Total number of people delivering this service <br>(including First Nations people)",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "participationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "participationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "type": "col",
                "width": "20%",
                "title": "Total number of First Nations people delivering this service ",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "firstNationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "firstNationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "source": "participationDetails",
                "rows": 4,
                "title": "If no First Nations people participated in the delivery of this service, <br>what are the reasons? If there was participation, please provide details.",
                "helpText": "If there were no First Nations people participating in the delivery of this service, please explain the reasons. If there were First Nations people involved, please outline how they were involved.",
                "type": "textarea"
              }
            ],
            "userAddedRows": false,
            "disableTableUpload": false,
            "source": "",
            "type": "table"
          },
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<h3>Totals Summary</h3>"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "type": "col",
                "css": "span3 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(i)  Total number of pest animal-free enclosures (newly established) for this reporting period",
                        "source": "totalNoPestFreeSurveyEstablished",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(ii) Total number of pest animal-free enclosures (newly established) <u><i>invoiced</i></u> for this reporting period",
                        "source": "totalNoPestFreeSurveyEstablishedInvoiced",
                        "type": "number",
                        "readonly": false
                      }
                    ]
                  }
                ]
              },
              {
                "type": "col",
                "css": "span3 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(iii)  Total number of pest animal-free enclosures (maintained) for this reporting period",
                        "source": "totalNoPestFreeSurveyMaintained",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(iv) Total number of pest animal-free enclosures (maintained) <u><i>invoiced</i></u> for this reporting period",
                        "source": "totalNoPestFreeSurveyMaintainedInvoiced",
                        "type": "number",
                        "readonly": false
                      }
                    ]
                  }
                ]
              },
              {
                "type": "col",
                "css": "span3 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(v) Total number of days maintaining pest animal-free enclosures for this reporting period",
                        "source": "totalNoDaysMaintainingPestFree",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(vi) Total number of days maintaining pest animal-free enclosures <u><i>invoiced</i></u> for this reporting period",
                        "source": "totalNoDaysMaintainingPestFreeInvoiced",
                        "type": "number"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "col",
                "css": "span3 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(vii) Total area (ha) of pest animal-free enclosures (newly established) for this reporting period",
                        "source": "totalAreaPestFreeSurveyInitial",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(viii) Total area (ha) of pest animal-free enclosures (newly established) <u><i>invoiced</i></u> for this reporting period",
                        "source": "totalAreaPestFreeSurveyInitialInvoiced",
                        "type": "number"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "col",
                "css": "span3 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(ix) Total area (ha) of pest animal-free enclosures (maintained) for this reporting period",
                        "source": "totalAreaPestFreeSurveyMaintained",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(x) Total area (ha) of pest animal-free enclosures (maintained) <u><i>invoiced</i></u> for this reporting period",
                        "source": "totalAreaPestFreeSurveyMaintainedInvoiced",
                        "type": "number"
                      }
                    ]
                  }
                ]
              }
            ]
          },
          {
            "type": "section",
            "items": [
              {
                "addRowText": "Add a new feral free area",
                "userAddedRows": true,
                "source": "enclosureDetails",
                "type": "repeat",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "css": "span3",
                        "type": "col",
                        "items": [
                          {
                            "type": "row",
                            "items": [
                              {
                                "source": "relatedOutcomes",
                                "type": "selectOne",
                                "preLabel": "Which outcome statement/s does this activity relate to?"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "col",
                        "css": "span3 col-border-right",
                        "items": [
                          {
                            "type": "row",
                            "items": [
                              {
                                "source": "investmentPriorities2",
                                "preLabel": "Which investment priority does this activity relate to?",
                                "type": "select2Many"
                              }
                            ]
                          },
                          {
                            "type": "row",
                            "items": [
                              {
                                "source": "otherInvestmentPriority",
                                "type": "text"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "css": "span3",
                        "type": "col",
                        "items": [
                          {
                            "type": "row",
                            "items": [
                              {
                                "source": "invoicingThisActivity",
                                "preLabel": "Are you invoicing for this activity in this reporting period?",
                                "type": "selectOne"
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "css": "border-bottom",
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "Newly established or maintained feral free enclosure?",
                        "css": "span3",
                        "source": "newOrMaintained",
                        "type": "selectOne"
                      },
                      {
                        "preLabel": "Number of pest animal-free enclosures",
                        "css": "span3",
                        "source": "numberOfPestFreeEnclosures",
                        "type": "number"
                      },
                      {
                        "preLabel": "Number of days maintaining pest animal-free enclosures",
                        "css": "span3",
                        "source": "daysSpentOnMaintenanceOfEnclosures",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "css": "span3 col-border-right",
                        "type": "col",
                        "items": [
                          {
                            "type": "row",
                            "items": [
                              {
                                "preLabel": "Site/s (ha) of pest animal-free enclosure",
                                "source": "sitesForPestAnimalFreeEnclosures",
                                "type": "feature"
                              }
                            ]
                          },
                          {
                            "readonly": "readonly",
                            "source": "calculatedAreaOfEnclosuresHa",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          },
                          {
                            "type": "row",
                            "items": [
                              {
                                "preLabel": "Please attach mapping details",
                                "source": "extraMappingDetails",
                                "type": "document"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "css": "span3 col-border-right",
                        "type": "col",
                        "items": [
                          {
                            "type": "row",
                            "items": [
                              {
                                "preLabel": "Actual area (ha) of pest animal-free enclosure",
                                "source": "areaOfEnclosuresHa",
                                "type": "number",
                                "displayOptions": {
                                  "displayUnits": true
                                }
                              }
                            ]
                          },
                          {
                            "type": "row",
                            "items": [
                              {
                                "preLabel": "Reason for actual being different to mapped amount",
                                "source": "mappingNotAlignedReason",
                                "type": "selectOne"
                              }
                            ]
                          },
                          {
                            "type": "row",
                            "items": [
                              {
                                "placeholder": "Please enter the reason/s the mapping didn't align with the invoiced amount",
                                "source": "mappingNotAlignedComments",
                                "type": "textarea",
                                "rows": 5
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "css": "span3",
                        "type": "col",
                        "items": [
                          {
                            "type": "row",
                            "items": [
                              {
                                "preLabel": "Invoiced area (ha) of pest animal-free enclosure",
                                "source": "areaInvoicedHa",
                                "type": "number",
                                "displayOptions": {
                                  "displayUnits": true
                                }
                              }
                            ]
                          },
                          {
                            "type": "row",
                            "items": [
                              {
                                "preLabel": "Reason for invoiced amount being different to actual amount",
                                "source": "invoicedNotActualReason",
                                "type": "selectOne"
                              }
                            ]
                          },
                          {
                            "type": "row",
                            "items": [
                              {
                                "placeholder": "Please enter the reason/s the mapping didn't align with the invoiced amount",
                                "source": "invoicedNotActualComments",
                                "type": "textarea",
                                "rows": 5
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "addRowText": "Add a species",
                    "columns": [
                      {
                        "width": "25%",
                        "source": "protectedSpecies",
                        "title": "Targeted species being protected",
                        "type": "speciesSelect"
                      },
                      {
                        "width": "30%",
                        "source": "targetFeralSpecies",
                        "title": "Targeted pest animal species being controlled",
                        "type": "text"
                      },
                      {
                        "width": "25%",
                        "source": "individualsOrPopulations",
                        "title": "Individuals or populations?",
                        "type": "selectOne"
                      },
                      {
                        "width": "20%",
                        "source": "numberOfPopulationsOrIndividualsProtected",
                        "title": "Number of populations (or individuals) within pest animal-free enclosures",
                        "type": "number"
                      }
                    ],
                    "userAddedRows": true,
                    "source": "speciesProtected",
                    "type": "table"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Optionally attach photos",
                    "source": "photographicEvidence",
                    "type": "image"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Clarification, if needed",
                    "type": "textarea",
                    "rows": 4,
                    "css": "span8",
                    "source": "comments",
                    "placeholder": "Clarification comments include information for your project manager about the service like:\n • any reported items that are not being invoiced (eg, over-achievement) \n • any extraneous circumstances that affected delivery of the service \n"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<p><b>Available Evidence</b></p>This field is mandatory for all projects as part of the invoicing process. Please list evidence you have retained for this service and provide information to where the evidence is stored (links/file location data). Refer to the Project Service Evidence Guide and the Project Service Summaries for information on the evidence requirements.<b style=\"color:red\">*</b>"
                  },
                  {
                    "preLabel": "Data have been uploaded",
                    "source": "dataUploaded",
                    "type": "boolean"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "",
                    "source": "projectAssuranceDetails",
                    "type": "textarea",
                    "rows": 4,
                    "placeholder": "List the documentary evidence you have available for this project service. Include specifically, the document titles and location (e.g. internal IT network pathway, URLs) to assist with locating this material for future audits/assurance purposes."
                  }
                ]
              },
              {
                "type": "table",
                "source": "assuranceDocuments",
                "userAddedRows": true,
                "disableTableUpload": true,
                "columns": [
                  {
                    "title": "Attached documents",
                    "source": "attachments",
                    "type": "document"
                  }
                ]
              }
            ]
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtFeralFreeEnclosures",
      "optional": true,
      "optionalQuestionText": null,
      "title": "Establishing and maintaining feral-free enclosures",
      "collapsibleHeading": null,
      "name": "NHT - Maintaining feral free enclosures",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template":   {
        "dataModel": [
          {
            "dataType": "text",
            "name": "participationIndividualsOrGroups",
            "description": "Once Individuals or groups is selected, the related number field in the next two columns will become editable to report.",
            "constraints": [
              "Individuals",
              "Groups"
            ],
            "validate": "required"
          },
          {
            "dataType": "number",
            "name": "participationIndividualNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Individuals\"",
                "type": "enable"
              }
            ],
            "validate": "required,min[0]"
          },
          {
            "dataType": "text",
            "name": "participationGroupNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Groups\"",
                "type": "enable"
              }
            ],
            "constraints": [
              "0",
              "1-10",
              "11-20",
              "21-30",
              "31-40",
              "41-50"
            ],
            "validate": "required"
          },
          {
            "dataType": "number",
            "name": "firstNationIndividualNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Individuals\"",
                "type": "enable"
              }
            ],
            "validate": "required,min[0]"
          },
          {
            "dataType": "text",
            "name": "firstNationGroupNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Groups\"",
                "type": "enable"
              }
            ],
            "constraints": [
              "0",
              "1-10",
              "11-20",
              "21-30",
              "31-40",
              "41-50"
            ],
            "validate": "required"
          },
          {
            "dataType": "text",
            "name": "participationDetails",
            "validate": "maxSize[3000]"
          },
          {
            "columns": [
              {
                "name": "relatedOutcomes",
                "dataType": "text",
                "description": "Select the outcome/s as defined in your MERI plan that this service was delivered to achieve.",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "value",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "context-path": "outcomes"
                    }
                  }
                }
              },
              {
                "name": "investmentPriorities2",
                "dataType": "stringList",
                "validate": "required",
                "constraints": {
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "params": [
                        {
                          "expression": "owner.projectId",
                          "name": "id",
                          "type": "computed"
                        }
                      ],
                      "url": "/project/listProjectInvestmentPriorities/"
                    }
                  }
                }
              },
              {
                "dataType": "text",
                "name": "otherInvestmentPriority",
                "behaviour": [
                  {
                    "type": "enable",
                    "condition": "\"Other\" in investmentPriorities2"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "invoicingThisActivity",
                "constraints": [
                  "Yes",
                  "No"
                ],
                "validate": "required"
              },
              {
                "dataType": "text",
                "name": "activityType",
                "constraints": [
                  "Captive Breeding",
                  "Release",
                  "Translocation",
                  "Re-introduction"
                ],
                "validate": "required"
              },
              {
                "dataType": "text",
                "name": "activityPermit",
                "constraints": [
                  "Yes",
                  "No"
                ],
                "validate": "required"
              },
              {
                "dataType": "text",
                "name": "inSituExSitu",
                "constraints": [
                  "Ex-situ",
                  "In-situ"
                ],
                "validate": "required"
              },
              {
                "dataType": "text",
                "name": "newOrMaintained",
                "constraints": [
                  "Newly established",
                  "Maintained"
                ],
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "numberOfCaptiveBreeding",
                "validate": "required"
              },
              {
                "dataType": "feature",
                "name": "areaOfSourceSite"
              },
              {
                "computed": {
                  "expression": "$geom.areaHa(areaOfSourceSite)"
                },
                "dataType": "number",
                "name": "areaOfSourceSiteAreaHa",
                "units": "ha",
                "decimalPlaces": 3,
                "behaviour": [
                  {
                    "condition": "areaOfErosionControlInvoicedHa > 0",
                    "type": "conditional_validation",
                    "value": {
                      "message": "The controlled area must be mapped",
                      "validate": "required,min[0.0001]"
                    }
                  }
                ]
              },
              {
                "dataType": "feature",
                "name": "areaOfReleaseSite"
              },
              {
                "computed": {
                  "expression": "$geom.areaHa(areaOfReleaseSite)"
                },
                "dataType": "number",
                "name": "calculatedAreaOfReleaseSiteHa",
                "units": "ha",
                "decimalPlaces": 3,
                "behaviour": [
                  {
                    "condition": "areaOfErosionControlInvoicedHa > 0",
                    "type": "conditional_validation",
                    "value": {
                      "message": "The controlled area must be mapped",
                      "validate": "required,min[0.0001]"
                    }
                  }
                ]
              },
              {
                "columns": [
                  {
                    "dataType": "date",
                    "name": "activitiesStartDate",
                    "description": "Specific the dates these events were held on.",
                    "validate": "required"
                  },
                  {
                    "dataType": "date",
                    "name": "activitiesEndDate",
                    "description": "Specific the dates these events were held on.",
                    "validate": "required"
                  },
                  {
                    "dataType": "text",
                    "name": "breedingTechnique",
                    "constraints": [
                      "Captive breeding",
                      "Fauna captive breeding program",
                      "Fauna wild breeding program",
                      "Other"
                    ],
                    "validate": "required"
                  },
                  {
                    "dataType": "text",
                    "name": "otherBreedingTechnique",
                    "description": "",
                    "behaviour": [
                      {
                        "condition": "breedingTechnique == \"Other\"",
                        "type": "enable"
                      }
                    ],
                    "validate": "required,maxSize[300]"
                  },
                  {
                    "dataType": "text",
                    "name": "individualsOrGroups",
                    "constraints": [
                      "Individuals",
                      "Groups"
                    ],
                    "validate": "required"
                  },
                  {
                    "dataType": "number",
                    "name": "numberOfIndividualsOrGroups",
                    "validate": "required,min[0]"
                  },
                  {
                    "dataType": "number",
                    "name": "numberOfIndividualsReleased",
                    "validate": "required,min[0]"
                  },
                  {
                    "dataType": "number",
                    "name": "numberOfAdnimalDiedPreReleased",
                    "validate": "required,min[0]"
                  },
                  {
                    "name": "projectBaseline",
                    "dataType": "text",
                    "description": "Select the relevant Project Baseline as listed in the Monitoring Methodology section of the MERI Plan.",
                    "validate": "required",
                    "constraints": {
                      "textProperty": "baseline",
                      "valueProperty": "code",
                      "type": "pre-populated",
                      "excludePath": "projectBaseline",
                      "config": {
                        "source": {
                          "context-path": "owner.custom.details.baseline.rows"
                        }
                      }
                    }
                  },
                  {
                    "name": "datasetSupports",
                    "dataType": "text",
                    "description": "This section will require the Data Set Name so the Metadata fields in the Data Set Summary tab should be filled out before the Outcome Report is due. More than one dataset if relevant for this Project Baseline could be selected.",
                    "validate": "required",
                    "constraints": {
                      "textProperty": "name",
                      "valueProperty": "dataSetId",
                      "type": "pre-populated",
                      "config": {
                        "source": {
                          "context-path": "owner.custom.dataSets"
                        }
                      }
                    }
                  }
                ],
                "dataType": "list",
                "name": "speciesInBreedingProgram"
              }
            ],
            "dataType": "list",
            "name": "breedingProgramDetails"
          },
          {
            "name": "numberOfBreedingProgramsSurveysConducted",
            "type": "number",
            "decimalPlaces": 0,
            "computed": {
              "expression": "count(breedingProgramDetails, \"numberOfIndividualsReleased\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalCaptiveBreedingEstablished",
            "validate": "required,min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(breedingProgramDetails, \"newOrMaintained == 'Newly established' ? numberOfCaptiveBreeding : 0\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalCaptiveBreedingEstablishedInvoiced",
            "validate": [
              {
                "param": {
                  "expression": "totalCaptiveBreedingEstablished",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": 0
          },
          {
            "dataType": "number",
            "name": "totalCaptiveBreedingMaintained",
            "validate": "required,min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(breedingProgramDetails, \"newOrMaintained == 'Maintained' ? numberOfCaptiveBreeding : 0\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalCaptiveBreedingMaintainedInvoiced",
            "validate": [
              {
                "param": {
                  "expression": "totalCaptiveBreedingMaintained",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": 0
          },
          {
            "dataType": "text",
            "name": "comments",
            "validate": "maxSize[1500]"
          },
          {
            "dataType": "image",
            "name": "photographicEvidence"
          },
          {
            "dataType": "boolean",
            "name": "dataUploaded",
            "description": "<ul><li>Tick box to confirm data has been uploaded</li><li>URL Link (mandatory if below is ticked) in available evidence</li></ul>"
          },
          {
            "name": "projectAssuranceDetails",
            "dataType": "text",
            "validate": "required,maxSize[5000]",
            "behaviour": [
              {
                "condition": "dataUploaded == true",
                "type": "enable"
              }
            ]
          },
          {
            "dataType": "list",
            "name": "assuranceDocuments",
            "columns": [
              {
                "dataType": "document",
                "name": "attachments",
                "description": "Please attach any Evidence of Service Delivery here."
              }
            ]
          }
        ],
        "modelName": "NHT - Establishing ex-situ breeding programs",
        "title": "Captive Breeding, Translocation or Re-introduction Program",
        "viewModel": [
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<h3>Participation information</h3>"
              }
            ]
          },
          {
            "columns": [
              {
                "width": "10%",
                "source": "participationIndividualsOrGroups",
                "title": " Are individuals or groups delivering this service?",
                "type": "selectOne"
              },
              {
                "width": "20%",
                "type": "col",
                "title": "Total number of people delivering this service <br>(including First Nations people)",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "participationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "participationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "type": "col",
                "width": "20%",
                "title": "Total number of First Nations people delivering this service ",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "firstNationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "firstNationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "source": "participationDetails",
                "rows": 4,
                "title": "If no First Nations people participated in the delivery of this service, <br>what are the reasons? If there was participation, please provide details.",
                "helpText": "If there were no First Nations people participating in the delivery of this service, please explain the reasons. If there were First Nations people involved, please outline how they were involved.",
                "type": "textarea"
              }
            ],
            "userAddedRows": false,
            "disableTableUpload": false,
            "source": "",
            "type": "table"
          },
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<h3>Totals Summary</h3>"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(i) Total number of captive breeding and release, translocation or re-introduction programs (newly established) for this reporting period",
                        "source": "totalCaptiveBreedingEstablished",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(ii) Total number of captive breeding and release, translocation or re-introduction programs (newly established) <u><i>invoiced</i></u> for this reporting period",
                        "source": "totalCaptiveBreedingEstablishedInvoiced",
                        "type": "number"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(iii) Total number of captive breeding and release, translocation or re-introduction programs (maintained) for this reporting period",
                        "source": "totalCaptiveBreedingMaintained",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(iv) Total number of captive breeding and release, translocation or re-introduction programs (maintained) <u><i>invoiced</i></u> for this reporting period",
                        "source": "totalCaptiveBreedingMaintainedInvoiced",
                        "type": "number"
                      }
                    ]
                  }
                ]
              }
            ]
          },
          {
            "type": "section",
            "items": [
              {
                "addRowText": "Add a new breeding area",
                "userAddedRows": true,
                "source": "breedingProgramDetails",
                "type": "repeat",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "css": "span3",
                        "type": "col",
                        "items": [
                          {
                            "type": "row",
                            "items": [
                              {
                                "source": "relatedOutcomes",
                                "type": "selectOne",
                                "preLabel": "Which outcome statement/s does this activity relate to?"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "col",
                        "css": "span3 col-border-right",
                        "items": [
                          {
                            "type": "row",
                            "items": [
                              {
                                "source": "investmentPriorities2",
                                "preLabel": "Which investment priority does this activity relate to?",
                                "type": "select2Many"
                              }
                            ]
                          },
                          {
                            "type": "row",
                            "items": [
                              {
                                "source": "otherInvestmentPriority",
                                "type": "text"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "css": "span3",
                        "type": "col",
                        "items": [
                          {
                            "type": "row",
                            "items": [
                              {
                                "source": "invoicingThisActivity",
                                "preLabel": "Are you invoicing for this activity in this reporting period?",
                                "type": "selectOne"
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "css": "border-bottom",
                    "items": [
                      {
                        "type": "col",
                        "css": "span3 col-border-right",
                        "items": [
                          {
                            "type": "row",
                            "items": [
                              {
                                "preLabel": "Type of activity",
                                "source": "activityType",
                                "type": "selectOne"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "col",
                        "css": "span3 col-border-right",
                        "items": [
                          {
                            "type": "row",
                            "items": [
                              {
                                "preLabel": "Is this an established or maintained activity?",
                                "source": "newOrMaintained",
                                "type": "selectOne"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "col",
                        "css": "span3 col-border-right",
                        "items": [
                          {
                            "type": "row",
                            "items": [
                              {
                                "preLabel": "Were permits obtained to support this activity?",
                                "source": "activityPermit",
                                "type": "selectOne"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "col",
                        "css": "span3 col-border-right",
                        "items": [
                          {
                            "type": "row",
                            "items": [
                              {
                                "preLabel": "Ex-situ / In-situ",
                                "source": "inSituExSitu",
                                "type": "selectOne"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "col",
                        "css": "span3 col-border-right",
                        "items": [
                          {
                            "type": "row",
                            "items": [
                              {
                                "preLabel": "Number of captive breeding, release, translocation, or re-introduction sites newly established/ maintained",
                                "source": "numberOfCaptiveBreeding",
                                "type": "number"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "col",
                        "css": "span3 col-border-right",
                        "items": [
                          {
                            "type": "row",
                            "items": [
                              {
                                "source": "areaOfSourceSite",
                                "type": "feature",
                                "preLabel": "Site/s of captive breeding, pre-translocation capture (source site)"
                              }
                            ]
                          },
                          {
                            "type": "row",
                            "items": [
                              {
                                "source": "areaOfSourceSiteAreaHa",
                                "type": "number",
                                "readonly": true,
                                "displayOptions": {
                                  "displayUnits": true
                                }
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "col",
                        "css": "span3 col-border-right",
                        "items": [
                          {
                            "type": "row",
                            "items": [
                              {
                                "source": "areaOfReleaseSite",
                                "type": "feature",
                                "preLabel": " Site/s of release of captive breeding, re-introduced or translocated animals (release site)"
                              }
                            ]
                          },
                          {
                            "type": "row",
                            "items": [
                              {
                                "readonly": "readonly",
                                "source": "calculatedAreaOfReleaseSiteHa",
                                "type": "number",
                                "displayOptions": {
                                  "displayUnits": true
                                }
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "addRowText": "Add a species",
                    "columns": [
                      {
                        "width": "10%",
                        "source": "activitiesStartDate",
                        "type": "date",
                        "title": "Activity start date"
                      },
                      {
                        "width": "10%",
                        "source": "activitiesEndDate",
                        "type": "date",
                        "title": "Activity end date"
                      },
                      {
                        "width": "10%",
                        "source": "individualsOrGroups",
                        "type": "selectOne",
                        "title": "Individuals or groups?"
                      },
                      {
                        "width": "10%",
                        "source": "numberOfIndividualsOrGroups",
                        "title": "Number of groups/individuals of the investment priority species in captive breeding, release, translocation or re-introduction program",
                        "type": "number"
                      },
                      {
                        "width": "10%",
                        "source": "numberOfAdnimalDiedPreReleased",
                        "title": "Number of animals bred, died (pre-release), released, translocated, or re-introduced",
                        "type": "number"
                      },
                      {
                        "width": "10%",
                        "type": "col",
                        "title": "Technique used",
                        "items": [
                          {
                            "source": "breedingTechnique",
                            "type": "select2"
                          },
                          {
                            "source": "otherBreedingTechnique",
                            "type": "text"
                          }
                        ]
                      },
                      {
                        "width": "10%",
                        "source": "numberOfIndividualsReleased",
                        "title": "Number of individuals released, translocated, or re-introduced to the wild",
                        "type": "number"
                      },
                      {
                        "source": "projectBaseline",
                        "type": "selectOne",
                        "width": "10%",
                        "title": "Which project baseline relates to this survey?"
                      },
                      {
                        "source": "datasetSupports",
                        "type": "select2Many",
                        "width": "20%",
                        "title": "What dataset supports this?"
                      }
                    ],
                    "userAddedRows": true,
                    "source": "speciesInBreedingProgram",
                    "type": "table"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Optionally attach photos",
                    "source": "photographicEvidence",
                    "type": "image"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Clarification, if needed",
                    "type": "textarea",
                    "rows": 4,
                    "css": "span8",
                    "source": "comments",
                    "placeholder": "Clarification comments include information for your project manager about the service like:\n • any reported items that are not being invoiced (eg, over-achievement) \n • any extraneous circumstances that affected delivery of the service \n"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<p><b>Available Evidence</b></p>This field is mandatory for all projects as part of the invoicing process. Please list evidence you have retained for this service and provide information to where the evidence is stored (links/file location data). Refer to the Project Service Evidence Guide and the Project Service Summaries for information on the evidence requirements.<b style=\"color:red\">*</b>"
                  },
                  {
                    "preLabel": "Data have been uploaded",
                    "source": "dataUploaded",
                    "type": "boolean"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "",
                    "source": "projectAssuranceDetails",
                    "type": "textarea",
                    "rows": 4,
                    "placeholder": "List the documentary evidence you have available for this project service. Include specifically, the document titles and location (e.g. internal IT network pathway, URLs) to assist with locating this material for future audits/assurance purposes."
                  }
                ]
              },
              {
                "type": "table",
                "source": "assuranceDocuments",
                "userAddedRows": true,
                "disableTableUpload": true,
                "columns": [
                  {
                    "title": "Attached documents",
                    "source": "attachments",
                    "type": "document"
                  }
                ]
              }
            ]
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtExSituBreedingSites",
      "optional": true,
      "optionalQuestionText": null,
      "title": "Establishing ex-situ breeding program",
      "collapsibleHeading": null,
      "name": "NHT - Establishing ex-situ breeding programs",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "dataModel": [
          {
            "dataType": "text",
            "name": "participationIndividualsOrGroups",
            "description": "Once Individuals or groups is selected, the related number field in the next two columns will become editable to report.",
            "constraints": [
              "Individuals",
              "Groups"
            ],
            "validate": "required"
          },
          {
            "dataType": "number",
            "name": "participationIndividualNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Individuals\"",
                "type": "enable"
              }
            ],
            "validate": "required,min[0]"
          },
          {
            "dataType": "text",
            "name": "participationGroupNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Groups\"",
                "type": "enable"
              }
            ],
            "constraints": [
              "0",
              "1-10",
              "11-20",
              "21-30",
              "31-40",
              "41-50"
            ],
            "validate": "required"
          },
          {
            "dataType": "number",
            "name": "firstNationIndividualNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Individuals\"",
                "type": "enable"
              }
            ],
            "validate": "required,min[0]"
          },
          {
            "dataType": "text",
            "name": "firstNationGroupNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Groups\"",
                "type": "enable"
              }
            ],
            "constraints": [
              "0",
              "1-10",
              "11-20",
              "21-30",
              "31-40",
              "41-50"
            ],
            "validate": "required"
          },
          {
            "dataType": "text",
            "name": "participationDetails",
            "validate": "maxSize[3000]"
          },


          {
            "columns": [
              {
                "dataType": "text",
                "name": "establishedOrImplementation",
                "constraints": [
                  "Established",
                  "Implementation"
                ],
                "validate": "required"
              },
              {
                "dataType": "feature",
                "name": "agreementSites"
              },
              {
                "computed": {
                  "expression": "$geom.areaHa(agreementSites)"
                },
                "dataType": "number",
                "name": "calculatedAreaCoveredByAgreementsHa",
                "units": "ha",
                "decimalPlaces": 3,
                "behaviour": [
                  {
                    "condition": "areaOfCoveredByAgreementsInvoicedHa > 0",
                    "type": "conditional_validation",
                    "value": {
                      "message": "The area must be mapped",
                      "validate": "required,min[0.0001]"
                    }
                  }
                ]
              },

              {
                "defaultValue": {
                  "expression": "calculatedAreaCoveredByAgreementsHa",
                  "type": "computed"
                },
                "dataType": "number",
                "name": "areaCoveredByAgreementsHa",
                "units": "ha",
                "decimalPlaces": 3,
                "validate": "required,min[0]",
                "behaviour": [
                  {
                    "condition": "\"Established\" == establishedOrImplementation",
                    "type": "visible"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedReason",
                "behaviour": [
                  {
                    "condition": "not (within(areaCoveredByAgreementsHa, calculatedAreaCoveredByAgreementsHa, 0.1))",
                    "type": "visible"
                  }
                ],
                "constraints": [
                  "Mapped area simplifies more complex area/s where work was undertaken during this period",
                  "Other"
                ],
                "validate": "required"
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedComments",
                "behaviour": [
                  {
                    "condition": "\"Other\" == mappingNotAlignedReason",
                    "type": "visible"
                  }
                ],
                "validate": "required,maxSize[300]"
              },
              {
                "dataType": "number",
                "name": "areaOfCoveredByAgreementsInvoicedHa",
                "units": "ha",
                "decimalPlaces": 3,
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "param": {
                      "expression": "areaCoveredByAgreementsHa",
                      "type": "computed"
                    },
                    "rule": "max"
                  }
                ]
              },
              {
                "dataType": "document",
                "name": "extraMappingDetails",
                "description": "Please fill in the Mapped/Actual/Invoice fields before attaching a document here. If those fields match this field will be void. <br/>If any of these fields differ please attach your organisation's detailed map for the area, covered by this project service - during reporting period (include the scale measure for each map).",
                "behaviour": [
                  {
                    "condition": "not (within(calculatedAreaCoveredByAgreementsHa, areaCoveredByAgreementsHa, 0.1)) or roundTo(areaCoveredByAgreementsHa, 2) != roundTo(areaOfCoveredByAgreementsInvoicedHa, 2)",
                    "type": "visible"
                  }
                ],
                "validate": "required"
              },
              {
                "dataType": "text",
                "name": "invoicedNotActualReason",
                "behaviour": [
                  {
                    "condition": "roundTo(areaOfCoveredByAgreementsInvoicedHa, 2) != roundTo(areaCoveredByAgreementsHa, 2)",
                    "type": "visible"
                  }
                ],
                "constraints": [
                  "Work was undertaken over a greater area than will be invoiced for",
                  "Other"
                ],
                "validate": "required"
              },
              {
                "dataType": "text",
                "name": "invoicedNotActualComments",
                "behaviour": [
                  {
                    "condition": "\"Other\" == invoicedNotActualReason",
                    "type": "visible"
                  }
                ],
                "validate": "required,maxSize[300]"
              },

              {
                "dataType": "feature",
                "name": "agreementSitesImplementation"
              },
              {
                "computed": {
                  "expression": "$geom.areaHa(agreementSitesImplementation)"
                },
                "dataType": "number",
                "name": "calculatedAreaCoveredByAgreementsHaImplementation",
                "units": "ha",
                "decimalPlaces": 3,
                "behaviour": [
                  {
                    "condition": "areaOfCoveredByAgreementsInvoicedHa > 0",
                    "type": "conditional_validation",
                    "value": {
                      "message": "The area must be mapped",
                      "validate": "required,min[0.0001]"
                    }
                  }
                ]
              },

              {
                "defaultValue": {
                  "expression": "calculatedAreaCoveredByAgreementsHaImplementation",
                  "type": "computed"
                },
                "dataType": "number",
                "name": "areaCoveredByAgreementsHaImplementation",
                "units": "ha",
                "decimalPlaces": 3,
                "validate": "required,min[0]",
                "behaviour": [
                  {
                    "condition": "\"Implementation\" == establishedOrImplementation",
                    "type": "visible"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedReasonImplementation",
                "behaviour": [
                  {
                    "condition": "not (within(areaCoveredByAgreementsHaImplementation, calculatedAreaCoveredByAgreementsHaImplementation, 0.1))",
                    "type": "visible"
                  }
                ],
                "constraints": [
                  "Mapped area simplifies more complex area/s where work was undertaken during this period",
                  "Other"
                ],
                "validate": "required"
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedCommentsImplementation",
                "behaviour": [
                  {
                    "condition": "\"Other\" == mappingNotAlignedReasonImplementation",
                    "type": "visible"
                  }
                ],
                "validate": "required,maxSize[300]"
              },
              {
                "dataType": "number",
                "name": "areaOfCoveredByAgreementsInvoicedHaImplementation",
                "units": "ha",
                "decimalPlaces": 3,
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "param": {
                      "expression": "areaCoveredByAgreementsHaImplementation",
                      "type": "computed"
                    },
                    "rule": "max"
                  }
                ]
              },
              {
                "dataType": "document",
                "name": "extraMappingDetailsImplementation",
                "description": "Please fill in the Mapped/Actual/Invoice fields before attaching a document here. If those fields match this field will be void. <br/>If any of these fields differ please attach your organisation's detailed map for the area, covered by this project service - during reporting period (include the scale measure for each map).",
                "behaviour": [
                  {
                    "condition": "not (within(calculatedAreaCoveredByAgreementsHaImplementation, areaCoveredByAgreementsHaImplementation, 0.1)) or roundTo(areaCoveredByAgreementsHaImplementation, 2) != roundTo(areaOfCoveredByAgreementsInvoicedHaImplementation, 2)",
                    "type": "visible"
                  }
                ],
                "validate": "required"
              },
              {
                "dataType": "text",
                "name": "invoicedNotActualReasonImplementation",
                "behaviour": [
                  {
                    "condition": "roundTo(areaOfCoveredByAgreementsInvoicedHaImplementation, 2) != roundTo(areaCoveredByAgreementsHaImplementation, 2)",
                    "type": "visible"
                  }
                ],
                "constraints": [
                  "Work was undertaken over a greater area than will be invoiced for",
                  "Other"
                ],
                "validate": "required"
              },
              {
                "dataType": "text",
                "name": "invoicedNotActualCommentsImplementation",
                "behaviour": [
                  {
                    "condition": "\"Other\" == invoicedNotActualReasonImplementation",
                    "type": "visible"
                  }
                ],
                "validate": "required,maxSize[300]"
              },


              {
                "columns": [
                  {
                    "dataType": "text",
                    "name": "agreementType",
                    "description": "",
                    "constraints": [
                      "On title in perpetuity (e.g. conservation convenant)",
                      "Binding agreement not on title in perpetuity (e.g. property vegetation plan)",
                      "Termed agreement not on title - binding (e.g. land management agreement)",
                      "Not on title - non-binding (e.g. Wildlife Refuge)",
                      "No protection mechanism applicable",
                      "Other"
                    ],
                    "validate": "required"
                  },
                  {
                    "dataType": "text",
                    "name": "otherAgreementType",
                    "description": "",
                    "behaviour": [
                      {
                        "condition": "agreementType == \"Other\"",
                        "type": "enable"
                      }
                    ],
                    "validate": "required,maxSize[300]"
                  },
                  {
                    "dataType": "number",
                    "name": "numberOfAgreements",
                    "validate": "required,min[0]"
                  },
                  {
                    "dataType": "number",
                    "name": "numberOfDaysMaintainingAgreements",
                    "description": "Number of days should be calculated as number of days by number of people (eg. 4.5 days by 3 people is 13.5 days).",
                    "validate": "required,min[0]"
                  },
                  {
                    "name": "relatedOutcomes",
                    "dataType": "text",
                    "description": "Select the outcome/s as defined in your MERI plan that this service was delivered to achieve.",
                    "validate": "required",
                    "constraints": {
                      "textProperty": "label",
                      "valueProperty": "label",
                      "type": "pre-populated",
                      "config": {
                        "source": {
                          "url": "/project/outcomesByScores",
                          "params": [
                            {
                              "expression": "owner.projectId",
                              "name": "id",
                              "type": "computed"
                            },
                            {
                              "expression": "scores",
                              "name": "scoreIds",
                              "type": "computed"
                            }
                          ]
                        }
                      }
                    }
                  },
                  {
                    "name": "investmentPriorities2",
                    "dataType": "stringList",
                    "validate": "required",
                    "constraints": {
                      "type": "pre-populated",
                      "config": {
                        "source": {
                          "params": [
                            {
                              "expression": "owner.projectId",
                              "name": "id",
                              "type": "computed"
                            }
                          ],
                          "url": "/project/listProjectInvestmentPriorities/"
                        }
                      }
                    }
                  },
                  {
                    "dataType": "text",
                    "name": "otherInvestmentPriority",
                    "behaviour": [
                      {
                        "type": "enable",
                        "condition": "\"Other\" in investmentPriorities2"
                      }
                    ]
                  },
                  {
                    "dataType": "number",
                    "name": "yearsOfTheAgreement",
                    "validate": "required,min[0]"
                  },
                  {
                    "dataType": "text",
                    "name": "agreementPurpose",
                    "validate": "required,maxSize[300]"
                  },
                  {
                    "dataType": "text",
                    "name": "agreementMadeWith",
                    "validate": "required,maxSize[300]"
                  },
                  {
                    "dataType": "text",
                    "name": "implementationType",
                    "constraints": [
                      "Managing Sward Height",
                      "Native Herbivore Management",
                      "Pest Animal Management",
                      "Weed Removal/Management",
                      "Biomass Control",
                      "Revegetation (including planting and seeding)",
                      "Regeneration",
                      "Restoration of Habitat Features",
                      "Improving Land Management Practices",
                      "Other (explanation of the activity required)"
                    ],
                    "validate": "required"
                  },
                  {
                    "dataType": "text",
                    "name": "otherImplementationType",
                    "description": "",
                    "behaviour": [
                      {
                        "condition": "implementationType == \"Other (explanation of the activity required)\"",
                        "type": "enable"
                      }
                    ],
                    "validate": "required,maxSize[300]"
                  }
                ],
                "dataType": "list",
                "name": "agreements"
              }
              ],
            "dataType": "list",
            "name": "conservationAgreementsControlled"
          },
          {
            "dataType": "number",
            "name": "totalAreaConservationAgreements",
            "validate": "required,min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(conservationAgreementsControlled, \"areaCoveredByAgreementsHa\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalAreaConservationAgreementsInvoiced",
            "validate": [
              {
                "param": {
                  "expression": "totalAreaConservationAgreements",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": 1
          },
          {
            "dataType": "number",
            "name": "totalAreaActivitiesConducted",
            "validate": "required,min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(conservationAgreementsControlled, \"areaCoveredByAgreementsHaImplementation\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalAreaActivitiesConductedInvoiced",
            "validate": [
              {
                "param": {
                  "expression": "totalAreaActivitiesConducted",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": 1
          },
          {
            "dataType": "text",
            "name": "comments",
            "validate": "maxSize[1500]"
          },
          {
            "dataType": "image",
            "name": "photographicEvidence"
          },
          {
            "dataType": "boolean",
            "name": "dataUploaded",
            "description": "<ul><li>Tick box to confirm data has been uploaded</li><li>URL Link (mandatory if below is ticked) in available evidence</li></ul>"
          },
          {
            "name": "projectAssuranceDetails",
            "dataType": "text",
            "validate": "required,maxSize[5000]",
            "behaviour": [
              {
                "condition": "dataUploaded == true",
                "type": "enable"
              }
            ]
          },
          {
            "dataType": "list",
            "name": "assuranceDocuments",
            "columns": [
              {
                "dataType": "document",
                "name": "attachments",
                "description": "Please attach any Evidence of Service Delivery here."
              }
            ]
          }
        ],
        "modelName": "NHT - Establishing Agreements",
        "title": "Establishing and Implementing Conservation Agreements",
        "viewModel": [
          {
            "columns": [
              {
                "width": "10%",
                "source": "participationIndividualsOrGroups",
                "title": "Are individuals or groups delivering this service?",
                "type": "selectOne"
              },
              {
                "width": "20%",
                "type": "col",
                "title": "Total number of people delivering this service <br>(including First Nations people)",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "participationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "participationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "type": "col",
                "width": "20%",
                "title": "Total number of First Nations people delivering this service ",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "firstNationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "firstNationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "source": "participationDetails",
                "rows": 4,
                "title": "If no First Nations people participated in the delivery of this service, <br>what are the reasons? If there was participation, please provide details.",
                "helpText": "If there were no First Nations people participating in the delivery of this service, please explain the reasons. If there were First Nations people involved, please outline how they were involved.",
                "type": "textarea"
              }
            ],
            "userAddedRows": false,
            "disableTableUpload": false,
            "source": "",
            "type": "table"
          },
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<h3>Totals Summary</h3>"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(i) Total area (ha) covered by conservation agreements during this reporting period (Established)",
                        "source": "totalAreaConservationAgreements",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(ii) Total area (ha) covered by conservation agreements <u><i>invoiced</i></u> for during this reporting period (Established)",
                        "source": "totalAreaConservationAgreementsInvoiced",
                        "type": "number"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(iii) Total area (ha) where implementation activities conducted during this reporting period (Implementation/Stewardship)",
                        "source": "totalAreaActivitiesConducted",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(iv) Total Area (ha) where implementation activities conducted <u><i>invoiced</i></u> for during this reporting period (Implementation/Stewardship)",
                        "source": "totalAreaActivitiesConductedInvoiced",
                        "type": "number"
                      }
                    ]
                  }
                ]
              }
            ]
          },
          {
            "type": "section",
            "items": [
              {
                "addRowText": "Add a new controlled area",
                "userAddedRows": true,
                "source": "conservationAgreementsControlled",
                "type": "repeat",
                "items": [
                  {
                    "type": "row",
                    "css": "border-bottom",
                    "items": [
                      {
                        "type": "col",
                        "css": "span3 col-border-right",
                        "items": [
                          {
                            "type": "row",
                            "items": [
                              {
                                "source": "establishedOrImplementation",
                                "type": "selectOne",
                                "preLabel": "Established or implementation?"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "col",
                        "css": "span3 col-border-right",
                        "items": [
                          {
                            "type": "row",
                            "items": [
                              {
                                "preLabel": "Site/s where agreements were established",
                                "source": "agreementSites",
                                "type": "feature"
                              }
                            ]
                          },
                          {
                            "type": "row",
                            "items": [
                              {
                                "readonly": "readonly",
                                "source": "calculatedAreaCoveredByAgreementsHa",
                                "type": "number",
                                "displayOptions": {
                                  "displayUnits": true
                                }
                              }
                            ]
                          },
                          {
                            "type": "row",
                            "items": [
                              {
                                "preLabel": "Please attach mapping details",
                                "source": "extraMappingDetails",
                                "type": "document"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "col",
                        "css": "span3 col-border-right",
                        "items": [
                          {
                            "type": "row",
                            "items": [
                              {
                                "helpText": "Enter the actual amount during this reporting period.",
                                "preLabel": "Actual area (ha) of site/s agreements",
                                "source": "areaCoveredByAgreementsHa",
                                "type": "number",
                                "displayOptions": {
                                  "displayUnits": true
                                }
                              }
                            ]
                          },
                          {
                            "type": "row",
                            "items": [
                              {
                                "preLabel": "Reason for actual amount being different to aligned amount",
                                "source": "mappingNotAlignedReason",
                                "type": "selectOne"
                              }
                            ]
                          },
                          {
                            "type": "row",
                            "items": [
                              {
                                "placeholder": "Please enter the reason/s the actual didn't align with the agreed amount",
                                "source": "mappingNotAlignedComments",
                                "type": "textarea"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "col",
                        "css": "span3 col-border-right",
                        "items": [
                          {
                            "type": "row",
                            "items": [
                              {
                                "helpText": "Enter the amount you will invoice for during this reporting period.",
                                "preLabel": "Invoiced area (ha) of site/s agreements",
                                "source": "areaOfCoveredByAgreementsInvoicedHa",
                                "type": "number",
                                "displayOptions": {
                                  "displayUnits": true
                                }
                              }
                            ]
                          },
                          {
                            "type": "row",
                            "items": [
                              {
                                "preLabel": "Reason for invoiced amount being different to actual amount",
                                "source": "invoicedNotActualReason",
                                "type": "selectOne"
                              }
                            ]
                          },
                          {
                            "type": "row",
                            "items": [
                              {
                                "placeholder": "Please enter the reason/s the mapping didn't align with the invoiced amount",
                                "source": "invoicedNotActualComments",
                                "type": "textarea",
                                "rows": 5
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "columns": [
                      {
                        "width": "15%",
                        "title": "Type of agreement",
                        "type": "col",
                        "items": [
                          {
                            "type": "row",
                            "items": [
                              {
                                "source": "agreementType",
                                "type": "select2"
                              }
                            ]
                          },
                          {
                            "type": "row",
                            "items": [
                              {
                                "source": "otherAgreementType",
                                "title": "Type of Agreement (if other)",
                                "type": "textarea"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "width": "10%",
                        "source": "numberOfAgreements",
                        "type": "number",
                        "title": "Number of conservation agreements established"
                      },
                      {
                        "width": "10%",
                        "source": "numberOfDaysMaintainingAgreements",
                        "type": "number",
                        "title": "Number of days maintaining agreements (if applicable)"
                      },
                      {
                        "source": "relatedOutcomes",
                        "type": "selectOne",
                        "width": "10%",
                        "title": "Which outcome statement/s relates to this survey?"
                      },
                      {
                        "width": "10%",
                        "type": "col",
                        "title": "Which investment priority does this activity relate to?",
                        "items": [
                          {
                            "source": "investmentPriorities2",
                            "type": "select2Many"
                          },
                          {
                            "source": "otherInvestmentPriority",
                            "type": "text"
                          }
                        ]
                      },
                      {
                        "width": "5%",
                        "source": "yearsOfTheAgreement",
                        "type": "number",
                        "title": "Length (years of the agreement)"
                      },
                      {
                        "width": "15%",
                        "source": "agreementPurpose",
                        "title": "Purpose of agreement",
                        "type": "textarea"
                      },
                      {
                        "width": "10%",
                        "source": "agreementMadeWith",
                        "title": "Who the agreement was made with?",
                        "type": "textarea"
                      },
                      {
                        "width": "10%",
                        "title": "Types of implementation/stewardship activities undertaken",
                        "type": "col",
                        "items": [
                          {
                            "type": "row",
                            "items": [
                              {
                                "source": "implementationType",
                                "type": "select2"
                              }
                            ]
                          },
                          {
                            "source": "otherImplementationType",
                            "placeholder": "",
                            "type": "text"
                          }
                        ]
                      }
                    ],
                    "userAddedRows": true,
                    "source": "agreements",
                    "type": "table"
                  }
                ]
              }
            ]
          },
          {
            "type": "section",
            "items": [
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Optionally attach photos",
                    "source": "photographicEvidence",
                    "type": "image"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Clarification, if needed",
                    "type": "textarea",
                    "rows": 4,
                    "css": "span8",
                    "source": "comments",
                    "placeholder": "Clarification comments include information for your project manager about the service like:\n • any reported items that are not being invoiced (eg, over-achievement) \n • any extraneous circumstances that affected delivery of the service \n"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<p><b>Available Evidence</b></p>This field is mandatory for all projects as part of the invoicing process. Please list evidence you have retained for this service and provide information to where the evidence is stored (links/file location data). Refer to the Project Service Evidence Guide and the Project Service Summaries for information on the evidence requirements.<b style=\"color:red\">*</b>"
                  },
                  {
                    "preLabel": "Data have been uploaded",
                    "source": "dataUploaded",
                    "type": "boolean"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "",
                    "source": "projectAssuranceDetails",
                    "type": "textarea",
                    "rows": 4,
                    "placeholder": "List the documentary evidence you have available for this project service. Include specifically, the document titles and location (e.g. internal IT network pathway, URLs) to assist with locating this material for future audits/assurance purposes."
                  }
                ]
              },
              {
                "type": "table",
                "source": "assuranceDocuments",
                "userAddedRows": true,
                "disableTableUpload": true,
                "columns": [
                  {
                    "title": "Attached documents",
                    "source": "attachments",
                    "type": "document"
                  }
                ]
              }
            ]
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtEstablishingAgreements",
      "optional": true,
      "optionalQuestionText": null,
      "title": "Establishing and Implementing Conservation Agreements",
      "collapsibleHeading": null,
      "name": "NHT - Establishing Agreements",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "dataModel": [
          {
            "name": "farmManagementSurveys",
            "dataType": "list",
            "minSize": 1,
            "columns": [
              {
                "name": "relatedOutcomes",
                "dataType": "text",
                "description": "Select the outcome/s as defined in your MERI plan that this service was delivered to achieve.",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "value",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "context-path": "outcomes"
                    }
                  }
                }
              },
              {
                "dataType": "text",
                "name": "baselineOrIndicatorSurvey",
                "description": "",
                "constraints": [
                  "Baseline",
                  "Indicator"
                ],
                "validate": "required"
              },
              {
                "dataType": "text",
                "name": "surveyObjective",
                "description": "What the survey aim to capture? How will the information obtained from the survey be used?",
                "validate": "required,maxSize[3000]"
              },
              {
                "dataType": "list",
                "name": "farmManagementDataSets",
                "columns": [
                  {
                    "name": "dataSetId",
                    "dataType": "text",
                    "description": "This section will require the Data Set Name so the Metadata fields in the Data Set Summary tab should be filled out before the Outcome Report is due. More than one dataset if relevant for this Project Baseline could be selected.",
                    "validate": "required",
                    "constraints": {
                      "textProperty": "name",
                      "valueProperty": "dataSetId",
                      "excludePath": "farmManagementSurveys.farmManagementDataSets.dataSetId",
                      "type": "pre-populated",
                      "config": {
                        "source": {
                          "context-path": "owner.custom.dataSets"
                        },
                        "filter": {
                          "namespace": "dataSet",
                          "expression": "dataSet.serviceId == 12 and dataSet.progress == 'finished' and baselineOrIndicatorSurvey == baselineIndicatorMapping.lookupValue(dataSet.type) and deepEquals(relatedOutcomes,dataSet.outcomesLabel)"
                        }
                      }
                    },
                    "behaviour": [
                      {
                        "type": "pre_populate",
                        "config": {
                          "waitForInitialisation": true,
                          "source": {
                            "url": "/site/geojson",
                            "params": [
                              {
                                "expression": "x=find(owner.custom.dataSets, \"dataSetId\", dataSetId); x.siteId",
                                "name": "id",
                                "type": "computed",
                                "required": true
                              }
                            ]
                          },
                          "target":  {
                            "type": "singleValue",
                            "name": "sitesCoveredForFarmManagement"
                          }
                        }
                      }
                    ]
                  },
                  {
                    "columns": [
                      {
                        "dataType": "species",
                        "name": "species",
                        "validate": "required"
                      },
                      {
                        "dataType": "text",
                        "name": "threatenedEcologicalCommunity",
                        "validate": "maxSize[300]"
                      },
                      {
                        "dataType": "text",
                        "name": "individualsOrGroups",
                        "constraints": [
                          "Individuals",
                          "Groups"
                        ],
                        "validate": "required"
                      },
                      {
                        "dataType": "number",
                        "name": "numberOfIndividualsOrGroups",
                        "validate": "required,min[0]"
                      }
                    ],
                    "dataType": "list",
                    "name": "farmManagementSurveySpeciesTable"
                  },
                  {
                    "name": "projectBaselines",
                    "dataType": "stringList",
                    "description": "Select the relevant Project Baseline as listed in the Monitoring Methodology section of the MERI Plan.",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.baselines"
                    },
                    "constraints": {
                      "textProperty": "baseline",
                      "valueProperty": "code",
                      "type": "pre-populated",
                      "excludePath": "projectBaselines",
                      "config": {
                        "source": {
                          "context-path": "owner.custom.details.baseline.rows"
                        }
                      }
                    }
                  },
                  {
                    "name": "investmentPriorities2",
                    "dataType": "stringList",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.investmentPriorities"
                    },
                    "constraints": {
                      "type": "pre-populated",
                      "config": {
                        "source": {
                          "params": [
                            {
                              "expression": "owner.projectId",
                              "name": "id",
                              "type": "computed"
                            }
                          ],
                          "url": "/project/listProjectInvestmentPriorities/"
                        }
                      }
                    }
                  },
                  {
                    "dataType": "text",
                    "name": "otherInvestmentPriority",
                    "behaviour": [
                      {
                        "type": "enable",
                        "condition": "\"Other\" in investmentPriorities2"
                      }
                    ]
                  },
                  {
                    "dataType": "date",
                    "name": "activitiesStartDate",
                    "description": "Specific the dates these events were held on.",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.startDate"
                    }
                  },
                  {
                    "dataType": "date",
                    "name": "activitiesEndDate",
                    "description": "Specific the dates these events were held on.",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.endDate"
                    }
                  },
                  {
                    "dataType": "feature",
                    "name": "sitesCoveredForFarmManagement",
                    "description": "Mapping field to be done and Area (ha)/length (km) field be auto-calculated from mapping."

                  },
                  {
                    "computed": {
                      "expression": "$geom.areaHa(sitesCoveredForFarmManagement)"
                    },
                    "dataType": "number",
                    "name": "calculatedAreaTreatedHa",
                    "units": "ha",
                    "decimalPlaces": 3
                  },
                  {
                    "computed": {
                      "expression": "$geom.lengthKm(sitesCoveredForFarmManagement)"
                    },
                    "dataType": "number",
                    "name": "calculatedLengthTreatedKm",
                    "units": "km",
                    "decimalPlaces": 3,
                    "behaviour": [
                      {
                        "condition": "lengthTreatedKm > 0",
                        "type": "conditional_validation",
                        "value": {
                          "message": "The managed length must be mapped",
                          "validate": "required,min[0.0001]"
                        }
                      }
                    ]
                  },
                  {
                    "defaultValue": {
                      "type": "computed",
                      "expression": "calculatedAreaTreatedHa"
                    },
                    "dataType": "number",
                    "name": "areaTreatedHa",
                    "description": "Manually enter correct figure for this reporting period if different to mapped value.",
                    "units": "ha",
                    "decimalPlaces": 3,
                    "validate": "required,min[0]"
                  },
                  {
                    "dataType": "text",
                    "name": "mappingNotAlignedReason",
                    "constraints": [
                      "Mapped area simplifies more complex area/s where work was undertaken during this period",
                      "Other"
                    ],
                    "validate": "required",
                    "behaviour": [
                      {
                        "condition": "not (within(calculatedAreaTreatedHa, areaTreatedHa, 0.1))",
                        "type": "visible"
                      }
                    ]
                  },
                  {
                    "dataType": "text",
                    "name": "mappingNotAlignedComments",
                    "validate": "required,maxSize[100]",
                    "behaviour": [
                      {
                        "type": "visible",
                        "condition": "\"Other\" == mappingNotAlignedReason"
                      }
                    ]
                  },
                  {
                    "dataType": "document",
                    "name": "extraMappingDetails",
                    "validate": "required",
                    "description": "Please fill in the Mapped/Actual/Invoice fields before attaching a document here. If those fields match this field will be void. <br/>If any of these fields differ please attach your organisation's detailed map for the area, covered by this project service - during reporting period (include the scale measure for each map).",
                    "behaviour": [
                      {
                        "condition": "not (within(calculatedAreaTreatedHa, areaTreatedHa, 0.1))",
                        "type": "visible"
                      }
                    ]
                  },
                  {
                    "defaultValue": {
                      "type": "computed",
                      "expression": "$geom.lengthKm(sitesCoveredForFarmManagement)"
                    },
                    "dataType": "number",
                    "name": "lengthTreatedKm",
                    "units": "km",
                    "decimalPlaces": 3,
                    "validate": [
                      {
                        "rule": "min",
                        "param": {
                          "type": "computed",
                          "expression": "$geom.lengthKm(sitesCoveredForFarmManagement)*0.9"
                        }
                      },
                      {
                        "rule": "max",
                        "param": {
                          "type": "computed",
                          "expression": "$geom.lengthKm(sitesCoveredForFarmManagement)*1.1"
                        }
                      }
                    ]
                  },
                  {
                    "dataType": "text",
                    "description": "Select the technique used to conduct the survey. If the EMSA Application tool was not used, you should select 'Other'.",
                    "name": "emsaProtocol",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.protocol"
                    },
                    "constraints": {
                      "textProperty": "label",
                      "valueProperty": "value",
                      "type": "pre-populated",
                      "config": {
                        "source": {
                          "context-path": "owner.protocols"
                        }
                      }
                    }
                  },
                  {
                    "dataType": "stringList",
                    "description": "Describe the technique (if Other) was selected.",
                    "name": "otherEmsaProtocol",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.methods"
                    },
                    "validate": "required"
                  },
                  {
                    "dataType": "text",
                    "name": "surveyMethodology",
                    "description": "Provide more details on what is being done.",
                    "validate": "required,maxSize[3000]",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.methodDescription"
                    }
                  },
                  {
                    "dataType": "text",
                    "name": "invoicingThisActivity",
                    "constraints": [
                      "Yes",
                      "No"
                    ],
                    "validate": "required"
                  }
                ],
                "minSize": 1
              }
            ]
          },
          {
            "dataType": "lookupTable",
            "name": "baselineIndicatorMapping",
            "config": {
              "source": {
                "literal": {
                  "Baseline dataset associated with a project outcome": "Baseline",
                  "Project progress dataset that is tracking change against an established project baseline dataset": "Indicator"
                }
              }
            }
          },
          {
            "columns": [
              {
                "dataType": "text",
                "name": "participationIndividualsOrGroups",
                "description": "Once Individuals or groups is selected, the related number field in the next two columns will become editable to report.",
                "constraints": [
                  "Individuals",
                  "Groups"
                ],
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "participationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "participationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ]
              },
              {
                "dataType": "number",
                "name": "firstNationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "param": {
                      "expression": "participationIndividualNumber",
                      "type": "computed"
                    },
                    "rule": "max"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "firstNationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ]
              },
              {
                "dataType": "text",
                "name": "participationDetails",
                "validate": "required, maxSize[3000]"
              }
            ],
            "dataType": "list",
            "name": "participationInformationTable"
          },
          {
            "dataType": "number",
            "name": "totalSurveyBaseline",
            "validate": "required,min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(farmManagementSurveys, \"baselineOrIndicatorSurvey == 'Baseline' ? 1 : 0\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalSurveyBaselineInvoiced",
            "validate": [
              {
                "param": {
                  "expression": "totalSurveyBaseline",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": 0
          },
          {
            "dataType": "number",
            "name": "totalSurveyIndicator",
            "validate": "required,min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(farmManagementSurveys, \"baselineOrIndicatorSurvey == 'Indicator' ? 1 : 0\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalSurveyIndicatorInvoiced",
            "validate": [
              {
                "param": {
                  "expression": "totalSurveyIndicator",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": 0
          },
          {
            "dataType": "text",
            "name": "comments",
            "validate": "maxSize[1500]"
          },
          {
            "dataType": "image",
            "name": "photographicEvidence"
          },
          {
            "dataType": "boolean",
            "name": "dataUploaded",
            "description": ""
          },
          {
            "dataType": "text",
            "name": "projectAssuranceDetails",
            "description": ""
          },
          {
            "dataType": "list",
            "name": "assuranceDocuments",
            "columns": [
              {
                "dataType": "document",
                "name": "attachments",
                "description": "Please attach any Evidence of Service Delivery here."
              }
            ]
          }
        ],
        "modelName": "NHT - Farm Management Survey",
        "title": "Farm Management Survey",
        "viewModel": [
          {
            "type": "section",
            "items": [
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<h3>Participation information</h3>"
                  }
                ]
              },
              {
                "columns": [
                  {
                    "width": "10%",
                    "source": "participationIndividualsOrGroups",
                    "title": "Are individuals or groups delivering this service?",
                    "type": "selectOne"
                  },
                  {
                    "width": "20%",
                    "type": "col",
                    "title": "Total number of people delivering this service <br>(including First Nations people)<b style=\"color:red\">*</b>",
                    "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                    "items": [
                      {
                        "source": "participationIndividualNumber",
                        "type": "number"
                      },
                      {
                        "source": "participationGroupNumber",
                        "type": "selectOne"
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "width": "20%",
                    "title": "Total number of First Nations people delivering this service<b style=\"color:red\">*</b>",
                    "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                    "items": [
                      {
                        "source": "firstNationIndividualNumber",
                        "type": "number"
                      },
                      {
                        "source": "firstNationGroupNumber",
                        "type": "selectOne"
                      }
                    ]
                  },
                  {
                    "source": "participationDetails",
                    "rows": 4,
                    "title": "If no First Nations people participated in the delivery of this service, <br>what are the reasons? If there was participation, please provide details.",
                    "helpText": "If there were no First Nations people participating in the delivery of this service, please explain the reasons. If there were First Nations people involved, please outline how they were involved.",
                    "type": "textarea"
                  }
                ],
                "userAddedRows": false,
                "disableTableUpload": false,
                "source": "participationInformationTable",
                "type": "table"
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<h3>Survey information</h3><p><b>Before completing this section, please ensure you have created a Data Set Summary information for every data set produced by the surveys you intend to report</b></p><ul><li>Each survey reported must relate to a combination of outcomes as described in your MERI plan</li><li>Each Data Set Summary recorded for a survey must be addressing the same outcomes as selected for the survey</li><li>If a survey produced more than one data set, use the New Data Set button to add each Data Set Summary under your survey</li><li>A single survey can be made up of multiple dataset</li></ul>"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<h3>Totals Summary</h3>"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "col",
                    "css": "span4 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(i) Total Number of baseline farm management surveys completed for this reporting period",
                            "source": "totalSurveyBaseline",
                            "type": "number"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(ii) Total Number of baseline farm management surveys <u><i>invoiced</i></u> for this reporting period",
                            "source": "totalSurveyBaselineInvoiced",
                            "type": "number"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span4 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(iii)  Total Number of indicator farm management surveys completed for this reporting period",
                            "source": "totalSurveyIndicator",
                            "type": "number"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(iv) Total Number of indicator farm management surveys <u><i>invoiced</i></u> for this reporting period",
                            "source": "totalSurveyIndicatorInvoiced",
                            "type": "number"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "addRowText": "Add survey",
                "removeRowText": "Delete this survey",
                "userAddedRows": true,
                "source": "farmManagementSurveys",
                "type": "repeat",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "type": "col",
                        "items": [
                          {
                            "source": "relatedOutcomes",
                            "type": "selectOne",
                            "preLabel": "Which outcome statement/s relates to this survey?"
                          }
                        ]
                      },
                      {
                        "type": "col",
                        "items": [
                          {
                            "source": "baselineOrIndicatorSurvey",
                            "type": "selectOne",
                            "preLabel": "Baseline survey or indicator (follow-up) survey?"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "source": "surveyObjective",
                        "preLabel": "Survey objective",
                        "type": "text"
                      }
                    ]
                  },
                  {
                    "type": "repeat",
                    "source": "farmManagementDataSets",
                    "userAddedRows": true,
                    "addRowText": "New data set",
                    "removeRowText": "Delete this data set",
                    "items": [
                      {
                        "type": "row",
                        "css": "border-bottom",
                        "items": [
                          {
                            "type": "col",
                            "items": [
                              {
                                "source": "dataSetId",
                                "type": "selectOne",
                                "preLabel": "Please select the data set produced by this survey.  Note it must have already been entered on the Data Set Summary tab."
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "projectBaselines",
                                    "type": "selectMany",
                                    "preLabel": "Which project baseline/s relate to this survey?",
                                    "readonly": "readonly"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "investmentPriorities2",
                                    "preLabel": "Which investment priority does this activity relate to?",
                                    "type": "select2Many"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "otherInvestmentPriority",
                                    "type": "text"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Activity start date",
                                    "source": "activitiesStartDate",
                                    "type": "date"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Activity end date",
                                    "source": "activitiesEndDate",
                                    "type": "date"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Sites covered by farm management survey",
                                    "source": "sitesCoveredForFarmManagement",
                                    "type": "feature"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "calculatedAreaTreatedHa",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    },
                                    "readonly": "readonly"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "calculatedLengthTreatedKm",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    },
                                    "readonly": "readonly"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Please attach mapping details",
                                    "source": "extraMappingDetails",
                                    "type": "document"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Actual area (ha) / length (km) covered by farm management survey",
                                    "source": "areaTreatedHa",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    }
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "lengthTreatedKm",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    }
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Reason for actual being different to mapped amount",
                                    "source": "mappingNotAlignedReason",
                                    "type": "selectOne"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "placeholder": "Please enter the reason/s the mapping didn't align with the invoiced amount",
                                    "source": "mappingNotAlignedComments",
                                    "type": "textarea",
                                    "rows": 5
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Survey technique",
                                    "source": "emsaProtocol",
                                    "type": "selectOne",
                                    "readonly": "readonly"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Survey technique (if Other)",
                                    "source": "otherEmsaProtocol",
                                    "type": "select2Many"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "surveyMethodology",
                                    "preLabel": "Survey methodology",
                                    "type": "text"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "invoicingThisActivity",
                                    "preLabel": "Are you invoicing for this activity in this reporting period?",
                                    "type": "selectOne"
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Optionally attach photos",
                    "source": "photographicEvidence",
                    "type": "image"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Clarification, if needed",
                    "type": "textarea",
                    "rows": 4,
                    "css": "span8",
                    "source": "comments",
                    "placeholder": "Clarification comments include information for your project manager about the service like:\n • any reported items that are not being invoiced (eg, over-achievement) \n • any extraneous circumstances that affected delivery of the service \n"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<p><b>Available Evidence</b></p>This field is mandatory for all projects as part of the invoicing process. Please list evidence you have retained for this service and provide information to where the evidence is stored (links/file location data). Refer to the Project Service Evidence Guide and the Project Service Summaries for information on the evidence requirements."
                  },
                  {
                    "preLabel": "Data have been uploaded",
                    "source": "dataUploaded",
                    "type": "boolean"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "",
                    "source": "projectAssuranceDetails",
                    "type": "textarea",
                    "rows": 4,
                    "placeholder": "List the documentary evidence you have available for this project service. Include specifically, the document titles and location (e.g. internal IT network pathway, URLs) to assist with locating this material for future audits/assurance purposes."
                  }
                ]
              },
              {
                "type": "table",
                "source": "assuranceDocuments",
                "userAddedRows": true,
                "disableTableUpload": true,
                "columns": [
                  {
                    "title": "Attached documents",
                    "source": "attachments",
                    "type": "document"
                  }
                ]
              }
            ]
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtFarmManagementSurvey",
      "optional": true,
      "optionalQuestionText": null,
      "title": "Farm management survey",
      "collapsibleHeading": null,
      "name": "NHT - Farm Management Survey",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "dataModel": [
          {
            "name": "faunaSurveys",
            "dataType": "list",
            "minSize": 1,
            "columns": [
              {
                "name": "relatedOutcomes",
                "dataType": "text",
                "description": "Select the outcome/s as defined in your MERI plan that this service was delivered to achieve.",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "value",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "context-path": "outcomes"
                    }
                  }
                }
              },
              {
                "dataType": "text",
                "name": "baselineOrIndicatorSurvey",
                "description": "",
                "constraints": [
                  "Baseline",
                  "Indicator"
                ],
                "validate": "required"
              },
              {
                "dataType": "text",
                "name": "surveyObjective",
                "description": "What the survey aim to capture? How will the information obtained from the survey be used?",
                "validate": "required,maxSize[3000]"
              },
              {
                "dataType": "list",
                "name": "faunaDataSets",
                "columns": [
                  {
                    "name": "dataSetId",
                    "dataType": "text",
                    "description": "This section will require the Data Set Name so the Metadata fields in the Data Set Summary tab should be filled out before the Outcome Report is due. More than one dataset if relevant for this Project Baseline could be selected.",
                    "validate": "required",
                    "constraints": {
                      "textProperty": "name",
                      "valueProperty": "dataSetId",
                      "excludePath": "faunaSurveys.faunaDataSets.dataSetId",
                      "type": "pre-populated",
                      "config": {
                        "source": {
                          "context-path": "owner.custom.dataSets"
                        },
                        "filter": {
                          "namespace": "dataSet",
                          "expression": "dataSet.serviceId == 13 and dataSet.progress == 'finished' and baselineOrIndicatorSurvey == baselineIndicatorMapping.lookupValue(dataSet.type) and deepEquals(relatedOutcomes,dataSet.outcomesLabel)"
                        }
                      }
                    },
                    "behaviour": [
                      {
                        "type": "pre_populate",
                        "config": {
                          "waitForInitialisation": true,
                          "source": {
                            "url": "/site/geojson",
                            "params": [
                              {
                                "expression": "x=find(owner.custom.dataSets, \"dataSetId\", dataSetId); x.siteId",
                                "name": "id",
                                "type": "computed",
                                "required": true
                              }
                            ]
                          },
                          "target":  {
                            "type": "singleValue",
                            "name": "sitesCoveredForFaunaSurvey"
                          }
                        }
                      }
                    ]
                  },
                  {
                    "columns": [
                      {
                        "dataType": "species",
                        "name": "species",
                        "validate": "required"
                      },
                      {
                        "dataType": "text",
                        "name": "individualsOrGroups",
                        "constraints": [
                          "Individuals",
                          "Groups"
                        ],
                        "validate": "required"
                      },
                      {
                        "dataType": "number",
                        "name": "numberOfIndividualsOrGroups",
                        "validate": "required,min[0]"
                      }
                    ],
                    "dataType": "list",
                    "name": "faunaSurveySpeciesTable"
                  },
                  {
                    "name": "projectBaselines",
                    "dataType": "stringList",
                    "description": "Select the relevant Project Baseline as listed in the Monitoring Methodology section of the MERI Plan.",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.baselines"
                    },
                    "constraints": {
                      "textProperty": "baseline",
                      "valueProperty": "code",
                      "type": "pre-populated",
                      "excludePath": "projectBaselines",
                      "config": {
                        "source": {
                          "context-path": "owner.custom.details.baseline.rows"
                        }
                      }
                    }
                  },
                  {
                    "name": "investmentPriorities2",
                    "dataType": "stringList",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.investmentPriorities"
                    },
                    "constraints": {
                      "type": "pre-populated",
                      "config": {
                        "source": {
                          "params": [
                            {
                              "expression": "owner.projectId",
                              "name": "id",
                              "type": "computed"
                            }
                          ],
                          "url": "/project/listProjectInvestmentPriorities/"
                        }
                      }
                    }
                  },
                  {
                    "dataType": "text",
                    "name": "otherInvestmentPriority",
                    "behaviour": [
                      {
                        "type": "enable",
                        "condition": "\"Other\" in investmentPriorities2"
                      }
                    ]
                  },
                  {
                    "dataType": "date",
                    "name": "activitiesStartDate",
                    "description": "Specific the dates these events were held on.",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.startDate"
                    }
                  },
                  {
                    "dataType": "date",
                    "name": "activitiesEndDate",
                    "description": "Specific the dates these events were held on.",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.endDate"
                    }
                  },
                  {
                    "dataType": "feature",
                    "name": "sitesCoveredForFaunaSurvey",
                    "description": "Mapping field to be done and Area (ha)/length (km) field be auto-calculated from mapping."
                  },
                  {
                    "computed": {
                      "expression": "$geom.areaHa(sitesCoveredForFaunaSurvey)"
                    },
                    "dataType": "number",
                    "name": "calculatedAreaTreatedHa",
                    "units": "ha",
                    "decimalPlaces": 3
                  },
                  {
                    "computed": {
                      "expression": "$geom.lengthKm(sitesCoveredForFaunaSurvey)"
                    },
                    "dataType": "number",
                    "name": "calculatedLengthTreatedKm",
                    "units": "km",
                    "decimalPlaces": 3,
                    "behaviour": [
                      {
                        "condition": "lengthTreatedKm > 0",
                        "type": "conditional_validation",
                        "value": {
                          "message": "The managed length must be mapped",
                          "validate": "required,min[0.0001]"
                        }
                      }
                    ]
                  },
                  {
                    "defaultValue": {
                      "type": "computed",
                      "expression": "calculatedAreaTreatedHa"
                    },
                    "dataType": "number",
                    "name": "areaTreatedHa",
                    "description": "Manually enter correct figure for this reporting period if different to mapped value.",
                    "units": "ha",
                    "decimalPlaces": 3,
                    "validate": "required,min[0]"
                  },
                  {
                    "dataType": "text",
                    "name": "mappingNotAlignedReason",
                    "constraints": [
                      "Mapped area simplifies more complex area/s where work was undertaken during this period",
                      "Other"
                    ],
                    "validate": "required",
                    "behaviour": [
                      {
                        "condition": "not (within(calculatedAreaTreatedHa, areaTreatedHa, 0.1))",
                        "type": "visible"
                      }
                    ]
                  },
                  {
                    "dataType": "text",
                    "name": "mappingNotAlignedComments",
                    "validate": "required,maxSize[100]",
                    "behaviour": [
                      {
                        "type": "visible",
                        "condition": "\"Other\" == mappingNotAlignedReason"
                      }
                    ]
                  },
                  {
                    "dataType": "document",
                    "name": "extraMappingDetails",
                    "validate": "required",
                    "description": "Please fill in the Mapped/Actual/Invoice fields before attaching a document here. If those fields match this field will be void. <br/>If any of these fields differ please attach your organisation's detailed map for the area, covered by this project service - during reporting period (include the scale measure for each map).",
                    "behaviour": [
                      {
                        "condition": "not (within(calculatedAreaTreatedHa, areaTreatedHa, 0.1))",
                        "type": "visible"
                      }
                    ]
                  },
                  {
                    "defaultValue": {
                      "type": "computed",
                      "expression": "$geom.lengthKm(sitesCoveredForFaunaSurvey)"
                    },
                    "dataType": "number",
                    "name": "lengthTreatedKm",
                    "units": "km",
                    "decimalPlaces": 3,
                    "validate": [
                      {
                        "rule": "min",
                        "param": {
                          "type": "computed",
                          "expression": "$geom.lengthKm(sitesCoveredForFaunaSurvey)*0.9"
                        }
                      },
                      {
                        "rule": "max",
                        "param": {
                          "type": "computed",
                          "expression": "$geom.lengthKm(sitesCoveredForFaunaSurvey)*1.1"
                        }
                      }
                    ]
                  },
                  {
                    "dataType": "text",
                    "description": "Select the technique used to conduct the survey. If the EMSA Application tool was not used, you should select 'Other'.",
                    "name": "emsaProtocol",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.protocol"
                    },
                    "constraints": {
                      "textProperty": "label",
                      "valueProperty": "value",
                      "type": "pre-populated",
                      "config": {
                        "source": {
                          "context-path": "owner.protocols"
                        }
                      }
                    }
                  },
                  {
                    "dataType": "stringList",
                    "description": "Describe the technique (if Other) was selected.",
                    "name": "otherEmsaProtocol",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.methods"
                    },
                    "validate": "required"
                  },
                  {
                    "dataType": "text",
                    "name": "surveyMethodology",
                    "description": "Provide more details on what is being done.",
                    "validate": "required,maxSize[3000]",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.methodDescription"
                    }
                  },
                  {
                    "dataType": "text",
                    "name": "invoicingThisActivity",
                    "constraints": [
                      "Yes",
                      "No"
                    ],
                    "validate": "required"
                  }
                ],
                "minSize": 1
              }
            ]
          },
          {
            "dataType": "lookupTable",
            "name": "baselineIndicatorMapping",
            "config": {
              "source": {
                "literal": {
                  "Baseline dataset associated with a project outcome": "Baseline",
                  "Project progress dataset that is tracking change against an established project baseline dataset": "Indicator"
                }
              }
            }
          },
          {
            "columns": [
              {
                "dataType": "text",
                "name": "participationIndividualsOrGroups",
                "description": "Once Individuals or groups is selected, the related number field in the next two columns will become editable to report.",
                "constraints": [
                  "Individuals",
                  "Groups"
                ],
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "participationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "participationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ]
              },
              {
                "dataType": "number",
                "name": "firstNationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "param": {
                      "expression": "participationIndividualNumber",
                      "type": "computed"
                    },
                    "rule": "max"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "firstNationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ]
              },
              {
                "dataType": "text",
                "name": "participationDetails",
                "validate": "required, maxSize[3000]"
              }
            ],
            "dataType": "list",
            "name": "participationInformationTable"
          },
          {
            "dataType": "number",
            "name": "totalSurveyBaseline",
            "validate": "required,min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(faunaSurveys, \"baselineOrIndicatorSurvey == 'Baseline' ? 1 : 0\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalSurveyBaselineInvoiced",
            "validate": [
              {
                "param": {
                  "expression": "totalSurveyBaseline",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": 0
          },
          {
            "dataType": "number",
            "name": "totalSurveyIndicator",
            "validate": "required,min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(faunaSurveys, \"baselineOrIndicatorSurvey == 'Indicator' ? 1 : 0\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalSurveyIndicatorInvoiced",
            "validate": [
              {
                "param": {
                  "expression": "totalSurveyIndicator",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": 0
          },
          {
            "dataType": "text",
            "name": "comments",
            "validate": "maxSize[1500]"
          },
          {
            "dataType": "image",
            "name": "photographicEvidence"
          },
          {
            "dataType": "boolean",
            "name": "dataUploaded",
            "description": ""
          },
          {
            "dataType": "text",
            "name": "projectAssuranceDetails",
            "description": ""
          },
          {
            "dataType": "list",
            "name": "assuranceDocuments",
            "columns": [
              {
                "dataType": "document",
                "name": "attachments",
                "description": "Please attach any Evidence of Service Delivery here."
              }
            ]
          }
        ],
        "modelName": "NHT - Fauna survey",
        "title": "Fauna Survey",
        "viewModel": [
          {
            "type": "section",
            "items": [
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<h3>Participation information</h3>"
                  }
                ]
              },
              {
                "columns": [
                  {
                    "width": "10%",
                    "source": "participationIndividualsOrGroups",
                    "title": "Are individuals or groups delivering this service?",
                    "type": "selectOne"
                  },
                  {
                    "width": "20%",
                    "type": "col",
                    "title": "Total number of people delivering this service <br>(including First Nations people)<b style=\"color:red\">*</b>",
                    "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                    "items": [
                      {
                        "source": "participationIndividualNumber",
                        "type": "number"
                      },
                      {
                        "source": "participationGroupNumber",
                        "type": "selectOne"
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "width": "20%",
                    "title": "Total number of First Nations people delivering this service<b style=\"color:red\">*</b>",
                    "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                    "items": [
                      {
                        "source": "firstNationIndividualNumber",
                        "type": "number"
                      },
                      {
                        "source": "firstNationGroupNumber",
                        "type": "selectOne"
                      }
                    ]
                  },
                  {
                    "source": "participationDetails",
                    "rows": 4,
                    "title": "If no First Nations people participated in the delivery of this service, <br>what are the reasons? If there was participation, please provide details.",
                    "helpText": "If there were no First Nations people participating in the delivery of this service, please explain the reasons. If there were First Nations people involved, please outline how they were involved.",
                    "type": "textarea"
                  }
                ],
                "userAddedRows": false,
                "disableTableUpload": false,
                "source": "participationInformationTable",
                "type": "table"
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<h3>Survey information</h3><p><b>Before completing this section, please ensure you have created a Data Set Summary information for every data set produced by the surveys you intend to report</b></p><ul><li>Each survey reported must relate to a combination of outcomes as described in your MERI plan</li><li>Each Data Set Summary recorded for a survey must be addressing the same outcomes as selected for the survey</li><li>If a survey produced more than one data set, use the New Data Set button to add each Data Set Summary under your survey</li><li>A single survey can be made up of multiple dataset</li></ul>"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<h3>Totals Summary</h3>"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "col",
                    "css": "span4 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(i) Total Number of baseline fauna surveys completed for this reporting period",
                            "source": "totalSurveyBaseline",
                            "type": "number"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(ii) Total Number of baseline fauna surveys <u><i>invoiced</i></u> for this reporting period",
                            "source": "totalSurveyBaselineInvoiced",
                            "type": "number"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span4 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(iii)  Total Number of  indicator fauna surveys completed for this reporting period",
                            "source": "totalSurveyIndicator",
                            "type": "number"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(iv) Total Number of indicator fauna surveys <u><i>invoiced</i></u> for this reporting period",
                            "source": "totalSurveyIndicatorInvoiced",
                            "type": "number"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "addRowText": "Add survey",
                "removeRowText": "Delete this survey",
                "userAddedRows": true,
                "source": "faunaSurveys",
                "type": "repeat",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "type": "col",
                        "items": [
                          {
                            "source": "relatedOutcomes",
                            "type": "selectOne",
                            "preLabel": "Which outcome statement/s relates to this survey?"
                          }
                        ]
                      },
                      {
                        "type": "col",
                        "items": [
                          {
                            "source": "baselineOrIndicatorSurvey",
                            "type": "selectOne",
                            "preLabel": "Baseline survey or indicator (follow-up) survey?"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "source": "surveyObjective",
                        "preLabel": "Survey objective",
                        "type": "text"
                      }
                    ]
                  },
                  {
                    "type": "repeat",
                    "source": "faunaDataSets",
                    "userAddedRows": true,
                    "addRowText": "New data set",
                    "removeRowText": "Delete this data set",
                    "items": [
                      {
                        "type": "row",
                        "css": "border-bottom",
                        "items": [
                          {
                            "type": "col",
                            "items": [
                              {
                                "source": "dataSetId",
                                "type": "selectOne",
                                "preLabel": "Please select the data set produced by this survey.  Note it must have already been entered on the Data Set Summary tab."
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "projectBaselines",
                                    "type": "selectMany",
                                    "preLabel": "Which project baseline/s relate to this survey?",
                                    "readonly": "readonly"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "investmentPriorities2",
                                    "preLabel": "Which investment priority does this activity relate to?",
                                    "type": "select2Many"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "otherInvestmentPriority",
                                    "type": "text"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Activity start date",
                                    "source": "activitiesStartDate",
                                    "type": "date"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Activity end date",
                                    "source": "activitiesEndDate",
                                    "type": "date"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Sites covered by fauna survey",
                                    "source": "sitesCoveredForFaunaSurvey",
                                    "type": "feature"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "calculatedAreaTreatedHa",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    },
                                    "readonly": "readonly"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "calculatedLengthTreatedKm",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    },
                                    "readonly": "readonly"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Please attach mapping details",
                                    "source": "extraMappingDetails",
                                    "type": "document"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Actual area (ha) / length (km) covered by fauna survey",
                                    "source": "areaTreatedHa",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    }
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "lengthTreatedKm",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    }
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Reason for actual being different to mapped amount",
                                    "source": "mappingNotAlignedReason",
                                    "type": "selectOne"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "placeholder": "Please enter the reason/s the mapping didn't align with the invoiced amount",
                                    "source": "mappingNotAlignedComments",
                                    "type": "textarea",
                                    "rows": 5
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Survey technique",
                                    "source": "emsaProtocol",
                                    "type": "selectOne",
                                    "readonly": "readonly"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Survey technique (if Other)",
                                    "source": "otherEmsaProtocol",
                                    "type": "select2Many"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "surveyMethodology",
                                    "preLabel": "Survey methodology",
                                    "type": "text"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "invoicingThisActivity",
                                    "preLabel": "Are you invoicing for this activity in this reporting period?",
                                    "type": "selectOne"
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "columns": [
                          {
                            "width": "55%",
                            "source": "species",
                            "title": "Target species recorded",
                            "type": "speciesSelect"
                          },
                          {
                            "width": "25%",
                            "source": "individualsOrGroups",
                            "title": "Individuals or groups?",
                            "type": "selectOne"
                          },
                          {
                            "width": "20%",
                            "source": "numberOfIndividualsOrGroups",
                            "title": "Number of individuals / groups in fauna survey",
                            "type": "number"
                          }
                        ],
                        "userAddedRows": true,
                        "disableTableUpload": false,
                        "source": "faunaSurveySpeciesTable",
                        "type": "table"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Optionally attach photos",
                    "source": "photographicEvidence",
                    "type": "image"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Clarification, if needed",
                    "type": "textarea",
                    "rows": 4,
                    "css": "span8",
                    "source": "comments",
                    "placeholder": "Clarification comments include information for your project manager about the service like:\n • any reported items that are not being invoiced (eg, over-achievement) \n • any extraneous circumstances that affected delivery of the service \n"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<p><b>Available Evidence</b></p>This field is mandatory for all projects as part of the invoicing process. Please list evidence you have retained for this service and provide information to where the evidence is stored (links/file location data). Refer to the Project Service Evidence Guide and the Project Service Summaries for information on the evidence requirements."
                  },
                  {
                    "preLabel": "Data have been uploaded",
                    "source": "dataUploaded",
                    "type": "boolean"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "",
                    "source": "projectAssuranceDetails",
                    "type": "textarea",
                    "rows": 4,
                    "placeholder": "List the documentary evidence you have available for this project service. Include specifically, the document titles and location (e.g. internal IT network pathway, URLs) to assist with locating this material for future audits/assurance purposes."
                  }
                ]
              },
              {
                "type": "table",
                "source": "assuranceDocuments",
                "userAddedRows": true,
                "disableTableUpload": true,
                "columns": [
                  {
                    "title": "Attached documents",
                    "source": "attachments",
                    "type": "document"
                  }
                ]
              }
            ]
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtFaunaSurvey",
      "optional": true,
      "optionalQuestionText": null,
      "title": "Fauna survey",
      "collapsibleHeading": null,
      "name": "NHT - Fauna survey",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "dataModel": [
          {
            "dataType": "text",
            "name": "participationIndividualsOrGroups",
            "description": "Once Individuals or groups is selected, the related number field in the next two columns will become editable to report.",
            "constraints": [
              "Individuals",
              "Groups"
            ],
            "validate": "required"
          },
          {
            "dataType": "number",
            "name": "participationIndividualNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Individuals\"",
                "type": "enable"
              }
            ],
            "validate": "required,min[0]"
          },
          {
            "dataType": "text",
            "name": "participationGroupNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Groups\"",
                "type": "enable"
              }
            ],
            "constraints": [
              "0",
              "1-10",
              "11-20",
              "21-30",
              "31-40",
              "41-50"
            ],
            "validate": "required"
          },
          {
            "dataType": "number",
            "name": "firstNationIndividualNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Individuals\"",
                "type": "enable"
              }
            ],
            "validate": "required,min[0]"
          },
          {
            "dataType": "text",
            "name": "firstNationGroupNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Groups\"",
                "type": "enable"
              }
            ],
            "constraints": [
              "0",
              "1-10",
              "11-20",
              "21-30",
              "31-40",
              "41-50"
            ],
            "validate": "required"
          },
          {
            "dataType": "text",
            "name": "participationDetails",
            "validate": "maxSize[3000]"
          },
          {
            "columns": [
              {
                "dataType": "number",
                "name": "noDaysConductingCulturalPractices",
                "description": "",
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "noDaysConductingCulturalPracticesInvoiced",
                "description": "",
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "noOfParticipants",
                "description": "",
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "noOfFirstNationsParticipants",
                "description": "",
                "validate": "required"
              },
              {
                "dataType": "date",
                "name": "activitiesStartDate",
                "description": "Specific the dates these events were held on.",
                "validate": "required"
              },
              {
                "dataType": "date",
                "name": "activitiesEndDate",
                "description": "",
                "validate": "required"
              },
              {
                "dataType": "text",
                "name": "siteVisit",
                "constraints": [
                  "Single",
                  "Multiple"
                ],
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "noOfSitesActivityOccurred",
                "description": "",
                "validate": "required"
              },
              {
                "dataType": "text",
                "name": "typeOfSite",
                "constraints": [
                  "Sacred",
                  "Food source",
                  "Ceremonial",
                  "Other"
                ],
                "validate": "required"
              },
              {
                "dataType": "text",
                "name": "otherTypeOfSite",
                "description": "",
                "behaviour": [
                  {
                    "condition": "typeOfSite == \"Other\"",
                    "type": "enable"
                  }
                ],
                "validate": "required,maxSize[100]"
              },
              {
                "dataType": "feature",
                "name": "sitesPrepared"
              },
              {
                "computed": {
                  "expression": "$geom.areaHa(sitesPrepared)"
                },
                "dataType": "number",
                "name": "calculatedAreaPreparedHa",
                "units": "ha",
                "decimalPlaces": 3,
                "behaviour": [
                  {
                    "condition": "areaPreparedInvoicedHa > 0",
                    "type": "conditional_validation",
                    "value": {
                      "message": "The prepared area must be mapped",
                      "validate": "required,min[0.0001]"
                    }
                  }
                ]
              },
              {
                "computed": {
                  "expression": "$geom.lengthKm(sitesPrepared)"
                },
                "dataType": "number",
                "name": "calculatedLengthPreparedKm",
                "units": "km",
                "decimalPlaces": 3,
                "behaviour": [
                  {
                    "condition": "lengthPreparedKm > 0",
                    "type": "conditional_validation",
                    "value": {
                      "message": "The prepared length must be mapped",
                      "validate": "required,min[0.0001]"
                    }
                  }
                ]
              },
              {
                "defaultValue": {
                  "expression": "calculatedAreaPreparedHa",
                  "type": "computed"
                },
                "dataType": "number",
                "name": "areaPreparedHa",
                "decimalPlaces": 3,
                "units": "ha",
                "validate": "min[0]"
              },
              {
                "defaultValue": {
                  "expression": "calculatedLengthPreparedKm",
                  "type": "computed"
                },
                "dataType": "number",
                "name": "lengthPreparedKm",
                "units": "km",
                "decimalPlaces": 3,
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedReason",
                "behaviour": [
                  {
                    "condition": "not (within(calculatedAreaPreparedHa, areaPreparedHa, 0.1))",
                    "type": "visible"
                  }
                ],
                "constraints": [
                  "Mapped area simplifies more complex area/s where work was undertaken during this period",
                  "Other"
                ],
                "validate": "required"
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedComments",
                "behaviour": [
                  {
                    "condition": "\"Other\" == mappingNotAlignedReason",
                    "type": "visible"
                  }
                ],
                "validate": "required,maxSize[300]"
              },
              {
                "dataType": "document",
                "name": "extraMappingDetails",
                "description": "Please fill in the Mapped/Actual/Invoice fields before attaching a document here. If those fields match this field will be void. <br/>If any of these fields differ please attach your organisation's detailed map for the area, covered by this project service - during reporting period (include the scale measure for each map).",
                "behaviour": [
                  {
                    "condition": "not (within(calculatedAreaPreparedHa, areaPreparedHa, 0.1)) or roundTo(areaPreparedHa, 2) != roundTo(areaPreparedInvoicedHa, 2)",
                    "type": "visible"
                  }
                ],
                "validate": "required"
              },
              {
                "columns": [
                  {
                    "dataType": "text",
                    "name": "activityTypeUndertaken",
                    "constraints": [
                      "Survey",
                      "Site management",
                      "Assessment",
                      "Cultural event",
                      "Curation",
                      "Other"
                    ]
                  },
                  {
                    "dataType": "text",
                    "name": "otherActivityTypeUndertaken",
                    "description": "",
                    "behaviour": [
                      {
                        "condition": "activityTypeUndertaken == \"Other\"",
                        "type": "enable"
                      }
                    ],
                    "validate": "required,maxSize[100]"
                  },
                  {
                    "dataType": "text",
                    "name": "purposeOfActivity",
                    "description": "",
                    "validate": "required,maxSize[300]"
                  },
                  {
                    "dataType": "text",
                    "name": "activityDescription",
                    "description": "",
                    "validate": "required,maxSize[300]"
                  },
                  {
                    "dataType": "text",
                    "name": "surveyObjective",
                    "description": "",
                    "validate": "required,maxSize[300]"
                  },
                  {
                    "dataType": "text",
                    "name": "surveyTechnique",
                    "description": "",
                    "validate": "required,maxSize[300]"
                  },
                  {
                    "dataType": "text",
                    "name": "siteCondition",
                    "constraints": [
                      "Poor",
                      "Fair",
                      "Good",
                      "Excellent"
                    ]
                  },
                  {
                    "dataType": "text",
                    "name": "siteConditionDetails",
                    "description": "",
                    "validate": "required,maxSize[300]"
                  }
                ],
                "dataType": "list",
                "name": "firstNationsDetails"
              }
            ],
            "dataType": "list",
            "name": "firstNationAreasControlled"
          },
          {
            "name": "sitePrepCountHeader",
            "type": "number",
            "decimalPlaces": 0,
            "computed": {
              "expression": "count(firstNationAreasControlled, \"threatenedEcologicalCommunity\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalNoDaysCulturalPractices",
            "validate": "required,min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(firstNationAreasControlled, \"noDaysConductingCulturalPractices\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalNoDaysCulturalPracticesInvoiced",
            "validate": [
              {
                "param": {
                  "expression": "totalNoDaysCulturalPractices",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": 1
          },
          {
            "dataType": "text",
            "name": "comments",
            "validate": "maxSize[1500]"
          },
          {
            "dataType": "image",
            "name": "photographicEvidence"
          },
          {
            "dataType": "boolean",
            "name": "dataUploaded",
            "description": "<ul><li>Tick box to confirm data has been uploaded</li><li>URL Link (mandatory if below is ticked) in available evidence</li></ul>"
          },
          {
            "name": "projectAssuranceDetails",
            "dataType": "text",
            "validate": "required,maxSize[5000]",
            "behaviour": [
              {
                "condition": "dataUploaded == true",
                "type": "enable"
              }
            ]
          },
          {
            "dataType": "list",
            "name": "assuranceDocuments",
            "columns": [
              {
                "dataType": "document",
                "name": "attachments",
                "description": "Please attach any Evidence of Service Delivery here."
              }
            ]
          }
        ],
        "modelName": "NHT - First nations australians cultural practices",
        "title": "First Nations Australians Cultural Practices",
        "viewModel": [
          {
            "columns": [
              {
                "width": "10%",
                "source": "participationIndividualsOrGroups",
                "title": "Are individuals or groups delivering this service?",
                "type": "selectOne"
              },
              {
                "width": "20%",
                "type": "col",
                "title": "Total number of people delivering this service <br>(including First Nations people)",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "participationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "participationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "type": "col",
                "width": "20%",
                "title": "Total number of First Nations people delivering this service",
                "items": [
                  {
                    "source": "firstNationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "firstNationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "source": "participationDetails",
                "rows": 4,
                "title": "If no First Nations people participated in the delivery of this service, <br>what are the reasons? If there was participation, please provide details.",
                "helpText": "If there were no First Nations people participating in the delivery of this service, please explain the reasons. If there were First Nations people involved, please outline how they were involved.",
                "type": "textarea"
              }
            ],
            "userAddedRows": false,
            "disableTableUpload": false,
            "source": "",
            "type": "table"
          },
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<h3>Totals Summary</h3>"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(i) Total number of days conducting cultural practices during this reporting period",
                        "source": "totalNoDaysCulturalPractices",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(ii) Total number of days conducting cultural practices <u><i>invoiced</i></u> for during this reporting period",
                        "source": "totalNoDaysCulturalPracticesInvoiced",
                        "type": "number"
                      }
                    ]
                  }
                ]
              }
            ]
          },
          {
            "addRowText": "Add a new controlled area",
            "userAddedRows": true,
            "source": "firstNationAreasControlled",
            "type": "repeat",
            "items": [
              {
                "type": "row",
                "css": "border-bottom",
                "items": [
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Number of days conducting cultural practices",
                            "source": "noDaysConductingCulturalPractices",
                            "type": "number"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Number of days conducting cultural practices invoiced for",
                            "source": "noDaysConductingCulturalPracticesInvoiced",
                            "type": "number"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Number of participants",
                            "source": "noOfParticipants",
                            "type": "number"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Number of first nations participants",
                            "source": "noOfFirstNationsParticipants",
                            "type": "number"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Activity start date",
                            "source": "activitiesStartDate",
                            "type": "date"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Activity end date",
                            "source": "activitiesEndDate",
                            "type": "date"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Site Visit",
                            "source": "siteVisit",
                            "type": "selectOne"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Number of sites where activity occurred",
                            "source": "noOfSitesActivityOccurred",
                            "type": "number"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Type of site",
                            "source": "typeOfSite",
                            "type": "selectOne"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Type of site (If Other)",
                            "source": "otherTypeOfSite",
                            "type": "text"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "sitesPrepared",
                            "type": "feature",
                            "preLabel": "Site/s where activity was undertaken"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "calculatedAreaPreparedHa",
                            "type": "number",
                            "readonly": true,
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "calculatedLengthPreparedKm",
                            "type": "number",
                            "readonly": true,
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Please attach mapping details",
                            "source": "extraMappingDetails",
                            "type": "document"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Actual area (ha) / length (km) where activity has been undertaken",
                            "helpText": "Manually enter correct figure for this reporting period if different to mapped value.",
                            "source": "areaPreparedHa",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "lengthPreparedKm",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Reason for actual being different to mapped amount",
                            "source": "mappingNotAlignedReason",
                            "type": "selectOne"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "placeholder": "Please enter the reason/s the mapping didn't align with the invoiced amount",
                            "source": "mappingNotAlignedComments",
                            "type": "textarea"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "columns": [
                  {
                    "width": "10%",
                    "source": "activityTypeUndertaken",
                    "title": "Type of activity undertaken",
                    "type": "selectOne"
                  },
                  {
                    "width": "10%",
                    "source": "otherActivityTypeUndertaken",
                    "title": "Type of activity(If other)",
                    "type": "selectOne"
                  },
                  {
                    "width": "10%",
                    "source": "purposeOfActivity",
                    "title": "Purpose of activity",
                    "type": "textarea"
                  },
                  {
                    "width": "15%",
                    "source": "activityDescription",
                    "title": "Detailed description of activity",
                    "type": "textarea"
                  },
                  {
                    "width": "15%",
                    "source": "surveyObjective",
                    "title": "Survey/assessment objective (if applicable)",
                    "type": "textarea"
                  },
                  {
                    "width": "15%",
                    "source": "surveyTechnique",
                    "title": "Survey/assessment technique (if applicable)",
                    "type": "textarea"
                  },
                  {
                    "width": "10%",
                    "source": "siteCondition",
                    "title": "Site condition (if applicable)",
                    "type": "selectOne"
                  },
                  {
                    "width": "15%",
                    "source": "siteConditionDetails",
                    "title": "Site condition further details (if applicable)",
                    "type": "textarea"
                  }
                ],
                "userAddedRows": true,
                "source": "firstNationsDetails",
                "type": "table"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "Optionally attach photos",
                "source": "photographicEvidence",
                "type": "image"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "Clarification, if needed",
                "type": "textarea",
                "rows": 4,
                "css": "span8",
                "source": "comments",
                "placeholder": "Clarification comments include information for your project manager about the service like:\n • any reported items that are not being invoiced (eg, over-achievement) \n • any extraneous circumstances that affected delivery of the service \n"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<p><b>Available Evidence</b></p>This field is mandatory for all projects as part of the invoicing process. Please list evidence you have retained for this service and provide information to where the evidence is stored (links/file location data). Refer to the Project Service Evidence Guide and the Project Service Summaries for information on the evidence requirements.<b style=\"color:red\">*</b>"
              },
              {
                "preLabel": "Data have been uploaded",
                "source": "dataUploaded",
                "type": "boolean"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "",
                "source": "projectAssuranceDetails",
                "type": "textarea",
                "rows": 4,
                "placeholder": "List the documentary evidence you have available for this project service. Include specifically, the document titles and location (e.g. internal IT network pathway, URLs) to assist with locating this material for future audits/assurance purposes."
              }
            ]
          },
          {
            "type": "table",
            "source": "assuranceDocuments",
            "userAddedRows": true,
            "disableTableUpload": true,
            "columns": [
              {
                "title": "Attached documents",
                "source": "attachments",
                "type": "document"
              }
            ]
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtFirstNation",
      "optional": true,
      "optionalQuestionText": null,
      "title": "First Nations Australians Cultural Practices",
      "collapsibleHeading": null,
      "name": "NHT - First nations australians cultural practices",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "dataModel": [
          {
            "name": "floraSurveys",
            "dataType": "list",
            "minSize": 1,
            "columns": [
              {
                "name": "relatedOutcomes",
                "dataType": "text",
                "description": "Select the outcome/s as defined in your MERI plan that this service was delivered to achieve.",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "value",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "context-path": "outcomes"
                    }
                  }
                }
              },
              {
                "dataType": "text",
                "name": "baselineOrIndicatorSurvey",
                "description": "",
                "constraints": [
                  "Baseline",
                  "Indicator"
                ],
                "validate": "required"
              },
              {
                "dataType": "text",
                "name": "surveyObjective",
                "description": "What the survey aim to capture? How will the information obtained from the survey be used?",
                "validate": "required,maxSize[3000]"
              },
              {
                "dataType": "number",
                "name": "numberOfSurveys",
                "validate": "required,min[1],max[1]",
                "defaultValue": 1,
                "readonly": true
              },
              {
                "dataType": "list",
                "name": "floraDataSets",
                "columns": [
                  {
                    "name": "dataSetId",
                    "dataType": "text",
                    "description": "This section will require the Data Set Name so the Metadata fields in the Data Set Summary tab should be filled out before the Outcome Report is due. More than one dataset if relevant for this Project Baseline could be selected.",
                    "validate": "required",
                    "constraints": {
                      "textProperty": "name",
                      "valueProperty": "dataSetId",
                      "excludePath": "floraSurveys.floraDataSets.dataSetId",
                      "type": "pre-populated",
                      "config": {
                        "source": {
                          "context-path": "owner.custom.dataSets"
                        },
                        "filter": {
                          "namespace": "dataSet",
                          "expression": "dataSet.serviceId == 15 and dataSet.progress == 'finished' and baselineOrIndicatorSurvey == baselineIndicatorMapping.lookupValue(dataSet.type) and deepEquals(relatedOutcomes,dataSet.outcomesLabel)"
                        }
                      }
                    },
                    "behaviour": [
                      {
                        "type": "pre_populate",
                        "config": {
                          "waitForInitialisation": true,
                          "source": {
                            "url": "/site/geojson",
                            "params": [
                              {
                                "expression": "x=find(owner.custom.dataSets, \"dataSetId\", dataSetId); x.siteId",
                                "name": "id",
                                "type": "computed",
                                "required": true
                              }
                            ]
                          },
                          "target":  {
                            "type": "singleValue",
                            "name": "sitesCoveredForFloraSurvey"
                          }
                        }
                      }
                    ]
                  },
                  {
                    "columns": [
                      {
                        "dataType": "species",
                        "name": "species",
                        "validate": "required"
                      },
                      {
                        "dataType": "text",
                        "name": "threatenedEcologicalCommunity",
                        "validate": "maxSize[300]"
                      },
                      {
                        "dataType": "text",
                        "name": "individualsOrGroups",
                        "constraints": [
                          "Individuals",
                          "Groups"
                        ],
                        "validate": "required"
                      },
                      {
                        "dataType": "number",
                        "name": "numberOfIndividualsOrGroups",
                        "validate": "required,min[0]"
                      }
                    ],
                    "dataType": "list",
                    "name": "floraSurveySpeciesTable"
                  },
                  {
                    "name": "projectBaselines",
                    "dataType": "stringList",
                    "description": "Select the relevant Project Baseline as listed in the Monitoring Methodology section of the MERI Plan.",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.baselines"
                    },
                    "constraints": {
                      "textProperty": "baseline",
                      "valueProperty": "code",
                      "type": "pre-populated",
                      "excludePath": "projectBaselines",
                      "config": {
                        "source": {
                          "context-path": "owner.custom.details.baseline.rows"
                        }
                      }
                    }
                  },
                  {
                    "name": "investmentPriorities2",
                    "dataType": "stringList",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.investmentPriorities"
                    },
                    "constraints": {
                      "type": "pre-populated",
                      "config": {
                        "source": {
                          "params": [
                            {
                              "expression": "owner.projectId",
                              "name": "id",
                              "type": "computed"
                            }
                          ],
                          "url": "/project/listProjectInvestmentPriorities/"
                        }
                      }
                    }
                  },
                  {
                    "dataType": "text",
                    "name": "otherInvestmentPriority",
                    "behaviour": [
                      {
                        "type": "enable",
                        "condition": "\"Other\" in investmentPriorities2"
                      }
                    ]
                  },
                  {
                    "dataType": "date",
                    "name": "activitiesStartDate",
                    "description": "Specific the dates these events were held on.",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.startDate"
                    }
                  },
                  {
                    "dataType": "date",
                    "name": "activitiesEndDate",
                    "description": "Specific the dates these events were held on.",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.endDate"
                    }
                  },
                  {
                    "dataType": "feature",
                    "name": "sitesCoveredForFloraSurvey",
                    "description": "Mapping field to be done and Area (ha)/length (km) field be auto-calculated from mapping."


                  },
                  {
                    "computed": {
                      "expression": "$geom.areaHa(sitesCoveredForFloraSurvey)"
                    },
                    "dataType": "number",
                    "name": "calculatedAreaTreatedHa",
                    "units": "ha",
                    "decimalPlaces": 3
                  },
                  {
                    "computed": {
                      "expression": "$geom.lengthKm(sitesCoveredForFloraSurvey)"
                    },
                    "dataType": "number",
                    "name": "calculatedLengthTreatedKm",
                    "units": "km",
                    "decimalPlaces": 3,
                    "behaviour": [
                      {
                        "condition": "lengthTreatedKm > 0",
                        "type": "conditional_validation",
                        "value": {
                          "message": "The managed length must be mapped",
                          "validate": "required,min[0.0001]"
                        }
                      }
                    ]
                  },
                  {
                    "defaultValue": {
                      "type": "computed",
                      "expression": "calculatedAreaTreatedHa"
                    },
                    "dataType": "number",
                    "name": "areaTreatedHa",
                    "description": "Manually enter correct figure for this reporting period if different to mapped value.",
                    "units": "ha",
                    "decimalPlaces": 3,
                    "validate": "required,min[0]"
                  },
                  {
                    "dataType": "text",
                    "name": "mappingNotAlignedReason",
                    "constraints": [
                      "Mapped area simplifies more complex area/s where work was undertaken during this period",
                      "Other"
                    ],
                    "validate": "required",
                    "behaviour": [
                      {
                        "condition": "not (within(calculatedAreaTreatedHa, areaTreatedHa, 0.1))",
                        "type": "visible"
                      }
                    ]
                  },
                  {
                    "dataType": "text",
                    "name": "mappingNotAlignedComments",
                    "validate": "required,maxSize[100]",
                    "behaviour": [
                      {
                        "type": "visible",
                        "condition": "\"Other\" == mappingNotAlignedReason"
                      }
                    ]
                  },
                  {
                    "dataType": "document",
                    "name": "extraMappingDetails",
                    "validate": "required",
                    "description": "Please fill in the Mapped/Actual/Invoice fields before attaching a document here. If those fields match this field will be void. <br/>If any of these fields differ please attach your organisation's detailed map for the area, covered by this project service - during reporting period (include the scale measure for each map).",
                    "behaviour": [
                      {
                        "condition": "not (within(calculatedAreaTreatedHa, areaTreatedHa, 0.1))",
                        "type": "visible"
                      }
                    ]
                  },
                  {
                    "defaultValue": {
                      "type": "computed",
                      "expression": "$geom.lengthKm(sitesCoveredForFloraSurvey)"
                    },
                    "dataType": "number",
                    "name": "lengthTreatedKm",
                    "units": "km",
                    "decimalPlaces": 3,
                    "validate": [
                      {
                        "rule": "min",
                        "param": {
                          "type": "computed",
                          "expression": "$geom.lengthKm(sitesCoveredForFloraSurvey)*0.9"
                        }
                      },
                      {
                        "rule": "max",
                        "param": {
                          "type": "computed",
                          "expression": "$geom.lengthKm(sitesCoveredForFloraSurvey)*1.1"
                        }
                      }
                    ]
                  },
                  {
                    "dataType": "text",
                    "description": "Select the technique used to conduct the survey. If the EMSA Application tool was not used, you should select 'Other'.",
                    "name": "emsaProtocol",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.protocol"
                    },
                    "constraints": {
                      "textProperty": "label",
                      "valueProperty": "value",
                      "type": "pre-populated",
                      "config": {
                        "source": {
                          "context-path": "owner.protocols"
                        }
                      }
                    }
                  },
                  {
                    "dataType": "stringList",
                    "description": "Describe the technique (if Other) was selected.",
                    "name": "otherEmsaProtocol",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.methods"
                    },
                    "validate": "required"
                  },
                  {
                    "dataType": "text",
                    "name": "surveyMethodology",
                    "description": "Provide more details on what is being done.",
                    "validate": "required,maxSize[3000]",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.methodDescription"
                    }
                  },
                  {
                    "dataType": "text",
                    "name": "invoicingThisActivity",
                    "constraints": [
                      "Yes",
                      "No"
                    ],
                    "validate": "required"
                  }
                ],
                "minSize": 1
              }
            ]
          },
          {
            "dataType": "lookupTable",
            "name": "baselineIndicatorMapping",
            "config": {
              "source": {
                "literal": {
                  "Baseline dataset associated with a project outcome": "Baseline",
                  "Project progress dataset that is tracking change against an established project baseline dataset": "Indicator"
                }
              }
            }
          },
          {
            "columns": [
              {
                "dataType": "text",
                "name": "participationIndividualsOrGroups",
                "description": "Once Individuals or groups is selected, the related number field in the next two columns will become editable to report.",
                "constraints": [
                  "Individuals",
                  "Groups"
                ],
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "participationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "participationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ]
              },
              {
                "dataType": "number",
                "name": "firstNationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "param": {
                      "expression": "participationIndividualNumber",
                      "type": "computed"
                    },
                    "rule": "max"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "firstNationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ]
              },
              {
                "dataType": "text",
                "name": "participationDetails",
                "validate": "required, maxSize[3000]"
              }
            ],
            "dataType": "list",
            "name": "participationInformationTable"
          },
          {
            "dataType": "number",
            "name": "totalSurveyBaseline",
            "validate": "required,min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(floraSurveys, \"baselineOrIndicatorSurvey == 'Baseline' ? 1 : 0\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalSurveyBaselineInvoiced",
            "validate": [
              {
                "param": {
                  "expression": "totalSurveyBaseline",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": 0
          },
          {
            "dataType": "number",
            "name": "totalSurveyIndicator",
            "validate": "required,min[0],max[1]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(floraSurveys, \"baselineOrIndicatorSurvey == 'Indicator' ? 1 : 0\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalSurveyIndicatorInvoiced",
            "defaultValue": 0,
            "validate": [
              {
                "param": {
                  "expression": "totalSurveyIndicator",
                  "type": "computed"
                },
                "rule": "max"
              }
            ]
          },
          {
            "dataType": "text",
            "name": "comments",
            "validate": "maxSize[1500]"
          },
          {
            "dataType": "image",
            "name": "photographicEvidence"
          },
          {
            "dataType": "boolean",
            "name": "dataUploaded",
            "description": ""
          },
          {
            "dataType": "text",
            "name": "projectAssuranceDetails",
            "description": ""
          },
          {
            "dataType": "list",
            "name": "assuranceDocuments",
            "columns": [
              {
                "dataType": "document",
                "name": "attachments",
                "description": "Please attach any Evidence of Service Delivery here."
              }
            ]
          }
        ],
        "modelName": "NHT - Flora survey",
        "title": "Flora Survey",
        "viewModel": [
          {
            "type": "section",
            "items": [
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<h3>Participation information</h3>"
                  }
                ]
              },
              {
                "columns": [
                  {
                    "width": "10%",
                    "source": "participationIndividualsOrGroups",
                    "title": "Are individuals or groups delivering this service?",
                    "type": "selectOne"
                  },
                  {
                    "width": "20%",
                    "type": "col",
                    "title": "Total number of people delivering this service <br>(including First Nations people)<b style=\"color:red\">*</b>",
                    "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                    "items": [
                      {
                        "source": "participationIndividualNumber",
                        "type": "number"
                      },
                      {
                        "source": "participationGroupNumber",
                        "type": "selectOne"
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "width": "20%",
                    "title": "Total number of First Nations people delivering this service<b style=\"color:red\">*</b>",
                    "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                    "items": [
                      {
                        "source": "firstNationIndividualNumber",
                        "type": "number"
                      },
                      {
                        "source": "firstNationGroupNumber",
                        "type": "selectOne"
                      }
                    ]
                  },
                  {
                    "source": "participationDetails",
                    "rows": 4,
                    "title": "If no First Nations people participated in the delivery of this service, <br>what are the reasons? If there was participation, please provide details.",
                    "helpText": "If there were no First Nations people participating in the delivery of this service, please explain the reasons. If there were First Nations people involved, please outline how they were involved.",
                    "type": "textarea"
                  }
                ],
                "userAddedRows": false,
                "disableTableUpload": false,
                "source": "participationInformationTable",
                "type": "table"
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<h3>Survey information</h3><p><b>Before completing this section, please ensure you have created a Data Set Summary information for every data set produced by the surveys you intend to report</b></p><ul><li>Each survey reported must relate to a combination of outcomes as described in your MERI plan</li><li>Each Data Set Summary recorded for a survey must be addressing the same outcomes as selected for the survey</li><li>If a survey produced more than one data set, use the New Data Set button to add each Data Set Summary under your survey</li><li>A single survey can be made up of multiple dataset</li></ul>"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<h3>Totals Summary</h3>"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "col",
                    "css": "span4 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(i) Total Number of baseline flora surveys completed for this reporting period",
                            "source": "totalSurveyBaseline",
                            "type": "number"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(ii) Total Number of baseline flora surveys <u><i>invoiced</i></u> for this reporting period",
                            "source": "totalSurveyBaselineInvoiced",
                            "type": "number"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span4 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(iii)  Total Number of  indicator flora surveys completed for this reporting period",
                            "source": "totalSurveyIndicator",
                            "type": "number"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(iv) Total Number of indicator flora surveys <u><i>invoiced</i></u> for this reporting period",
                            "source": "totalSurveyIndicatorInvoiced",
                            "type": "number"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "addRowText": "Add survey",
                "removeRowText": "Delete this survey",
                "userAddedRows": true,
                "source": "floraSurveys",
                "type": "repeat",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "type": "col",
                        "items": [
                          {
                            "source": "relatedOutcomes",
                            "type": "selectOne",
                            "preLabel": "Which outcome statement/s relates to this survey?"
                          }
                        ]
                      },
                      {
                        "type": "col",
                        "items": [
                          {
                            "source": "baselineOrIndicatorSurvey",
                            "type": "selectOne",
                            "preLabel": "Baseline survey or indicator (follow-up) survey?"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "source": "surveyObjective",
                        "preLabel": "Survey objective",
                        "type": "text"
                      }
                    ]
                  },
                  {
                    "type": "repeat",
                    "source": "floraDataSets",
                    "userAddedRows": true,
                    "addRowText": "New data set",
                    "removeRowText": "Delete this data set",
                    "items": [
                      {
                        "type": "row",
                        "css": "border-bottom",
                        "items": [
                          {
                            "type": "col",
                            "items": [
                              {
                                "source": "dataSetId",
                                "type": "selectOne",
                                "preLabel": "Please select the data set produced by this survey.  Note it must have already been entered on the Data Set Summary tab."
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "projectBaselines",
                                    "type": "selectMany",
                                    "preLabel": "Which project baseline/s relate to this survey?",
                                    "readonly": "readonly"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "investmentPriorities2",
                                    "preLabel": "Which investment priority does this activity relate to?",
                                    "type": "select2Many"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "otherInvestmentPriority",
                                    "type": "text"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Activity start date",
                                    "source": "activitiesStartDate",
                                    "type": "date"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Activity end date",
                                    "source": "activitiesEndDate",
                                    "type": "date"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Sites covered by flora survey",
                                    "source": "sitesCoveredForFloraSurvey",
                                    "type": "feature"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "calculatedAreaTreatedHa",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    },
                                    "readonly": "readonly"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "calculatedLengthTreatedKm",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    },
                                    "readonly": "readonly"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Please attach mapping details",
                                    "source": "extraMappingDetails",
                                    "type": "document"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Actual area (ha) / length (km) covered by flora survey",
                                    "source": "areaTreatedHa",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    }
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "lengthTreatedKm",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    }
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Reason for actual being different to mapped amount",
                                    "source": "mappingNotAlignedReason",
                                    "type": "selectOne"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "placeholder": "Please enter the reason/s the mapping didn't align with the invoiced amount",
                                    "source": "mappingNotAlignedComments",
                                    "type": "textarea",
                                    "rows": 5
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Survey technique",
                                    "source": "emsaProtocol",
                                    "type": "selectOne",
                                    "readonly": "readonly"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Survey technique (if Other)",
                                    "source": "otherEmsaProtocol",
                                    "type": "select2Many"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "surveyMethodology",
                                    "preLabel": "Survey methodology",
                                    "type": "text"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "invoicingThisActivity",
                                    "preLabel": "Are you invoicing for this activity in this reporting period?",
                                    "type": "selectOne"
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "columns": [
                          {
                            "width": "40%",
                            "source": "species",
                            "title": "Target species recorded",
                            "type": "speciesSelect"
                          },
                          {
                            "width": "35%",
                            "source": "threatenedEcologicalCommunity",
                            "title": "Threatened ecological communities (if applicable)",
                            "type": "text"
                          },
                          {
                            "width": "15%",
                            "source": "individualsOrGroups",
                            "title": "Individuals or groups?",
                            "type": "selectOne"
                          },
                          {
                            "width": "10%",
                            "source": "numberOfIndividualsOrGroups",
                            "title": "Number of groups / individuals in flora survey",
                            "type": "number"
                          }
                        ],
                        "userAddedRows": true,
                        "disableTableUpload": false,
                        "source": "floraSurveySpeciesTable",
                        "type": "table"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Optionally attach photos",
                    "source": "photographicEvidence",
                    "type": "image"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Clarification, if needed",
                    "type": "textarea",
                    "rows": 4,
                    "css": "span8",
                    "source": "comments",
                    "placeholder": "Clarification comments include information for your project manager about the service like:\n • any reported items that are not being invoiced (eg, over-achievement) \n • any extraneous circumstances that affected delivery of the service \n"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<p><b>Available Evidence</b></p>This field is mandatory for all projects as part of the invoicing process. Please list evidence you have retained for this service and provide information to where the evidence is stored (links/file location data). Refer to the Project Service Evidence Guide and the Project Service Summaries for information on the evidence requirements."
                  },
                  {
                    "preLabel": "Data have been uploaded",
                    "source": "dataUploaded",
                    "type": "boolean"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "",
                    "source": "projectAssuranceDetails",
                    "type": "textarea",
                    "rows": 4,
                    "placeholder": "List the documentary evidence you have available for this project service. Include specifically, the document titles and location (e.g. internal IT network pathway, URLs) to assist with locating this material for future audits/assurance purposes."
                  }
                ]
              },
              {
                "type": "table",
                "source": "assuranceDocuments",
                "userAddedRows": true,
                "disableTableUpload": true,
                "columns": [
                  {
                    "title": "Attached documents",
                    "source": "attachments",
                    "type": "document"
                  }
                ]
              }
            ]
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtFloraSurvey",
      "optional": true,
      "optionalQuestionText": null,
      "title": "Flora survey",
      "collapsibleHeading": null,
      "name": "NHT - Flora survey",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "dataModel": [
          {
            "dataType": "text",
            "name": "participationIndividualsOrGroups",
            "description": "Once Individuals or groups is selected, the related number field in the next two columns will become editable to report.",
            "constraints": [
              "Individuals",
              "Groups"
            ],
            "validate": "required"
          },
          {
            "dataType": "number",
            "name": "participationIndividualNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Individuals\"",
                "type": "enable"
              }
            ],
            "validate": "required,min[0]"
          },
          {
            "dataType": "text",
            "name": "participationGroupNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Groups\"",
                "type": "enable"
              }
            ],
            "constraints": [
              "0",
              "1-10",
              "11-20",
              "21-30",
              "31-40",
              "41-50"
            ],
            "validate": "required"
          },
          {
            "dataType": "number",
            "name": "firstNationIndividualNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Individuals\"",
                "type": "enable"
              }
            ],
            "validate": "required,min[0]"
          },
          {
            "dataType": "text",
            "name": "firstNationGroupNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Groups\"",
                "type": "enable"
              }
            ],
            "constraints": [
              "0",
              "1-10",
              "11-20",
              "21-30",
              "31-40",
              "41-50"
            ],
            "validate": "required"
          },
          {
            "dataType": "text",
            "name": "participationDetails",
            "validate": "maxSize[3000]"
          },
          {
            "columns": [
              {
                "dataType": "text",
                "name": "initialOrMaintained",
                "constraints": [
                  "Initial",
                  "Maintained"
                ],
                "validate": "required"
              },
              {
                "dataType": "feature",
                "name": "implementationSite"
              },
              {
                "computed": {
                  "expression": "$geom.areaHa(implementationSite)"
                },
                "dataType": "number",
                "name": "calculatedAreaImplementedHa",
                "units": "ha",
                "decimalPlaces": 3,
                "behaviour": [
                  {
                    "condition": "areaImplementedInvoicedHa > 0",
                    "type": "conditional_validation",
                    "value": {
                      "message": "The area must be mapped",
                      "validate": "required,min[0.0001]"
                    }
                  }
                ]
              },
              {
                "computed": {
                  "expression": "$geom.lengthKm(implementationSite)"
                },
                "dataType": "number",
                "name": "calculatedLengthImplementedKm",
                "units": "ha",
                "decimalPlaces": 3,
                "behaviour": [
                  {
                    "condition": "lengthImplementedKm > 0",
                    "type": "conditional_validation",
                    "value": {
                      "message": "The length must be mapped",
                      "validate": "required,min[0.0001]"
                    }
                  }
                ]
              },
              {
                "defaultValue": {
                  "expression": "$geom.areaHa(implementationSite)",
                  "type": "computed"
                },
                "dataType": "number",
                "name": "areaImplementedHa",
                "units": "ha",
                "decimalPlaces": 3,
                "validate": "required,min[0]"
              },
              {
                "defaultValue": {
                  "expression": "$geom.lengthKm(implementationSite)",
                  "type": "computed"
                },
                "dataType": "number",
                "name": "lengthImplementedKm",
                "units": "km",
                "decimalPlaces": 3,
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedReason",
                "behaviour": [
                  {
                    "condition": "not (within(calculatedAreaImplementedHa, areaImplementedHa, 0.1))",
                    "type": "visible"
                  }
                ],
                "constraints": [
                  "Mapped area simplifies more complex area/s where work was undertaken during this period",
                  "Other"
                ],
                "validate": "required"
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedComments",
                "behaviour": [
                  {
                    "condition": "\"Other\" == mappingNotAlignedReason",
                    "type": "visible"
                  }
                ],
                "validate": "required,maxSize[300]"
              },
              {
                "dataType": "document",
                "name": "extraMappingDetails",
                "description": "Please fill in the Mapped/Actual/Invoice fields before attaching a document here. If those fields match this field will be void. <br/>If any of these fields differ please attach your organisation's detailed map for the area, covered by this project service - during reporting period (include the scale measure for each map).",
                "behaviour": [
                  {
                    "condition": "not (within(calculatedAreaImplementedHa, areaImplementedHa, 0.1)) or roundTo(areaImplementedHa, 2) != roundTo(areaImplementedInvoicedHa, 2)",
                    "type": "visible"
                  }
                ],
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "areaInvoicedHa",
                "units": "ha",
                "decimalPlaces": 3,
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "rule": "max",
                    "param": {
                      "type": "computed",
                      "expression": "areaControlledHa"
                    }
                  }
                ]
              },
              {
                "dataType": "number",
                "name": "lengthInvoicedKm",
                "units": "km",
                "decimalPlaces": 3,
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "rule": "max",
                    "param": {
                      "type": "computed",
                      "expression": "lengthControlledKm"
                    }
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "invoicedNotActualReason",
                "constraints": [
                  "Work was undertaken over a greater area than will be invoiced for",
                  "Other"
                ],
                "validate": "required",
                "behaviour": [
                  {
                    "condition": "roundTo(areaControlledHa, 2) != roundTo(areaInvoicedHa, 2)",
                    "type": "if"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "invoicedNotActualComments",
                "behaviour": [
                  {
                    "type": "if",
                    "condition": "roundTo(areaControlledHa, 2) != roundTo(areaInvoicedHa, 2) and \"Other\" == invoicedNotActualReason"
                  }
                ],
                "validate": "required,maxSize[300]"
              },
              {
                "dataType": "text",
                "name": "invoicedLengthNotActualReason",
                "constraints": [
                  "Work was undertaken over a greater length than will be invoiced for",
                  "Other"
                ],
                "validate": "required",
                "behaviour": [
                  {
                    "condition": "roundTo(lengthControlledKm, 2) != roundTo(lengthInvoicedKm, 2)",
                    "type": "if"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "invoicedLengthNotActualComments",
                "behaviour": [
                  {
                    "type": "if",
                    "condition": "roundTo(lengthControlledKm, 2) != roundTo(lengthInvoicedKm, 2) and \"Other\" == invoicedLengthNotActualReason"
                  }
                ],
                "validate": "required,maxSize[300]"
              },
              {
                "dataType": "document",
                "name": "extraMappingDetails",
                "validate": "required",
                "description": "Please fill in the Mapped/Actual/Invoice fields before attaching a document here. If those fields match this field will be void. <br/>If any of these fields differ please attach your organisation's detailed map for the area, covered by this project service - during reporting period (include the scale measure for each map).",
                "behaviour": [
                  {
                    "condition": "not (within(areaControlledHa, siteCalculatedAreaHa, 0.1) and within(lengthControlledKm, siteCalculatedLengthKm, 0.1)) or roundTo(areaControlledHa, 2) != roundTo(areaInvoicedHa, 2)",
                    "type": "if"
                  }
                ]
              },
              {
                "dataType": "number",
                "name": "noStructuresInstalled",
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "invoiceLocationsStructures",
                "validate": "required"
              },
              {
                "columns": [
                  {
                    "dataType": "date",
                    "name": "activitiesStartDate",
                    "description": "Specific the dates these events were held on.",
                    "validate": "required"
                  },
                  {
                    "dataType": "date",
                    "name": "activitiesEndDate",
                    "description": "Specific the dates these events were held on.",
                    "validate": "required"
                  },
                  {
                    "dataType": "text",
                    "name": "habitatAugmentationType",
                    "description": "",
                    "constraints": [
                      "Artificial fauna movement devices",
                      "Artificial nesting or roosting habitat (incl. tiles, fence posts)",
                      "Environmental thinning",
                      "Improving fish passage",
                      "Natural features (rocks, logs)",
                      "Other"
                    ],
                    "validate": "required"
                  },
                  {
                    "dataType": "text",
                    "name": "otherHabitatAugmentationType",
                    "description": "Please specify the habitat augmentation type if Other (specify in notes) was selected in the Type of habitat augmentation column.",
                    "behaviour": [
                      {
                        "condition": "habitatAugmentationType == \"Other\"",
                        "type": "visible"
                      }
                    ],
                    "validate": "required,maxSize[100]"
                  },
                  {
                    "dataType": "text",
                    "name": "habitatAugmentationObjective",
                    "description": "",
                    "validate": "required,maxSize[300]"
                  },
                  {
                    "dataType": "feature",
                    "name": "sitesBenefittedByHabitatAugmentation"
                  },
                  {
                    "computed": {
                      "expression": "$geom.areaHa(sitesBenefittedByHabitatAugmentation)"
                    },
                    "dataType": "number",
                    "name": "areaBenefittedByHabitatAugmentationHa",
                    "units": "ha",
                    "decimalPlaces": 3
                  },
                  {
                    "dataType": "text",
                    "name": "evidenceOfBenefit",
                    "validate": "maxSize[300]"
                  },
                  {
                    "dataType": "text",
                    "name": "investmentPrioritiesActivityRelates",
                    "description": "",
                    "validate": "required,maxSize[300]"
                  },
                  {
                    "name": "relatedOutcomes",
                    "dataType": "text",
                    "description": "Select the outcome/s as defined in your MERI plan that this service was delivered to achieve.",
                    "validate": "required",
                    "constraints": {
                      "textProperty": "label",
                      "valueProperty": "label",
                      "type": "pre-populated",
                      "config": {
                        "source": {
                          "url": "/project/outcomesByScores",
                          "params": [
                            {
                              "expression": "owner.projectId",
                              "name": "id",
                              "type": "computed"
                            },
                            {
                              "expression": "scores",
                              "name": "scoreIds",
                              "type": "computed"
                            }
                          ]
                        }
                      }
                    }
                  }
                ],
                "dataType": "list",
                "name": "habitatAugmentationDetails"
              }
            ],
            "dataType": "list",
            "name": "habitatAugmentationAreas"
          },
          {
            "name": "habitatSurveyCountHeader",
            "type": "number",
            "decimalPlaces": 0,
            "computed": {
              "expression": "count(habitatAugmentationAreas, \"relatedOutcomes\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalAreaAugmentationInitial",
            "validate": "required,min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(habitatAugmentationAreas, \"initialOrMaintained == 'Initial' ? areaImplementedHa : 0\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalAreaAugmentationInitialInvoiced",
            "validate": [
              {
                "param": {
                  "expression": "totalAreaAugmentationInitial",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": 1
          },
          {
            "dataType": "number",
            "name": "totalAreaAugmentationMaintained",
            "validate": "required,min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(habitatAugmentationAreas, \"areaImplementedHa\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalAreaAugmentationMaintainedInvoiced",
            "validate": [
              {
                "param": {
                  "expression": "totalAreaAugmentationMaintained",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": 1
          },
          {
            "dataType": "number",
            "name": "totalStructuresInstalledInitial",
            "validate": "required,min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(habitatAugmentationAreas, \"noStructuresInstalled\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalStructuresInstalledInitialInvoiced",
            "validate": [
              {
                "param": {
                  "expression": "totalStructuresInstalledInitial",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": 1
          },
          {
            "dataType": "number",
            "name": "totalStructuresInstalledMaintained",
            "validate": "required,min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(habitatAugmentationAreas, \"noStructuresInstalled\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalStructuresInstalledMaintainedInvoiced",
            "validate": [
              {
                "param": {
                  "expression": "totalStructuresInstalledMaintained",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": 1
          },
          {
            "dataType": "text",
            "name": "comments",
            "validate": "maxSize[1500]"
          },
          {
            "dataType": "image",
            "name": "photographicEvidence"
          },
          {
            "dataType": "boolean",
            "name": "dataUploaded",
            "description": "<ul><li>Tick box to confirm data has been uploaded</li><li>URL Link (mandatory if below is ticked) in available evidence</li></ul>"
          },
          {
            "name": "projectAssuranceDetails",
            "dataType": "text",
            "validate": "required,maxSize[5000]",
            "behaviour": [
              {
                "condition": "dataUploaded == true",
                "type": "enable"
              }
            ]
          },
          {
            "dataType": "list",
            "name": "assuranceDocuments",
            "columns": [
              {
                "dataType": "document",
                "name": "attachments",
                "description": "Please attach any Evidence of Service Delivery here."
              }
            ]
          }
        ],
        "modelName": "NHT - Habitat augmentation",
        "title": "Habitat Augmentation",
        "viewModel": [
          {
            "columns": [
              {
                "width": "10%",
                "source": "participationIndividualsOrGroups",
                "title": "Are individuals or groups delivering this service?",
                "type": "selectOne"
              },
              {
                "width": "20%",
                "type": "col",
                "title": "Total number of people delivering this service <br>(including First Nations people)",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "participationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "participationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "type": "col",
                "width": "20%",
                "title": "Total number of First Nations people delivering this service ",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "firstNationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "firstNationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "source": "participationDetails",
                "rows": 4,
                "title": "If no First Nations people participated in the delivery of this service, <br>what are the reasons? If there was participation, please provide details.",
                "helpText": "If there were no First Nations people participating in the delivery of this service, please explain the reasons. If there were First Nations people involved, please outline how they were involved.",
                "type": "textarea"
              }
            ],
            "userAddedRows": false,
            "disableTableUpload": false,
            "source": "",
            "type": "table"
          },
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<h3>Totals Summary X</h3>"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(i) Total area (ha) of augmentation during this reporting period (Initial)",
                        "source": "totalAreaAugmentationInitial",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(ii) Total area (ha) of augmentation <u><i>invoiced</i></u> for during this reporting period (Initial)",
                        "source": "totalAreaAugmentationInitialInvoiced",
                        "type": "number"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(iii) Total area (ha) of augmentation during this reporting period (maintained)",
                        "source": "totalAreaAugmentationMaintained",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(iv) Total area (ha) of augmentation <b><u>invoiced</b></u> for during this reporting period (maintained)",
                        "source": "totalAreaAugmentationMaintainedInvoiced",
                        "type": "number"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(v) Number of locations where structures installed during this reporting period (Initial)",
                        "source": "totalStructuresInstalledInitial",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(vi) Number of locations where structures installed <b><u>invoiced</b></u> for during this reporting period (Initial)",
                        "source": "totalStructuresInstalledInitialInvoiced",
                        "type": "number"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(vii) Number of locations where structures installed during this reporting period (maintained)",
                        "source": "totalStructuresInstalledMaintained",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(viii) Number of locations where structures installed <b><u>invoiced</b></u> for during this reporting period (maintained)",
                        "source": "totalStructuresInstalledMaintainedInvoiced",
                        "type": "number"
                      }
                    ]
                  }
                ]
              }
            ]
          },
          {
            "preLabel": "Number of Habitat Augmentation surveys conducted:",
            "noEdit": true,
            "type": "number",
            "source": "habitatSurveyCountHeader"
          },
          {
            "addRowText": "Add a new controlled area",
            "userAddedRows": true,
            "source": "habitatAugmentationAreas",
            "type": "repeat",
            "items": [
              {
                "type": "row",
                "css": "border-bottom",
                "items": [
                  {
                    "preLabel": "Initial or Maintenance Treatment?",
                    "css": "span3",
                    "source": "initialOrMaintained",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "type": "row",
                "css": "border-bottom",
                "items": [
                  {
                    "type": "col",
                    "css": "span2 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "implementationSite",
                            "type": "feature",
                            "preLabel": "Site/s of habitat augmentation"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "calculatedAreaImplementedHa",
                            "type": "number",
                            "readonly": true,
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "calculatedLengthImplementedKm",
                            "type": "number",
                            "readonly": true,
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Please attach mapping details",
                            "source": "extraMappingDetails",
                            "type": "document"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span2 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Actual area (ha) / length (km) of habitat augmentation",
                            "helpText": "Manually enter correct figure for this reporting period if different to mapped value.",
                            "source": "areaImplementedHa",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "",
                            "source": "lengthImplementedKm",
                            "type": "number",
                            "validate": "required",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Reason for actual being different to mapped amount",
                            "source": "mappingNotAlignedReason",
                            "type": "selectOne"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "placeholder": "Please enter the reason/s the mapping didn't align with the invoiced amount",
                            "source": "mappingNotAlignedComments",
                            "type": "textarea",
                            "rows": 5
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span2 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Invoiced area (ha) / length (km) treated of habitat augmentation",
                            "helpText": "Enter the amount you will invoice for during this reporting period.",
                            "source": "areaInvoicedHa",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Reason for invoiced amount being different to actual amount",
                            "source": "invoicedNotActualReason",
                            "type": "selectOne"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "placeholder": "Please enter the reason/s the mapping didn't align with the invoiced amount",
                            "source": "invoicedNotActualComments",
                            "type": "textarea",
                            "rows": 5
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "",
                            "helpText": "",
                            "source": "lengthInvoicedKm",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Reason for invoiced amount being different to actual amount",
                            "source": "invoicedLengthNotActualReason",
                            "type": "selectOne"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "placeholder": "Please enter the reason/s the mapping didn't align with the invoiced amount",
                            "source": "invoicedLengthNotActualComments",
                            "type": "textarea",
                            "rows": 5
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span2 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "noStructuresInstalled",
                            "preLabel": "Number of structures installed/maintained",
                            "type": "number"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span2 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "invoiceLocationsStructures",
                            "preLabel": "Invoiced number of locations where structures were installed/maintained",
                            "type": "number"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "columns": [
                  {
                    "width": "15%",
                    "source": "relatedOutcomes",
                    "type": "selectOne",
                    "title": "Which outcome statement/s relates to this survey?"
                  },
                  {
                    "title": "Activity start date",
                    "source": "activitiesStartDate",
                    "type": "date",
                    "width": "10%"
                  },
                  {
                    "title": "Activity end date",
                    "source": "activitiesEndDate",
                    "type": "date",
                    "width": "10%"
                  },
                  {
                    "width": "10%",
                    "title": "Type of habitat augmentation / installed",
                    "type": "col",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "habitatAugmentationType",
                            "type": "select2"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "otherHabitatAugmentationType",
                            "type": "textarea"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "width": "15%",
                    "source": "habitatAugmentationObjective",
                    "title": "Purpose of habitat augmentation",
                    "type": "textarea"
                  },
                  {
                    "width": "15%",
                    "title": "Please map any off-site area/s if they benefitted from this habitat augmentation",
                    "type": "col",
                    "items": [
                      {
                        "source": "sitesBenefittedByHabitatAugmentation",
                        "type": "feature"
                      },
                      {
                        "source": "areaBenefittedByHabitatAugmentationHa",
                        "type": "number",
                        "displayOptions": {
                          "displayUnits": true
                        },
                        "readonly": "readonly"
                      }
                    ]
                  },
                  {
                    "width": "15%",
                    "source": "evidenceOfBenefit",
                    "title": "If off-site area was mapped please provide a description on the evidence available to reflect this benefit",
                    "type": "textarea"
                  },
                  {
                    "width": "15%",
                    "source": "investmentPrioritiesActivityRelates",
                    "title": "Which investment priority does this activity relate to?",
                    "type": "text"
                  }
                ],
                "userAddedRows": false,
                "source": "habitatAugmentationDetails",
                "type": "table"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "Optionally attach photos",
                "source": "photographicEvidence",
                "type": "image"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "Clarification, if needed",
                "type": "textarea",
                "rows": 4,
                "css": "span8",
                "source": "comments",
                "placeholder": "Clarification comments include information for your project manager about the service like:\n • any reported items that are not being invoiced (eg, over-achievement) \n • any extraneous circumstances that affected delivery of the service \n"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<p><b>Available Evidence</b></p>This field is mandatory for all projects as part of the invoicing process. Please list evidence you have retained for this service and provide information to where the evidence is stored (links/file location data). Refer to the Project Service Evidence Guide and the Project Service Summaries for information on the evidence requirements.<b style=\"color:red\">*</b>"
              },
              {
                "preLabel": "Data have been uploaded",
                "source": "dataUploaded",
                "type": "boolean"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "",
                "source": "projectAssuranceDetails",
                "type": "textarea",
                "rows": 4,
                "placeholder": "List the documentary evidence you have available for this project service. Include specifically, the document titles and location (e.g. internal IT network pathway, URLs) to assist with locating this material for future audits/assurance purposes."
              }
            ]
          },
          {
            "type": "table",
            "source": "assuranceDocuments",
            "userAddedRows": true,
            "disableTableUpload": true,
            "columns": [
              {
                "title": "Attached documents",
                "source": "attachments",
                "type": "document"
              }
            ]
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtHabitatAugmentation",
      "optional": true,
      "optionalQuestionText": null,
      "title": "Habitat augmentation",
      "collapsibleHeading": null,
      "name": "NHT - Habitat augmentation",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "dataModel": [
          {
            "name": "habitatConditionSurveys",
            "dataType": "list",
            "minSize": 1,
            "columns": [
              {
                "name": "relatedOutcomes",
                "dataType": "text",
                "description": "Select the outcome/s as defined in your MERI plan that this service was delivered to achieve.",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "value",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "context-path": "outcomes"
                    }
                  }
                }
              },
              {
                "dataType": "text",
                "name": "baselineOrIndicatorSurvey",
                "description": "",
                "constraints": [
                  "Baseline",
                  "Indicator"
                ],
                "validate": "required"
              },
              {
                "dataType": "text",
                "name": "surveyObjective",
                "description": "What the survey aim to capture? How will the information obtained from the survey be used?",
                "validate": "required,maxSize[3000]"
              },
              {
                "dataType": "number",
                "name": "numberOfSurveys",
                "validate": "required,min[1],max[1]",
                "defaultValue": 1,
                "readonly": true
              },
              {
                "dataType": "list",
                "name": "habitatConditionDataSets",
                "columns": [
                  {
                    "name": "dataSetId",
                    "dataType": "text",
                    "description": "This section will require the Data Set Name so the Metadata fields in the Data Set Summary tab should be filled out before the Outcome Report is due. More than one dataset if relevant for this Project Baseline could be selected.",
                    "validate": "required",
                    "constraints": {
                      "textProperty": "name",
                      "valueProperty": "dataSetId",
                      "excludePath": "habitatConditionSurveys.habitatConditionDataSets.dataSetId",
                      "type": "pre-populated",
                      "config": {
                        "source": {
                          "context-path": "owner.custom.dataSets"
                        },
                        "filter": {
                          "namespace": "dataSet",
                          "expression": "dataSet.serviceId == 42 and dataSet.progress == 'finished' and baselineOrIndicatorSurvey == baselineIndicatorMapping.lookupValue(dataSet.type) and deepEquals(relatedOutcomes,dataSet.outcomesLabel)"
                        }
                      }
                    },
                    "behaviour": [
                      {
                        "type": "pre_populate",
                        "config": {
                          "waitForInitialisation": true,
                          "source": {
                            "url": "/site/geojson",
                            "params": [
                              {
                                "expression": "x=find(owner.custom.dataSets, \"dataSetId\", dataSetId); x.siteId",
                                "name": "id",
                                "type": "computed",
                                "required": true
                              }
                            ]
                          },
                          "target":  {
                            "type": "singleValue",
                            "name": "sitesCoveredForHabitatConditionSurvey"
                          }
                        }
                      }
                    ]
                  },
                  {
                    "name": "projectBaselines",
                    "dataType": "stringList",
                    "description": "Select the relevant Project Baseline as listed in the Monitoring Methodology section of the MERI Plan.",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.baselines"
                    },
                    "constraints": {
                      "textProperty": "baseline",
                      "valueProperty": "code",
                      "type": "pre-populated",
                      "excludePath": "projectBaselines",
                      "config": {
                        "source": {
                          "context-path": "owner.custom.details.baseline.rows"
                        }
                      }
                    }
                  },
                  {
                    "name": "investmentPriorities2",
                    "dataType": "stringList",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.investmentPriorities"
                    },
                    "constraints": {
                      "type": "pre-populated",
                      "config": {
                        "source": {
                          "params": [
                            {
                              "expression": "owner.projectId",
                              "name": "id",
                              "type": "computed"
                            }
                          ],
                          "url": "/project/listProjectInvestmentPriorities/"
                        }
                      }
                    }
                  },
                  {
                    "dataType": "text",
                    "name": "otherInvestmentPriority",
                    "behaviour": [
                      {
                        "type": "enable",
                        "condition": "\"Other\" in investmentPriorities2"
                      }
                    ]
                  },
                  {
                    "dataType": "date",
                    "name": "activitiesStartDate",
                    "description": "Specific the dates these events were held on.",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.startDate"
                    }
                  },
                  {
                    "dataType": "date",
                    "name": "activitiesEndDate",
                    "description": "Specific the dates these events were held on.",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.endDate"
                    }
                  },
                  {
                    "dataType": "feature",
                    "name": "sitesCoveredForHabitatConditionSurvey",
                    "description": "Mapping field to be done and Area (ha)/length (km) field be auto-calculated from mapping."
                  },
                  {
                    "computed": {
                      "expression": "$geom.areaHa(sitesCoveredForHabitatConditionSurvey)"
                    },
                    "dataType": "number",
                    "name": "calculatedAreaTreatedHa",
                    "units": "ha",
                    "decimalPlaces": 3,
                    "behaviour": [
                      {
                        "condition": "areaInvoicedTreatedHa > 0",
                        "type": "conditional_validation",
                        "value": {
                          "message": "The managed area must be mapped",
                          "validate": "required,min[0.0001]"
                        }
                      }
                    ]
                  },
                  {
                    "computed": {
                      "expression": "$geom.lengthKm(sitesCoveredForHabitatConditionSurvey)"
                    },
                    "dataType": "number",
                    "name": "calculatedLengthTreatedKm",
                    "units": "km",
                    "decimalPlaces": 3,
                    "behaviour": [
                      {
                        "condition": "lengthTreatedKm > 0",
                        "type": "conditional_validation",
                        "value": {
                          "message": "The managed length must be mapped",
                          "validate": "required,min[0.0001]"
                        }
                      }
                    ]
                  },
                  {
                    "defaultValue": {
                      "type": "computed",
                      "expression": "calculatedAreaTreatedHa"
                    },
                    "dataType": "number",
                    "name": "areaTreatedHa",
                    "description": "Manually enter correct figure for this reporting period if different to mapped value.",
                    "units": "ha",
                    "decimalPlaces": 3,
                    "validate": "required,min[0]"
                  },
                  {
                    "dataType": "text",
                    "name": "mappingNotAlignedReason",
                    "constraints": [
                      "Mapped area simplifies more complex area/s where work was undertaken during this period",
                      "Other"
                    ],
                    "validate": "required",
                    "behaviour": [
                      {
                        "condition": "not (within(calculatedAreaTreatedHa, areaTreatedHa, 0.1))",
                        "type": "visible"
                      }
                    ]
                  },
                  {
                    "dataType": "text",
                    "name": "mappingNotAlignedComments",
                    "validate": "required,maxSize[100]",
                    "behaviour": [
                      {
                        "type": "visible",
                        "condition": "\"Other\" == mappingNotAlignedReason"
                      }
                    ]
                  },
                  {
                    "dataType": "document",
                    "name": "extraMappingDetails",
                    "validate": "required",
                    "description": "Please fill in the Mapped/Actual/Invoice fields before attaching a document here. If those fields match this field will be void. <br/>If any of these fields differ please attach your organisation's detailed map for the area, covered by this project service - during reporting period (include the scale measure for each map).",
                    "behaviour": [
                      {
                        "condition": "not (within(calculatedAreaTreatedHa, areaTreatedHa, 0.1))",
                        "type": "visible"
                      }
                    ]
                  },
                  {
                    "defaultValue": {
                      "type": "computed",
                      "expression": "$geom.lengthKm(sitesCoveredForHabitatConditionSurvey)"
                    },
                    "dataType": "number",
                    "name": "lengthTreatedKm",
                    "units": "km",
                    "decimalPlaces": 3,
                    "validate": [
                      {
                        "rule": "min",
                        "param": {
                          "type": "computed",
                          "expression": "$geom.lengthKm(sitesCoveredForHabitatConditionSurvey)*0.9"
                        }
                      },
                      {
                        "rule": "max",
                        "param": {
                          "type": "computed",
                          "expression": "$geom.lengthKm(sitesCoveredForHabitatConditionSurvey)*1.1"
                        }
                      }
                    ]
                  },
                  {
                    "dataType": "text",
                    "description": "Select the technique used to conduct the survey. If the EMSA Application tool was not used, you should select 'Other'.",
                    "name": "emsaProtocol",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.protocol"
                    },
                    "constraints": {
                      "textProperty": "label",
                      "valueProperty": "value",
                      "type": "pre-populated",
                      "config": {
                        "source": {
                          "context-path": "owner.protocols"
                        }
                      }
                    }
                  },
                  {
                    "dataType": "stringList",
                    "description": "Describe the technique (if Other) was selected.",
                    "name": "otherEmsaProtocol",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.methods"
                    },
                    "validate": "required"
                  },
                  {
                    "dataType": "text",
                    "name": "surveyMethodology",
                    "description": "Provide more details on what is being done.",
                    "validate": "required,maxSize[3000]",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.methodDescription"
                    }
                  },
                  {
                    "dataType": "text",
                    "name": "invoicingThisActivity",
                    "constraints": [
                      "Yes",
                      "No"
                    ],
                    "validate": "required"
                  },
                  {
                    "columns": [
                      {
                        "dataType": "species",
                        "name": "species",
                        "validate": "required"
                      },
                      {
                        "dataType": "text",
                        "name": "typesOfHabitat",
                        "description": "",
                        "constraints": [
                          "Desert",
                          "Grassland/Savanna",
                          "Bush/Forest",
                          "Subterranean",
                          "Marsh/Swamps",
                          "Rivers/Streams/Wetlands",
                          "Coastal areas",
                          "Marine areas",
                          "Other"
                        ],
                        "validate": "required"
                      },
                      {
                        "dataType": "text",
                        "name": "habitatCondition",
                        "validate": "maxSize[300]"
                      }
                    ],
                    "dataType": "list",
                    "name": "habitatConditionSurveySpeciesTable"
                  }
                ],
                "minSize": 1
              }
            ]
          },
          {
            "dataType": "lookupTable",
            "name": "baselineIndicatorMapping",
            "config": {
              "source": {
                "literal": {
                  "Baseline dataset associated with a project outcome": "Baseline",
                  "Project progress dataset that is tracking change against an established project baseline dataset": "Indicator"
                }
              }
            }
          },
          {
            "columns": [
              {
                "dataType": "text",
                "name": "participationIndividualsOrGroups",
                "description": "Once Individuals or groups is selected, the related number field in the next two columns will become editable to report.",
                "constraints": [
                  "Individuals",
                  "Groups"
                ],
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "participationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "participationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ]
              },
              {
                "dataType": "number",
                "name": "firstNationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "param": {
                      "expression": "participationIndividualNumber",
                      "type": "computed"
                    },
                    "rule": "max"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "firstNationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ]
              },
              {
                "dataType": "text",
                "name": "participationDetails",
                "validate": "required, maxSize[3000]"
              }
            ],
            "dataType": "list",
            "name": "participationInformationTable"
          },
          {
            "dataType": "number",
            "name": "totalSurveyBaseline",
            "validate": "required,min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(habitatConditionSurveys, \"baselineOrIndicatorSurvey == 'Baseline' ? 1 : 0\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalSurveyBaselineInvoiced",
            "validate": [
              {
                "param": {
                  "expression": "totalSurveyBaseline",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": 0
          },
          {
            "dataType": "number",
            "name": "totalSurveyIndicator",
            "validate": "required,min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(habitatConditionSurveys, \"baselineOrIndicatorSurvey == 'Indicator' ? 1 : 0\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalSurveyIndicatorInvoiced",
            "validate": [
              {
                "param": {
                  "expression": "totalSurveyIndicator",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": 0
          },
          {
            "dataType": "text",
            "name": "comments",
            "validate": "maxSize[1500]"
          },
          {
            "dataType": "image",
            "name": "photographicEvidence"
          },
          {
            "dataType": "boolean",
            "name": "dataUploaded",
            "description": ""
          },
          {
            "dataType": "text",
            "name": "projectAssuranceDetails",
            "description": ""
          },
          {
            "dataType": "list",
            "name": "assuranceDocuments",
            "columns": [
              {
                "dataType": "document",
                "name": "attachments",
                "description": "Please attach any Evidence of Service Delivery here."
              }
            ]
          }
        ],
        "modelName": "NHT - Habitat condition assessment survey",
        "title": "Habitat Condition Assessment Survey",
        "viewModel": [
          {
            "type": "section",
            "items": [
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<h3>Participation information</h3>"
                  }
                ]
              },
              {
                "columns": [
                  {
                    "width": "10%",
                    "source": "participationIndividualsOrGroups",
                    "title": "Are individuals or groups delivering this service?",
                    "type": "selectOne"
                  },
                  {
                    "width": "20%",
                    "type": "col",
                    "title": "Total number of people delivering this service <br>(including First Nations people)<b style=\"color:red\">*</b>",
                    "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                    "items": [
                      {
                        "source": "participationIndividualNumber",
                        "type": "number"
                      },
                      {
                        "source": "participationGroupNumber",
                        "type": "selectOne"
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "width": "20%",
                    "title": "Total number of First Nations people delivering this service<b style=\"color:red\">*</b>",
                    "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                    "items": [
                      {
                        "source": "firstNationIndividualNumber",
                        "type": "number"
                      },
                      {
                        "source": "firstNationGroupNumber",
                        "type": "selectOne"
                      }
                    ]
                  },
                  {
                    "source": "participationDetails",
                    "rows": 4,
                    "title": "If no First Nations people participated in the delivery of this service, <br>what are the reasons? If there was participation, please provide details.",
                    "helpText": "If there were no First Nations people participating in the delivery of this service, please explain the reasons. If there were First Nations people involved, please outline how they were involved.",
                    "type": "textarea"
                  }
                ],
                "userAddedRows": false,
                "disableTableUpload": false,
                "source": "participationInformationTable",
                "type": "table"
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<h3>Survey information</h3><p><b>Before completing this section, please ensure you have created a Data Set Summary information for every data set produced by the surveys you intend to report</b></p><ul><li>Each survey reported must relate to a combination of outcomes as described in your MERI plan</li><li>Each Data Set Summary recorded for a survey must be addressing the same outcomes as selected for the survey</li><li>If a survey produced more than one data set, use the New Data Set button to add each Data Set Summary under your survey</li><li>A single survey can be made up of multiple dataset</li></ul>"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<h3>Totals Summary</h3>"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "col",
                    "css": "span4 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(i) Total Number of baseline habitat condition assessment surveys completed for this reporting period",
                            "source": "totalSurveyBaseline",
                            "type": "number"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(ii) Total Number of baseline habitat condition assessment surveys <u><i>invoiced</i></u> for this reporting period",
                            "source": "totalSurveyBaselineInvoiced",
                            "type": "number"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span4 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(iii)  Total Number of  indicator habitat condition assessment surveys completed for this reporting period",
                            "source": "totalSurveyIndicator",
                            "type": "number"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(iv) Total Number of indicator habitat condition assessment surveys <u><i>invoiced</i></u> for this reporting period",
                            "source": "totalSurveyIndicatorInvoiced",
                            "type": "number"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "addRowText": "Add survey",
                "removeRowText": "Delete this survey",
                "userAddedRows": true,
                "source": "habitatConditionSurveys",
                "type": "repeat",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "type": "col",
                        "items": [
                          {
                            "source": "relatedOutcomes",
                            "type": "selectOne",
                            "preLabel": "Which outcome statement/s relates to this survey?"
                          }
                        ]
                      },
                      {
                        "type": "col",
                        "items": [
                          {
                            "source": "baselineOrIndicatorSurvey",
                            "type": "selectOne",
                            "preLabel": "Baseline survey or indicator (follow-up) survey?"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "source": "surveyObjective",
                        "preLabel": "Survey objective",
                        "type": "text"
                      }
                    ]
                  },
                  {
                    "type": "repeat",
                    "source": "habitatConditionDataSets",
                    "userAddedRows": true,
                    "addRowText": "New data set",
                    "removeRowText": "Delete this data set",
                    "items": [
                      {
                        "type": "row",
                        "css": "border-bottom",
                        "items": [
                          {
                            "type": "col",
                            "items": [
                              {
                                "source": "dataSetId",
                                "type": "selectOne",
                                "preLabel": "Please select the data set produced by this survey.  Note it must have already been entered on the Data Set Summary tab."
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "projectBaselines",
                                    "type": "selectMany",
                                    "preLabel": "Which project baseline/s relate to this survey?",
                                    "readonly": "readonly"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "investmentPriorities2",
                                    "preLabel": "Which investment priority does this activity relate to?",
                                    "type": "select2Many"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "otherInvestmentPriority",
                                    "type": "text"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Activity start date",
                                    "source": "activitiesStartDate",
                                    "type": "date"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Activity end date",
                                    "source": "activitiesEndDate",
                                    "type": "date"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Sites covered by habitat condition assessment survey",
                                    "source": "sitesCoveredForHabitatConditionSurvey",
                                    "type": "feature"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "calculatedAreaTreatedHa",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    },
                                    "readonly": "readonly"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "calculatedLengthTreatedKm",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    },
                                    "readonly": "readonly"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Please attach mapping details",
                                    "source": "extraMappingDetails",
                                    "type": "document"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Actual area (ha) / length (km) covered by habitat condition assessment survey",
                                    "source": "areaTreatedHa",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    }
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "lengthTreatedKm",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    }
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Reason for actual being different to mapped amount",
                                    "source": "mappingNotAlignedReason",
                                    "type": "selectOne"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "placeholder": "Please enter the reason/s the mapping didn't align with the invoiced amount",
                                    "source": "mappingNotAlignedComments",
                                    "type": "textarea",
                                    "rows": 5
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Survey technique",
                                    "source": "emsaProtocol",
                                    "type": "selectOne",
                                    "readonly": "readonly"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Survey technique (if Other)",
                                    "source": "otherEmsaProtocol",
                                    "type": "select2Many"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "surveyMethodology",
                                    "preLabel": "Survey methodology",
                                    "type": "text"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "invoicingThisActivity",
                                    "preLabel": "Are you invoicing for this activity in this reporting period?",
                                    "type": "selectOne"
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "columns": [
                          {
                            "width": "40%",
                            "source": "typesOfHabitat",
                            "title": "Types of habitat",
                            "type": "selectOne"
                          },
                          {
                            "width": "60%",
                            "source": "habitatCondition",
                            "title": "Condition of habitat",
                            "type": "text"
                          }
                        ],
                        "userAddedRows": true,
                        "disableTableUpload": false,
                        "source": "habitatConditionSurveySpeciesTable",
                        "type": "table"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Optionally attach photos",
                    "source": "photographicEvidence",
                    "type": "image"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Clarification, if needed",
                    "type": "textarea",
                    "rows": 4,
                    "css": "span8",
                    "source": "comments",
                    "placeholder": "Clarification comments include information for your project manager about the service like:\n • any reported items that are not being invoiced (eg, over-achievement) \n • any extraneous circumstances that affected delivery of the service \n"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<p><b>Available Evidence</b></p>This field is mandatory for all projects as part of the invoicing process. Please list evidence you have retained for this service and provide information to where the evidence is stored (links/file location data). Refer to the Project Service Evidence Guide and the Project Service Summaries for information on the evidence requirements."
                  },
                  {
                    "preLabel": "Data have been uploaded",
                    "source": "dataUploaded",
                    "type": "boolean"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "",
                    "source": "projectAssuranceDetails",
                    "type": "textarea",
                    "rows": 4,
                    "placeholder": "List the documentary evidence you have available for this project service. Include specifically, the document titles and location (e.g. internal IT network pathway, URLs) to assist with locating this material for future audits/assurance purposes."
                  }
                ]
              },
              {
                "type": "table",
                "source": "assuranceDocuments",
                "userAddedRows": true,
                "disableTableUpload": true,
                "columns": [
                  {
                    "title": "Attached documents",
                    "source": "attachments",
                    "type": "document"
                  }
                ]
              }
            ]
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtHabitatConditionAssessmentSurvey",
      "optional": true,
      "optionalQuestionText": null,
      "title": "Habitat condition assessment",
      "collapsibleHeading": null,
      "name": "NHT - Habitat condition assessment",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "title": "Identifying and Prioritising the Location of Potential Sites",
        "modelName": "NHT - Identifying sites",
        "dataModel": [
          {
            "columns": [
              {
                "dataType": "number",
                "name": "numberPotentialSitesAssessed",
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "sitesHaveBeenIdentified",
                "description": "",
                "validate": "required,maxSize[300]"
              },
              {
                "dataType": "text",
                "name": "methodsUsedToIdentify",
                "description": "",
                "validate": "required,maxSize[300]"
              },
              {
                "name": "relatedOutcomes",
                "dataType": "text",
                "description": "Select the outcome/s as defined in your MERI plan that this service was delivered to achieve.",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "label",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "url": "/project/outcomesByScores",
                      "params": [
                        {
                          "expression": "owner.projectId",
                          "name": "id",
                          "type": "computed"
                        },
                        {
                          "expression": "scores",
                          "name": "scoreIds",
                          "type": "computed"
                        }
                      ]
                    }
                  }
                }
              },
              {
                "name": "investmentPriorities2",
                "dataType": "stringList",
                "validate": "required",
                "constraints": {
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "params": [
                        {
                          "expression": "owner.projectId",
                          "name": "id",
                          "type": "computed"
                        }
                      ],
                      "url": "/project/listProjectInvestmentPriorities/"
                    }
                  }
                }
              },
              {
                "dataType": "text",
                "name": "otherInvestmentPriority",
                "behaviour": [
                  {
                    "type": "enable",
                    "condition": "\"Other\" in investmentPriorities2"
                  }
                ]
              },
              {
                "columns": [
                  {
                    "dataType": "feature",
                    "name": "sitesTreated",
                    "validate": [
                      {
                        "rule": "required"
                      }
                    ]
                  },
                  {
                    "computed": {
                      "expression": "$geom.areaHa(sitesTreated)"
                    },
                    "dataType": "number",
                    "name": "calculatedAreaTreatedHa",
                    "units": "ha",
                    "decimalPlaces": 3,
                    "behaviour": [
                      {
                        "condition": "areaInvoicedTreatedHa > 0",
                        "type": "conditional_validation",
                        "value": {
                          "message": "The managed area must be mapped",
                          "validate": "required,min[0.0001]"
                        }
                      }
                    ]
                  },
                  {
                    "computed": {
                      "expression": "$geom.lengthKm(sitesTreated)"
                    },
                    "dataType": "number",
                    "name": "calculatedLengthTreatedKm",
                    "units": "km",
                    "decimalPlaces": 3,
                    "behaviour": [
                      {
                        "condition": "lengthTreatedKm > 0",
                        "type": "conditional_validation",
                        "value": {
                          "message": "The managed length must be mapped",
                          "validate": "required,min[0.0001]"
                        }
                      }
                    ]
                  },
                  {
                    "defaultValue": {
                      "type": "computed",
                      "expression": "calculatedAreaTreatedHa"
                    },
                    "dataType": "number",
                    "name": "areaTreatedHa",
                    "units": "ha",
                    "decimalPlaces": 3,
                    "validate": [
                      {
                        "rule": "required"
                      },
                      {
                        "rule": "min[0]"
                      }
                    ]
                  },
                  {
                    "dataType": "text",
                    "name": "mappingNotAlignedReason",
                    "constraints": [
                      "Mapped area simplifies more complex area/s where work was undertaken during this period",
                      "Other"
                    ],
                    "validate": "required",
                    "behaviour": [
                      {
                        "condition": "not (within(calculatedAreaTreatedHa, areaTreatedHa, 0.1))",
                        "type": "visible"
                      }
                    ]
                  },
                  {
                    "dataType": "text",
                    "name": "mappingNotAlignedComments",
                    "validate": "required,maxSize[100]",
                    "behaviour": [
                      {
                        "type": "visible",
                        "condition": "\"Other\" == mappingNotAlignedReason"
                      }
                    ]
                  },
                  {
                    "dataType": "document",
                    "name": "extraMappingDetails",
                    "validate": "required",
                    "description": "Please fill in the Mapped/Actual/Invoice fields before attaching a document here. If those fields match this field will be void. <br/>If any of these fields differ please attach your organisation's detailed map for the area, covered by this project service - during reporting period (include the scale measure for each map).",
                    "behaviour": [
                      {
                        "condition": "not (within(calculatedAreaTreatedHa, areaTreatedHa, 0.1)) or roundTo(areaTreatedHa, 2) != roundTo(areaInvoicedTreatedHa, 2)",
                        "type": "visible"
                      }
                    ]
                  },
                  {
                    "dataType": "text",
                    "name": "identifiedSitesName",
                    "description": "",
                    "validate": "required,maxSize[300]"
                  },
                  {
                    "dataType": "number",
                    "name": "areaInvoicedTreatedHa",
                    "units": "ha",
                    "decimalPlaces": 3,
                    "validate": [
                      {
                        "rule": "required"
                      },
                      {
                        "rule": "min[0]"
                      },
                      {
                        "rule": "max",
                        "param": {
                          "type": "computed",
                          "expression": "areaTreatedHa"
                        }
                      }
                    ]
                  },
                  {
                    "dataType": "text",
                    "name": "invoicedNotActualReason",
                    "constraints": [
                      "Work was undertaken over a greater area than will be invoiced for",
                      "Other"
                    ],
                    "validate": "required",
                    "behaviour": [
                      {
                        "condition": "roundTo(areaTreatedHa, 2) != roundTo(areaInvoicedTreatedHa, 2)",
                        "type": "visible"
                      }
                    ]
                  },
                  {
                    "dataType": "text",
                    "name": "invoicedNotActualComments",
                    "behaviour": [
                      {
                        "type": "visible",
                        "condition": "\"Other\" == invoicedNotActualReason"
                      }
                    ],
                    "validate": "required,maxSize[300]"
                  },
                  {
                    "defaultValue": {
                      "type": "computed",
                      "expression": "$geom.lengthKm(sitesTreated)"
                    },
                    "dataType": "number",
                    "name": "lengthTreatedKm",
                    "units": "km",
                    "decimalPlaces": 3,
                    "validate": [
                      {
                        "rule": "min",
                        "param": {
                          "type": "computed",
                          "expression": "$geom.lengthKm(sitesTreated)*0.9"
                        }
                      },
                      {
                        "rule": "max",
                        "param": {
                          "type": "computed",
                          "expression": "$geom.lengthKm(sitesTreated)*1.1"
                        }
                      }
                    ]
                  },
                  {
                    "dataType": "text",
                    "name": "assessedSitesName",
                    "description": "",
                    "validate": "required,maxSize[300]"
                  }
                ],
                "dataType": "list",
                "name": "potentialSitesSurveyBaselineTable"
              }
            ],
            "dataType": "list",
            "name": "potentialSiteSurveys",
            "minSize": 1
          },
          {
            "dataType": "text",
            "name": "participationIndividualsOrGroups",
            "description": "Once Individuals or groups is selected, the related number field in the next two columns will become editable to report.",
            "constraints": [
              "Individuals",
              "Groups"
            ],
            "validate": "required"
          },
          {
            "dataType": "number",
            "name": "participationIndividualNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Individuals\"",
                "type": "enable"
              }
            ],
            "validate": "required,min[0]"
          },
          {
            "dataType": "text",
            "name": "participationGroupNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Groups\"",
                "type": "enable"
              }
            ],
            "constraints": [
              "0",
              "1-10",
              "11-20",
              "21-30",
              "31-40",
              "41-50"
            ],
            "validate": "required"
          },
          {
            "dataType": "number",
            "name": "firstNationIndividualNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Individuals\"",
                "type": "enable"
              }
            ],
            "validate": "required,min[0]"
          },
          {
            "dataType": "text",
            "name": "firstNationGroupNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Groups\"",
                "type": "enable"
              }
            ],
            "constraints": [
              "0",
              "1-10",
              "11-20",
              "21-30",
              "31-40",
              "41-50"
            ],
            "validate": "required"
          },
          {
            "dataType": "text",
            "name": "participationDetails",
            "validate": "maxSize[3000]"
          },
          {
            "name": "numberPotentialSitesConducted",
            "type": "number",
            "decimalPlaces": 0,
            "computed": {
              "expression": "count(potentialSiteSurveys, \"baselineOrIndicatorSurvey\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalPotentialSites",
            "validate": "required,min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(potentialSiteSurveys, \"numberPotentialSitesAssessed\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalPotentialSitesInvoiced",
            "validate": [
              {
                "param": {
                  "expression": "totalPotentialSites",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": 1
          },
          {
            "dataType": "text",
            "name": "comments",
            "validate": "maxSize[1500]"
          },
          {
            "dataType": "image",
            "name": "photographicEvidence"
          },
          {
            "dataType": "boolean",
            "name": "dataUploaded",
            "description": "<ul><li>Tick box to confirm data has been uploaded</li><li>URL Link (mandatory if below is ticked) in available evidence</li></ul>"
          },
          {
            "name": "projectAssuranceDetails",
            "dataType": "text",
            "validate": "required,maxSize[5000]",
            "behaviour": [
              {
                "condition": "dataUploaded == true",
                "type": "enable"
              }
            ]
          },
          {
            "dataType": "list",
            "name": "assuranceDocuments",
            "columns": [
              {
                "dataType": "document",
                "name": "attachments",
                "description": "Please attach any Evidence of Service Delivery here."
              }
            ]
          }
        ],
        "viewModel": [
          {
            "type": "section",
            "items": [
              {
                "columns": [
                  {
                    "width": "10%",
                    "source": "participationIndividualsOrGroups",
                    "title": "Are individuals or groups delivering this service?",
                    "type": "selectOne"
                  },
                  {
                    "width": "20%",
                    "type": "col",
                    "title": "Total number of people delivering this service <br>(including First Nations people)",
                    "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                    "items": [
                      {
                        "source": "participationIndividualNumber",
                        "type": "number"
                      },
                      {
                        "source": "participationGroupNumber",
                        "type": "selectOne"
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "width": "20%",
                    "title": "Total number of First Nations people delivering this service ",
                    "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                    "items": [
                      {
                        "source": "firstNationIndividualNumber",
                        "type": "number"
                      },
                      {
                        "source": "firstNationGroupNumber",
                        "type": "selectOne"
                      }
                    ]
                  },
                  {
                    "source": "participationDetails",
                    "rows": 4,
                    "title": "If no First Nations people participated in the delivery of this service, <br>what are the reasons? If there was participation, please provide details.",
                    "helpText": "If there were no First Nations people participating in the delivery of this service, please explain the reasons. If there were First Nations people involved, please outline how they were involved.",
                    "type": "textarea"
                  }
                ],
                "userAddedRows": false,
                "disableTableUpload": false,
                "source": "",
                "type": "table"
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<h3>Totals Summary</h3>"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "col",
                    "css": "span4 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(i) Total number of potential sites assessed during this reporting period",
                            "source": "totalPotentialSites",
                            "type": "number"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(ii) Total number of potential sites assessed <u><i>invoiced</i></u> for during this reporting period",
                            "source": "totalPotentialSitesInvoiced",
                            "type": "number"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "preLabel": "Number of Potential sites conducted:",
                "noEdit": true,
                "type": "number",
                "source": "numberPotentialSitesConducted"
              },
              {
                "addRowText": "New survey site",
                "userAddedRows": true,
                "source": "potentialSiteSurveys",
                "type": "repeat",
                "items": [
                  {
                    "type": "row",
                    "css": "border-bottom",
                    "items": [
                      {
                        "type": "col",
                        "css": "span2 col-border-right",
                        "items": [
                          {
                            "type": "row",
                            "items": [
                              {
                                "source": "numberPotentialSitesAssessed",
                                "type": "number",
                                "preLabel": "Number of potential sites identified and prioritised"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "col",
                        "css": "span2 col-border-right",
                        "items": [
                          {
                            "type": "row",
                            "items": [
                              {
                                "source": "sitesHaveBeenIdentified",
                                "preLabel": "What sites have been identified?",
                                "type": "text"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "col",
                        "css": "span2 col-border-right",
                        "items": [
                          {
                            "type": "row",
                            "items": [
                              {
                                "source": "methodsUsedToIdentify",
                                "preLabel": "What method/s were used to identify and prioritise?",
                                "type": "text"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "col",
                        "css": "span3 col-border-right",
                        "items": [
                          {
                            "type": "row",
                            "items": [
                              {
                                "source": "relatedOutcomes",
                                "type": "selectOne",
                                "preLabel": "Which outcome statement/s relates to this survey?"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "col",
                        "css": "span2 col-border-right",
                        "items": [
                          {
                            "type": "row",
                            "items": [
                              {
                                "source": "investmentPriorities2",
                                "preLabel": "Which investment priority does this activity relate to?",
                                "type": "select2Many"
                              }
                            ]
                          },
                          {
                            "type": "row",
                            "items": [
                              {
                                "source": "otherInvestmentPriority",
                                "type": "text"
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "columns": [
                      {
                        "width": "25%",
                        "title": "Identified and prioritised sites",
                        "type": "col",
                        "items": [
                          {
                            "source": "sitesTreated",
                            "type": "feature"
                          },
                          {
                            "source": "calculatedAreaTreatedHa",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            },
                            "readonly": "readonly"
                          },
                          {
                            "source": "calculatedLengthTreatedKm",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            },
                            "readonly": "readonly"
                          },
                          {
                            "type": "row",
                            "items": [
                              {
                                "preLabel": "Please attach mapping details",
                                "source": "extraMappingDetails",
                                "type": "document"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "width": "25%",
                        "source": "identifiedSitesName",
                        "title": "Name of identified and prioritised site/s",
                        "type": "text"
                      },
                      {
                        "width": "25%",
                        "type": "col",
                        "title": "Assessed sites",
                        "helpText": "",
                        "items": [
                          {
                            "source": "areaTreatedHa",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          },
                          {
                            "source": "lengthTreatedKm",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          },
                          {
                            "type": "row",
                            "items": [
                              {
                                "preLabel": "Reason for actual being different to mapped amount",
                                "source": "mappingNotAlignedReason",
                                "type": "selectOne"
                              }
                            ]
                          },
                          {
                            "type": "row",
                            "items": [
                              {
                                "placeholder": "Please enter the reason/s the mapping didn't align with the invoiced amount",
                                "source": "mappingNotAlignedComments",
                                "type": "textarea",
                                "rows": 5
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "width": "25%",
                        "source": "assessedSitesName",
                        "title": "Name of assessed site/s",
                        "type": "text"
                      }
                    ],
                    "userAddedRows": true,
                    "source": "potentialSitesSurveyBaselineTable",
                    "type": "table"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Optionally attach photos",
                    "source": "photographicEvidence",
                    "type": "image"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Clarification, if needed",
                    "type": "textarea",
                    "rows": 4,
                    "css": "span8",
                    "source": "comments",
                    "placeholder": "Clarification comments include information for your project manager about the service like:\n • any reported items that are not being invoiced (eg, over-achievement) \n • any extraneous circumstances that affected delivery of the service \n"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<p><b>Available Evidence</b></p>This field is mandatory for all projects as part of the invoicing process. Please list evidence you have retained for this service and provide information to where the evidence is stored (links/file location data). Refer to the Project Service Evidence Guide and the Project Service Summaries for information on the evidence requirements.<b style=\"color:red\">*</b>"
                  },
                  {
                    "preLabel": "Data have been uploaded",
                    "source": "dataUploaded",
                    "type": "boolean"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "",
                    "source": "projectAssuranceDetails",
                    "type": "textarea",
                    "rows": 4,
                    "placeholder": "List the documentary evidence you have available for this project service. Include specifically, the document titles and location (e.g. internal IT network pathway, URLs) to assist with locating this material for future audits/assurance purposes."
                  }
                ]
              },
              {
                "type": "table",
                "source": "assuranceDocuments",
                "userAddedRows": true,
                "disableTableUpload": true,
                "columns": [
                  {
                    "title": "Attached documents",
                    "source": "attachments",
                    "type": "document"
                  }
                ]
              }
            ]
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtIdentifyingSites",
      "optional": true,
      "optionalQuestionText": null,
      "title": "Identifying and Prioritising the Location of Potential Sites",
      "collapsibleHeading": null,
      "name": "NHT - Identifying sites",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "dataModel": [
          {
            "dataType": "text",
            "name": "participationIndividualsOrGroups",
            "description": "Once Individuals or groups is selected, the related number field in the next two columns will become editable to report.",
            "constraints": [
              "Individuals",
              "Groups"
            ],
            "validate": "required"
          },
          {
            "dataType": "number",
            "name": "participationIndividualNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Individuals\"",
                "type": "enable"
              }
            ],
            "validate": "required,min[0]"
          },
          {
            "dataType": "text",
            "name": "participationGroupNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Groups\"",
                "type": "enable"
              }
            ],
            "constraints": [
              "0",
              "1-10",
              "11-20",
              "21-30",
              "31-40",
              "41-50"
            ],
            "validate": "required"
          },
          {
            "dataType": "number",
            "name": "firstNationIndividualNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Individuals\"",
                "type": "enable"
              }
            ],
            "validate": "required,min[0]"
          },
          {
            "dataType": "text",
            "name": "firstNationGroupNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Groups\"",
                "type": "enable"
              }
            ],
            "constraints": [
              "0",
              "1-10",
              "11-20",
              "21-30",
              "31-40",
              "41-50"
            ],
            "validate": "required"
          },
          {
            "dataType": "text",
            "name": "participationDetails",
            "validate": "maxSize[3000]"
          },
          {
            "columns": [
              {
                "dataType": "text",
                "name": "initialOrFollowup",
                "constraints": [
                  "Initial",
                  "Follow-up"
                ],
                "validate": "required"
              },
              {
                "dataType": "feature",
                "name": "sitesTreated",
                "validate": "required"
              },
              {
                "computed": {
                  "expression": "$geom.areaHa(sitesTreated)"
                },
                "dataType": "number",
                "name": "calculatedAreaTreatedHa",
                "units": "ha",
                "decimalPlaces": 3,
                "behaviour": [
                  {
                    "condition": "areaInvoicedTreatedHa > 0",
                    "type": "conditional_validation",
                    "value": {
                      "message": "The managed area must be mapped",
                      "validate": "required,min[0.0001]"
                    }
                  }
                ]
              },
              {
                "computed": {
                  "expression": "$geom.lengthKm(sitesTreated)"
                },
                "dataType": "number",
                "name": "calculatedLengthTreatedKm",
                "units": "km",
                "decimalPlaces": 3,
                "behaviour": [
                  {
                    "condition": "lengthTreatedKm > 0",
                    "type": "conditional_validation",
                    "value": {
                      "message": "The managed length must be mapped",
                      "validate": "required,min[0.0001]"
                    }
                  }
                ]
              },
              {
                "defaultValue": {
                  "type": "computed",
                  "expression": "calculatedAreaTreatedHa"
                },
                "dataType": "number",
                "name": "areaTreatedHa",
                "units": "ha",
                "decimalPlaces": 3,
                "validate": "required,min[0]"
              },
              {
                "defaultValue": {
                  "type": "computed",
                  "expression": "calculatedLengthTreatedKm"
                },
                "dataType": "number",
                "name": "lengthTreatedKm",
                "units": "km",
                "decimalPlaces": 3,
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedReason",
                "constraints": [
                  "Mapped area simplifies more complex area/s where work was undertaken during this period",
                  "Other"
                ],
                "validate": "required",
                "behaviour": [
                  {
                    "condition": "not (within(calculatedAreaTreatedHa, areaTreatedHa, 0.1))",
                    "type": "visible"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedComments",
                "validate": "required,maxSize[100]",
                "behaviour": [
                  {
                    "type": "visible",
                    "condition": "\"Other\" == mappingNotAlignedReason"
                  }
                ]
              },
              {
                "dataType": "document",
                "name": "extraMappingDetails",
                "validate": "required",
                "description": "Please fill in the Mapped/Actual/Invoice fields before attaching a document here. If those fields match this field will be void. <br/>If any of these fields differ please attach your organisation's detailed map for the area, covered by this project service - during reporting period (include the scale measure for each map).",
                "behaviour": [
                  {
                    "condition": "not (within(calculatedAreaTreatedHa, areaTreatedHa, 0.1)) or roundTo(areaTreatedHa, 2) != roundTo(areaInvoicedTreatedHa, 2)",
                    "type": "visible"
                  }
                ]
              },
              {
                "dataType": "number",
                "name": "areaInvoicedTreatedHa",
                "units": "ha",
                "decimalPlaces": 3,
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "rule": "max",
                    "param": {
                      "type": "computed",
                      "expression": "areaTreatedHa"
                    }
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "invoicedNotActualReason",
                "constraints": [
                  "Work was undertaken over a greater area than will be invoiced for",
                  "Other"
                ],
                "validate": "required",
                "behaviour": [
                  {
                    "condition": "roundTo(areaTreatedHa, 2) != roundTo(areaInvoicedTreatedHa, 2)",
                    "type": "visible"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "invoicedNotActualComments",
                "behaviour": [
                  {
                    "type": "visible",
                    "condition": "\"Other\" == invoicedNotActualReason"
                  }
                ],
                "validate": "required,maxSize[300]"
              },
              {
                "defaultValue": {
                  "type": "computed",
                  "expression": "$geom.lengthKm(sitesTreated)"
                },
                "dataType": "number",
                "name": "lengthTreatedKm",
                "units": "km",
                "decimalPlaces": 3,
                "validate": [
                  {
                    "rule": "min",
                    "param": {
                      "type": "computed",
                      "expression": "$geom.lengthKm(sitesTreated)*0.9"
                    }
                  },
                  {
                    "rule": "max",
                    "param": {
                      "type": "computed",
                      "expression": "$geom.lengthKm(sitesTreated)*1.1"
                    }
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "fireManagementType",
                "description": "",
                "constraints": [
                  "Cultural burn",
                  "Ecological burn",
                  "Grading",
                  "Hazard reduction burn",
                  "Herbicide",
                  "Slashing",
                  "Other"
                ],
                "validate": "required"
              },
              {
                "dataType": "text",
                "name": "otherFireManagementType",
                "behaviour": [
                  {
                    "condition": "fireManagementType == \"Other\"",
                    "type": "enable"
                  }
                ],
                "validate": "required,maxSize[100]"
              },
              {
                "dataType": "feature",
                "name": "sitesBenefittedByFireAction"
              },
              {
                "computed": {
                  "expression": "$geom.areaHa(sitesBenefittedByFireAction)"
                },
                "dataType": "number",
                "name": "areaBenefittedByFireActionHa"
              },
              {
                "dataType": "text",
                "name": "evidenceOfBenefit",
                "validate": "maxSize[300]"
              },
              {
                "name": "investmentPriorities2",
                "dataType": "stringList",
                "validate": "required",
                "constraints": {
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "params": [
                        {
                          "expression": "owner.projectId",
                          "name": "id",
                          "type": "computed"
                        }
                      ],
                      "url": "/project/listProjectInvestmentPriorities/"
                    }
                  }
                }
              },
              {
                "dataType": "text",
                "name": "otherInvestmentPriority",
                "behaviour": [
                  {
                    "type": "enable",
                    "condition": "\"Other\" in investmentPriorities2"
                  }
                ]
              },
              {
                "name": "relatedOutcomes",
                "dataType": "text",
                "description": "Select the outcome/s as defined in your MERI plan that this service was delivered to achieve.",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "label",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "url": "/project/outcomesByScores",
                      "params": [
                        {
                          "expression": "owner.projectId",
                          "name": "id",
                          "type": "computed"
                        },
                        {
                          "expression": "scores",
                          "name": "scoreIds",
                          "type": "computed"
                        }
                      ]
                    }
                  }
                }
              }
            ],
            "dataType": "list",
            "name": "fireManagementDetails"
          },
          {
            "dataType": "number",
            "name": "totalAreaTreatedFireMgmtInitial",
            "validate": "required,min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(fireManagementDetails, \"areaTreatedHa\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalAreaTreatedFireMgmtInitialInvoiced",
            "validate": [
              {
                "param": {
                  "expression": "totalAreaTreatedFireMgmtInitial",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": 1
          },
          {
            "dataType": "number",
            "name": "totalAreaTreatedFireMgmtFollowup",
            "validate": "required,min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(fireManagementDetails, \"areaTreatedHa\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalAreaTreatedFireMgmtFollowupInvoiced",
            "validate": [
              {
                "param": {
                  "expression": "totalAreaTreatedFireMgmtFollowup",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": 1
          },
          {
            "dataType": "text",
            "name": "comments",
            "validate": "maxSize[1500]"
          },
          {
            "dataType": "image",
            "name": "photographicEvidence"
          },
          {
            "dataType": "boolean",
            "name": "dataUploaded",
            "description": "<ul><li>Tick box to confirm data has been uploaded</li><li>URL Link (mandatory if below is ticked) in available evidence</li></ul>"
          },
          {
            "name": "projectAssuranceDetails",
            "dataType": "text",
            "validate": "required,maxSize[5000]",
            "behaviour": [
              {
                "condition": "dataUploaded == true",
                "type": "enable"
              }
            ]
          },
          {
            "dataType": "list",
            "name": "assuranceDocuments",
            "columns": [
              {
                "dataType": "document",
                "name": "attachments",
                "description": "Please attach any Evidence of Service Delivery here."
              }
            ]
          }
        ],
        "modelName": "NHT - Fire management",
        "title": "Implementing Fire Management Actions",
        "viewModel": [
          {
            "columns": [
              {
                "width": "10%",
                "source": "participationIndividualsOrGroups",
                "title": "Are individuals or groups delivering this service?",
                "type": "selectOne"
              },
              {
                "width": "20%",
                "type": "col",
                "title": "Total number of people delivering this service <br>(including First Nations people)",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "participationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "participationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "type": "col",
                "width": "20%",
                "title": "Total number of First Nations people delivering this service ",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "firstNationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "firstNationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "source": "participationDetails",
                "rows": 4,
                "title": "If no First Nations people participated in the delivery of this service, <br>what are the reasons? If there was participation, please provide details.",
                "helpText": "If there were no First Nations people participating in the delivery of this service, please explain the reasons. If there were First Nations people involved, please outline how they were involved.",
                "type": "textarea"
              }
            ],
            "userAddedRows": false,
            "disableTableUpload": false,
            "source": "",
            "type": "table"
          },
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<h3>Totals Summary</h3>"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(i) Total area (ha) treated by fire management action/s during this reporting period (Initial)",
                        "source": "totalAreaTreatedFireMgmtInitial",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(ii) Total area (ha) treated by fire management action/s <u><i>invoiced</i></u> for during this reporting period (Initial)",
                        "source": "totalAreaTreatedFireMgmtInitialInvoiced",
                        "type": "number"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(iii) Total area (ha) treated by fire management action/s during this reporting period (follow up)",
                        "source": "totalAreaTreatedFireMgmtFollowup",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(iv) Total area (ha) treated by fire management action/s invoiced for during this reporting period (follow up)",
                        "source": "totalAreaTreatedFireMgmtFollowupInvoiced",
                        "type": "number"
                      }
                    ]
                  }
                ]
              }
            ]
          },

          {
            "columns": [
              {
                "width": "10%",
                "source": "initialOrFollowup",
                "type": "selectOne",
                "title": "Initial or follow-up?"
              },
              {
                "width": "15%",
                "source": "relatedOutcomes",
                "type": "selectOne",
                "title": "Which outcome statement/s does this activity relate to?"
              },
              {
                "width": "10%",
                "title": "Site/s treated by fire management action",
                "type": "col",
                "items": [
                  {
                    "source": "sitesTreated",
                    "type": "feature"
                  },
                  {
                    "source": "calculatedAreaTreatedHa",
                    "type": "number",
                    "displayOptions": {
                      "displayUnits": true
                    },
                    "readonly": "readonly"
                  },
                  {
                    "source": "calculatedLengthTreatedKm",
                    "type": "number",
                    "displayOptions": {
                      "displayUnits": true
                    },
                    "readonly": "readonly"
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "Please attach mapping details",
                        "source": "extraMappingDetails",
                        "type": "document"
                      }
                    ]
                  }
                ]
              },
              {
                "width": "10%",
                "type": "col",
                "title": "Actual area (ha) / length (km) treated by managment action",
                "helpText": "Enter the amount you will invoice for during this reporting period.",
                "items": [
                  {
                    "source": "areaTreatedHa",
                    "type": "number",
                    "displayOptions": {
                      "displayUnits": true
                    }
                  },
                  {
                    "source": "lengthTreatedKm",
                    "type": "number",
                    "displayOptions": {
                      "displayUnits": true
                    }
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "Reason for actual being different to mapped amount",
                        "source": "mappingNotAlignedReason",
                        "type": "selectOne"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "placeholder": "Please enter the reason/s the mapping didn't align with the invoiced amount",
                        "source": "mappingNotAlignedComments",
                        "type": "textarea",
                        "rows": 5
                      }
                    ]
                  }
                ]
              },
              {
                "width": "10%",
                "type": "col",
                "title": "Invoiced area (ha) treated by management action",
                "helpText": "Enter the amount you will invoice for during this reporting period.",
                "items": [
                  {
                    "source": "areaInvoicedTreatedHa",
                    "type": "number",
                    "displayOptions": {
                      "displayUnits": true
                    }
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "Reason for invoiced amount being different to actual amount",
                        "source": "invoicedNotActualReason",
                        "type": "selectOne"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "placeholder": "Please enter the reason/s the mapping didn't align with the invoiced amount",
                        "source": "invoicedNotActualComments",
                        "type": "textarea",
                        "rows": 5
                      }
                    ]
                  }
                ]
              },
              {
                "width": "10%",
                "title": "Type of fire management action",
                "type": "col",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "source": "fireManagementType",
                        "type": "select2"
                      }
                    ]
                  },
                  {
                    "source": "otherFireManagementType",
                    "type": "text"
                  }
                ]
              },
              {
                "width": "10%",
                "type": "col",
                "title": "Please map any off-site area/s if they benefitted from this fire management action",
                "items": [
                  {
                    "source": "sitesBenefittedByFireAction",
                    "type": "feature",
                    "title": "Please map any off-site area/s if they benefitted from this fire management action"
                  },
                  {
                    "source": "areaBenefittedByFireActionHa",
                    "type": "number",
                    "readonly": "readonly",
                    "title": "Area (ha) protected by fire management action"
                  }
                ]
              },
              {
                "width": "10%",
                "source": "evidenceOfBenefit",
                "type": "textarea",
                "rows": 3,
                "title": "If off-site area was mapped please provide a description on the evidence available to reflect this benefit"
              },
              {
                "width": "15%",
                "type": "col",
                "title": "Which investment priority does this activity relate to?",
                "items": [
                  {
                    "source": "investmentPriorities2",
                    "type": "select2Many"
                  },
                  {
                    "source": "otherInvestmentPriority",
                    "type": "text"
                  }
                ]
              }
            ],
            "userAddedRows": true,
            "source": "fireManagementDetails",
            "type": "table"
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "Optionally attach photos",
                "source": "photographicEvidence",
                "type": "image"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "Clarification, if needed",
                "type": "textarea",
                "rows": 4,
                "css": "span8",
                "source": "comments",
                "placeholder": "Clarification comments include information for your project manager about the service like:\n • any reported items that are not being invoiced (eg, over-achievement) \n • any extraneous circumstances that affected delivery of the service \n"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<p><b>Available Evidence</b></p>This field is mandatory for all projects as part of the invoicing process. Please list evidence you have retained for this service and provide information to where the evidence is stored (links/file location data). Refer to the Project Service Evidence Guide and the Project Service Summaries for information on the evidence requirements.<b style=\"color:red\">*</b>"
              },
              {
                "preLabel": "Data have been uploaded",
                "source": "dataUploaded",
                "type": "boolean"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "",
                "source": "projectAssuranceDetails",
                "type": "textarea",
                "rows": 4,
                "placeholder": "List the documentary evidence you have available for this project service. Include specifically, the document titles and location (e.g. internal IT network pathway, URLs) to assist with locating this material for future audits/assurance purposes."
              }
            ]
          },
          {
            "type": "table",
            "source": "assuranceDocuments",
            "userAddedRows": true,
            "disableTableUpload": true,
            "columns": [
              {
                "title": "Attached documents",
                "source": "attachments",
                "type": "document"
              }
            ]
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtFireManagement",
      "optional": true,
      "optionalQuestionText": null,
      "title": "Fire management actions",
      "collapsibleHeading": null,
      "name": "NHT - Fire management",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "dataModel": [
          {
            "dataType": "text",
            "name": "participationIndividualsOrGroups",
            "description": "Once Individuals or groups is selected, the related number field in the next two columns will become editable to report.",
            "constraints": [
              "Individuals",
              "Groups"
            ],
            "validate": "required"
          },
          {
            "dataType": "number",
            "name": "participationIndividualNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Individuals\"",
                "type": "enable"
              }
            ],
            "validate": "required,min[0]"
          },
          {
            "dataType": "text",
            "name": "participationGroupNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Groups\"",
                "type": "enable"
              }
            ],
            "constraints": [
              "0",
              "1-10",
              "11-20",
              "21-30",
              "31-40",
              "41-50"
            ],
            "validate": "required"
          },
          {
            "dataType": "number",
            "name": "firstNationIndividualNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Individuals\"",
                "type": "enable"
              }
            ],
            "validate": "required,min[0]"
          },
          {
            "dataType": "text",
            "name": "firstNationGroupNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Groups\"",
                "type": "enable"
              }
            ],
            "constraints": [
              "0",
              "1-10",
              "11-20",
              "21-30",
              "31-40",
              "41-50"
            ],
            "validate": "required"
          },
          {
            "dataType": "text",
            "name": "participationDetails",
            "validate": "maxSize[3000]"
          },
          {
            "columns": [
              {
                "dataType": "text",
                "name": "initialOrFollowup",
                "constraints": [
                  "Initial",
                  "Follow-up"
                ],
                "validate": "required"
              },
              {
                "columns": [
                  {
                    "dataType": "feature",
                    "name": "improvedSites",
                    "validate": "required"
                  },
                  {
                    "computed": {
                      "expression": "$geom.areaHa(improvedSites)"
                    },
                    "dataType": "number",
                    "name": "calculatedAreaCoveringRegimeChangeHa",
                    "units": "ha",
                    "decimalPlaces": 3,
                    "behaviour": [
                      {
                        "condition": "invoicedAreaHa > 0",
                        "type": "conditional_validation",
                        "value": {
                          "message": "The area must be mapped",
                          "validate": "required,min[0.0001]"
                        }
                      }
                    ]
                  },
                  {
                    "computed": {
                      "expression": "$geom.lengthKm(improvedSites)"
                    },
                    "dataType": "number",
                    "name": "calculatedLengthOfRegimeChangeKm",
                    "units": "km",
                    "decimalPlaces": 3,
                    "behaviour": [
                      {
                        "condition": "lengthOfRegimeChangeKm > 0",
                        "type": "conditional_validation",
                        "value": {
                          "message": "The length must be mapped",
                          "validate": "required,min[0.0001]"
                        }
                      }
                    ]
                  },
                  {
                    "dataType": "document",
                    "name": "extraMappingDetails",
                    "validate": "required",
                    "description": "Please fill in the Mapped/Actual/Invoice fields before attaching a document here. If those fields match this field will be void. <br/>If any of these fields differ please attach your organisation's detailed map for the area, covered by this project service - during reporting period (include the scale measure for each map).",
                    "behaviour": [
                      {
                        "condition": "not (within(calculatedAreaCoveringRegimeChangeHa, areaCoveringRegimeChangeHa, 0.1) and within(calculatedLengthOfRegimeChangeKm, lengthOfRegimeChangeKm, 0.1))",
                        "type": "visible"
                      }
                    ]
                  },
                  {
                    "dataType": "text",
                    "name": "mappingNotAlignedReason",
                    "constraints": [
                      "Mapped area simplifies more complex area/s where work was undertaken during this period",
                      "Other"
                    ],
                    "validate": "required",
                    "behaviour": [
                      {
                        "condition": "not (within(calculatedAreaCoveringRegimeChangeHa, areaCoveringRegimeChangeHa, 0.1) and within(calculatedLengthOfRegimeChangeKm, lengthOfRegimeChangeKm, 0.1))",
                        "type": "visible"
                      }
                    ]
                  },
                  {
                    "dataType": "text",
                    "name": "mappingNotAlignedComments",
                    "validate": "required,maxSize[100]",
                    "behaviour": [
                      {
                        "type": "visible",
                        "condition": "\"Other\" == mappingNotAlignedReason"
                      }
                    ]
                  },
                  {
                    "defaultValue": {
                      "type": "computed",
                      "expression": "calculatedAreaCoveringRegimeChangeHa"
                    },
                    "dataType": "number",
                    "name": "areaCoveringRegimeChangeHa",
                    "validate": "min[0]",
                    "decimalPlaces": 3,
                    "units": "ha"
                  },
                  {
                    "defaultValue": {
                      "type": "computed",
                      "expression": "calculatedLengthOfRegimeChangeKm"
                    },
                    "dataType": "number",
                    "name": "lengthOfRegimeChangeKm",
                    "validate": "min[0]",
                    "decimalPlaces": 3,
                    "units": "km"
                  },
                  {
                    "dataType": "number",
                    "name": "areaInvoicedHa",
                    "units": "ha",
                    "decimalPlaces": 3,
                    "validate": [
                      {
                        "rule": "required"
                      },
                      {
                        "rule": "min[0]"
                      },
                      {
                        "param": {
                          "expression": "areaCoveringRegimeChangeHa",
                          "type": "computed"
                        },
                        "rule": "max"
                      }
                    ]
                  },
                  {
                    "dataType": "number",
                    "name": "areaInvoicedKm",
                    "units": "km",
                    "decimalPlaces": 3,
                    "validate": [
                      {
                        "rule": "required"
                      },
                      {
                        "rule": "min[0]"
                      },
                      {
                        "param": {
                          "expression": "lengthOfRegimeChangeKm",
                          "type": "computed"
                        },
                        "rule": "max"
                      }
                    ]
                  },
                  {
                    "dataType": "text",
                    "name": "invoicedNotActualReason",
                    "behaviour": [
                      {
                        "condition": "roundTo(areaCoveringRegimeChangeHa, 2) != roundTo(areaInvoicedHa, 2) or roundTo(lengthOfRegimeChangeKm, 2) != roundTo(areaInvoicedKm, 2)",
                        "type": "visible"
                      }
                    ],
                    "constraints": [
                      "Work was undertaken over a greater area than will be invoiced for",
                      "Other"
                    ],
                    "validate": "required"
                  },
                  {
                    "dataType": "text",
                    "name": "invoicedNotActualComments",
                    "behaviour": [
                      {
                        "condition": "\"Other\" == invoicedNotActualReason",
                        "type": "if"
                      }
                    ],
                    "validate": "required,maxSize[300]"
                  },
                  {
                    "dataType": "text",
                    "name": "treatmentType",
                    "description": "",
                    "constraints": [
                      "Removing barriers (e.g fish barriers)",
                      "Structure instalment or modification (e.g. weirs, flow gauging stations, fords, culverts)",
                      "Resnagging",
                      "Other"
                    ],
                    "validate": "required"
                  },
                  {
                    "dataType": "text",
                    "name": "otherTreatmentType",
                    "behaviour": [
                      {
                        "condition": "treatmentType == \"Other\"",
                        "type": "enable"
                      }
                    ],
                    "validate": "required,maxSize[300]"
                  },
                  {
                    "dataType": "text",
                    "name": "treatmentObjective",
                    "description": "Aim of the action - e.g. hydrological regime change from X to Y.",
                    "validate": "required,maxSize[300]"
                  },
                  {
                    "name": "investmentPriorities2",
                    "dataType": "stringList",
                    "validate": "required",
                    "constraints": {
                      "type": "pre-populated",
                      "config": {
                        "source": {
                          "params": [
                            {
                              "expression": "owner.projectId",
                              "name": "id",
                              "type": "computed"
                            }
                          ],
                          "url": "/project/listProjectInvestmentPriorities/"
                        }
                      }
                    }
                  },
                  {
                    "dataType": "text",
                    "name": "otherInvestmentPriority",
                    "behaviour": [
                      {
                        "type": "enable",
                        "condition": "\"Other\" in investmentPriorities2"
                      }
                    ]
                  },
                  {
                    "name": "relatedOutcomes",
                    "dataType": "text",
                    "description": "Select the outcome/s as defined in your MERI plan that this service was delivered to achieve.",
                    "validate": "required",
                    "constraints": {
                      "textProperty": "label",
                      "valueProperty": "label",
                      "type": "pre-populated",
                      "config": {
                        "source": {
                          "url": "/project/outcomesByScores",
                          "params": [
                            {
                              "expression": "owner.projectId",
                              "name": "id",
                              "type": "computed"
                            },
                            {
                              "expression": "scores",
                              "name": "scoreIds",
                              "type": "computed"
                            }
                          ]
                        }
                      }
                    }
                  }
                ],
                "dataType": "list",
                "name": "hydrologicalRegimeDetails"
              }
            ],
            "dataType": "list",
            "name": "hydroAreasControlled"
          },
          {
            "name": "numberEcoHydroTreatments",
            "type": "number",
            "decimalPlaces": 0,
            "computed": {
              "expression": "count(hydroAreasControlled, \"relatedOutcomes\")"
            }
          },
          {
            "dataType": "text",
            "name": "comments",
            "validate": "maxSize[1500]"
          },
          {
            "dataType": "image",
            "name": "photographicEvidence"
          },
          {
            "dataType": "boolean",
            "name": "dataUploaded",
            "description": "<ul><li>Tick box to confirm data has been uploaded</li><li>URL Link (mandatory if below is ticked) in available evidence</li></ul>"
          },
          {
            "name": "projectAssuranceDetails",
            "dataType": "text",
            "validate": "required,maxSize[5000]",
            "behaviour": [
              {
                "condition": "dataUploaded == true",
                "type": "enable"
              }
            ]
          },
          {
            "dataType": "list",
            "name": "assuranceDocuments",
            "columns": [
              {
                "dataType": "document",
                "name": "attachments",
                "description": "Please attach any Evidence of Service Delivery here."
              }
            ]
          }
        ],
        "modelName": "NHT - Improving hydrological regimes",
        "title": "Improving Hydrological Regimes",
        "viewModel": [
          {
            "columns": [
              {
                "width": "10%",
                "source": "participationIndividualsOrGroups",
                "title": "Are individuals or groups delivering this service?",
                "type": "selectOne"
              },
              {
                "width": "20%",
                "type": "col",
                "title": "Total number of people delivering this service <br>(including First Nations people)",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "participationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "participationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "type": "col",
                "width": "20%",
                "title": "Total number of First Nations people delivering this service ",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "firstNationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "firstNationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "source": "participationDetails",
                "rows": 4,
                "title": "If no First Nations people participated in the delivery of this service, <br>what are the reasons? If there was participation, please provide details.",
                "helpText": "If there were no First Nations people participating in the delivery of this service, please explain the reasons. If there were First Nations people involved, please outline how they were involved.",
                "type": "textarea"
              }
            ],
            "userAddedRows": false,
            "disableTableUpload": false,
            "source": "",
            "type": "table"
          },
          {
            "preLabel": "Number of Hydrological Regimes surveys conducted:",
            "noEdit": true,
            "type": "number",
            "source": "numberEcoHydroTreatments"
          },
          {
            "addRowText": "Add a new controlled area",
            "userAddedRows": true,
            "source": "hydroAreasControlled",
            "type": "repeat",
            "items": [
              {
                "type": "row",
                "css": "border-bottom",
                "items": [
                  {
                    "preLabel": "Initial or Follow-up?",
                    "css": "span3",
                    "source": "initialOrFollowup",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "columns": [
                  {
                    "width": "10%",
                    "type": "col",
                    "items": [
                      {
                        "type": "feature",
                        "source": "improvedSites"
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "type": "number",
                            "source": "calculatedAreaCoveringRegimeChangeHa",
                            "displayOptions": {
                              "displayUnits": true
                            },
                            "readonly": true
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "type": "number",
                            "source": "calculatedLengthOfRegimeChangeKm",
                            "displayOptions": {
                              "displayUnits": true
                            },
                            "readonly": true
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Please attach mapping details",
                            "source": "extraMappingDetails",
                            "type": "document"
                          }
                        ]
                      }
                    ],
                    "title": "Site/s where hydrological regimes have been improved"
                  },
                  {
                    "width": "10%",
                    "title": "Actual area (ha) / length (km) where the hydrological regimes have benn improved",
                    "type": "col",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "areaCoveringRegimeChangeHa",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "lengthOfRegimeChangeKm",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Reason for actual being different to mapped amount",
                            "source": "mappingNotAlignedReason",
                            "type": "selectOne"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "placeholder": "Please enter the reason/s the mapping didn't align with the invoiced amount",
                            "source": "mappingNotAlignedComments",
                            "type": "textarea",
                            "rows": 5
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "width": "10%",
                    "title": "Invoiced area (ha) where the hydrological regimes have been improved",
                    "type": "col",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "areaInvoicedHa",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "areaInvoicedKm",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Reason for invoiced amount being different to actual amount",
                            "source": "invoicedNotActualReason",
                            "type": "selectOne"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "placeholder": "Please enter the reason/s the mapping didn't align with the invoiced amount",
                            "source": "invoicedNotActualComments",
                            "type": "textarea",
                            "rows": 5
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "width": "20%",
                    "title": "Type of treatment implemented to improve eco-hydrological treatment",
                    "type": "col",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "treatmentType",
                            "type": "select2"
                          }
                        ]
                      },
                      {
                        "source": "otherTreatmentType",
                        "placeholder": "Type of treatment implemented (if Other)",
                        "type": "text"
                      }
                    ]
                  },
                  {
                    "width": "20%",
                    "source": "treatmentObjective",
                    "title": "Treatment objective",
                    "type": "textarea"
                  },
                  {
                    "width": "15%",
                    "type": "col",
                    "title": "Which investment priority does this activity relate to?",
                    "items": [
                      {
                        "source": "investmentPriorities2",
                        "type": "select2Many"
                      },
                      {
                        "source": "otherInvestmentPriority",
                        "type": "text"
                      }
                    ]
                  },
                  {
                    "width": "15%",
                    "source": "relatedOutcomes",
                    "type": "selectOne",
                    "title": "Which outcome statement/s relates to this survey?"
                  }
                ],
                "userAddedRows": true,
                "source": "hydrologicalRegimeDetails",
                "type": "table"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "Optionally attach photos",
                "source": "photographicEvidence",
                "type": "image"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "Clarification, if needed",
                "type": "textarea",
                "rows": 4,
                "css": "span8",
                "source": "comments",
                "placeholder": "Clarification comments include information for your project manager about the service like:\n • any reported items that are not being invoiced (eg, over-achievement) \n • any extraneous circumstances that affected delivery of the service \n"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<p><b>Available Evidence</b></p>This field is mandatory for all projects as part of the invoicing process. Please list evidence you have retained for this service and provide information to where the evidence is stored (links/file location data). Refer to the Project Service Evidence Guide and the Project Service Summaries for information on the evidence requirements.<b style=\"color:red\">*</b>"
              },
              {
                "preLabel": "Data have been uploaded",
                "source": "dataUploaded",
                "type": "boolean"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "",
                "source": "projectAssuranceDetails",
                "type": "textarea",
                "rows": 4,
                "placeholder": "List the documentary evidence you have available for this project service. Include specifically, the document titles and location (e.g. internal IT network pathway, URLs) to assist with locating this material for future audits/assurance purposes."
              }
            ]
          },
          {
            "type": "table",
            "source": "assuranceDocuments",
            "userAddedRows": true,
            "disableTableUpload": true,
            "columns": [
              {
                "title": "Attached documents",
                "source": "attachments",
                "type": "document"
              }
            ]
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtImprovingHydrologicalRegimes",
      "optional": true,
      "optionalQuestionText": null,
      "title": "Improving hydrological regimes",
      "collapsibleHeading": null,
      "name": "NHT - Improving hydrological regimes",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "dataModel": [
          {
            "dataType": "text",
            "name": "participationIndividualsOrGroups",
            "description": "Once Individuals or groups is selected, the related number field in the next two columns will become editable to report.",
            "constraints": [
              "Individuals",
              "Groups"
            ],
            "validate": "required"
          },
          {
            "dataType": "number",
            "name": "participationIndividualNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Individuals\"",
                "type": "enable"
              }
            ],
            "validate": "required,min[0]"
          },
          {
            "dataType": "text",
            "name": "participationGroupNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Groups\"",
                "type": "enable"
              }
            ],
            "constraints": [
              "0",
              "1-10",
              "11-20",
              "21-30",
              "31-40",
              "41-50"
            ],
            "validate": "required"
          },
          {
            "dataType": "number",
            "name": "firstNationIndividualNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Individuals\"",
                "type": "enable"
              }
            ],
            "validate": "required,min[0]"
          },
          {
            "dataType": "text",
            "name": "firstNationGroupNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Groups\"",
                "type": "enable"
              }
            ],
            "constraints": [
              "0",
              "1-10",
              "11-20",
              "21-30",
              "31-40",
              "41-50"
            ],
            "validate": "required"
          },
          {
            "dataType": "text",
            "name": "participationDetails",
            "validate": "maxSize[3000]"
          },
          {
            "dataType": "text",
            "name": "comments",
            "validate": "maxSize[1500]"
          },
          {
            "dataType": "image",
            "name": "photographicEvidence"
          },
          {
            "dataType": "boolean",
            "name": "dataUploaded",
            "description": "<ul><li>Tick box to confirm data has been uploaded</li><li>URL Link (mandatory if below is ticked) in available evidence</li></ul>"
          },
          {
            "name": "projectAssuranceDetails",
            "dataType": "text",
            "validate": "required,maxSize[5000]",
            "behaviour": [
              {
                "condition": "dataUploaded == true",
                "type": "enable"
              }
            ]
          },
          {
            "dataType": "list",
            "name": "assuranceDocuments",
            "columns": [
              {
                "dataType": "document",
                "name": "attachments",
                "description": "Please attach any Evidence of Service Delivery here."
              }
            ]
          },
          {
            "dataType": "text",
            "name": "initialOrFollowup",
            "constraints": [
              "Initial",
              "Follow-up"
            ],
            "validate": "required"
          },
          {
            "columns": [
              {
                "dataType": "feature",
                "name": "implementationSite"
              },
              {
                "computed": {
                  "expression": "$geom.areaHa(implementationSite)"
                },
                "dataType": "number",
                "name": "calculatedAreaImplementedHa",
                "units": "ha",
                "decimalPlaces": 3,
                "behaviour": [
                  {
                    "condition": "areaImplementedInvoicedHa > 0",
                    "type": "conditional_validation",
                    "value": {
                      "message": "The area must be mapped",
                      "validate": "required,min[0.0001]"
                    }
                  }
                ]
              },
              {
                "computed": {
                  "expression": "$geom.lengthKm(implementationSite)"
                },
                "dataType": "number",
                "name": "calculatedLengthImplementedKm",
                "units": "ha",
                "decimalPlaces": 3,
                "behaviour": [
                  {
                    "condition": "lengthImplementedKm > 0",
                    "type": "conditional_validation",
                    "value": {
                      "message": "The length must be mapped",
                      "validate": "required,min[0.0001]"
                    }
                  }
                ]
              },
              {
                "defaultValue": {
                  "expression": "$geom.areaHa(implementationSite)",
                  "type": "computed"
                },
                "dataType": "number",
                "name": "areaImplementedHa",
                "units": "ha",
                "decimalPlaces": 3,
                "validate": "required,min[0]"
              },
              {
                "defaultValue": {
                  "expression": "$geom.lengthKm(implementationSite)",
                  "type": "computed"
                },
                "dataType": "number",
                "name": "lengthImplementedKm",
                "units": "km",
                "decimalPlaces": 3,
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedReason",
                "behaviour": [
                  {
                    "condition": "not (within(calculatedAreaImplementedHa, areaImplementedHa, 0.1))",
                    "type": "visible"
                  }
                ],
                "constraints": [
                  "Mapped area simplifies more complex area/s where work was undertaken during this period",
                  "Other"
                ],
                "validate": "required"
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedComments",
                "behaviour": [
                  {
                    "condition": "\"Other\" == mappingNotAlignedReason",
                    "type": "visible"
                  }
                ],
                "validate": "required,maxSize[300]"
              },
              {
                "dataType": "document",
                "name": "extraMappingDetails",
                "description": "Please fill in the Mapped/Actual/Invoice fields before attaching a document here. If those fields match this field will be void. <br/>If any of these fields differ please attach your organisation's detailed map for the area, covered by this project service - during reporting period (include the scale measure for each map).",
                "behaviour": [
                  {
                    "condition": "not (within(calculatedAreaImplementedHa, areaImplementedHa, 0.1)) or roundTo(areaImplementedHa, 2) != roundTo(areaImplementedInvoicedHa, 2)",
                    "type": "visible"
                  }
                ],
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "areaImplementedInvoicedHa",
                "units": "ha",
                "decimalPlaces": 3,
                "validate": [
                  {
                    "rule": "min[0]"
                  },
                  {
                    "param": {
                      "expression": "lengthOfErosionControlKm",
                      "type": "computed"
                    },
                    "rule": "max"
                  }
                ]
              },
              {
                "dataType": "number",
                "name": "areaImplementedInvoicedKm",
                "units": "ha",
                "decimalPlaces": 3,
                "validate": [
                  {
                    "rule": "min[0]"
                  },
                  {
                    "param": {
                      "expression": "lengthImplementedKm",
                      "type": "computed"
                    },
                    "rule": "max"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "invoicedNotActualReason",
                "behaviour": [
                  {
                    "condition": "roundTo(areaImplementedHa, 2) != roundTo(areaImplementedInvoicedHa, 2) or roundTo(lengthImplementedKm, 2) != roundTo(areaImplementedInvoicedKm, 2)",
                    "type": "visible"
                  }
                ],
                "constraints": [
                  "Work was undertaken over a greater area than will be invoiced for",
                  "Other"
                ],
                "validate": "required"
              },
              {
                "dataType": "text",
                "name": "invoicedNotActualComments",
                "behaviour": [
                  {
                    "condition": "\"Other\" == invoicedNotActualReason",
                    "type": "visible"
                  }
                ],
                "validate": "required,maxSize[300]"
              },
              {
                "dataType": "text",
                "name": "practiceChangeType",
                "description": "",
                "constraints": [
                  "Fencing",
                  "Erosion management",
                  "Stocking rates",
                  "Watering arrangements",
                  "Paddock design",
                  "Rotation grazing",
                  "Permaculture",
                  "Other"
                ],
                "validate": "required"
              },
              {
                "dataType": "text",
                "name": "otherPracticeChangeType",
                "description": "Please specify the type of land management practice change if Other (specify in notes) was selected in the Type of land management practice change.",
                "behaviour": [
                  {
                    "condition": "practiceChangeType == \"Other\"",
                    "type": "enable"
                  }
                ],
                "validate": "required,maxSize[100]"
              },
              {
                "dataType": "text",
                "name": "industryType",
                "constraints": [
                  "Broad acre cropping",
                  "Dairy",
                  "Horticulture",
                  "Grazing",
                  "Fisheries",
                  "Aquaculture",
                  "Environment"
                ],
                "validate": "required"
              },
              {
                "dataType": "text",
                "name": "practiceChangeObjective",
                "description": "How will the practice change/s contribute to the area?",
                "validate": "required,maxSize[300]"
              },
              {
                "dataType": "feature",
                "name": "offSiteBenefitSites"
              },
              {
                "defaultValue": {
                  "expression": "$geom.areaHa(offSiteBenefitSites)",
                  "type": "computed"
                },
                "dataType": "number",
                "name": "offSiteBenefitAreaHa",
                "validate": [
                  {
                    "param": {
                      "expression": "$geom.areaHa(offSiteBenefitSites)*0.9",
                      "type": "computed"
                    },
                    "rule": "min"
                  },
                  {
                    "param": {
                      "expression": "$geom.areaHa(offSiteBenefitSites)*1.1",
                      "type": "computed"
                    },
                    "rule": "max"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "evidenceOfBenefit",
                "validate": "maxSize[300]"
              }
            ],
            "dataType": "list",
            "name": "landManagementDetails"
          },
          {
            "name": "relatedOutcomes",
            "dataType": "text",
            "description": "Select the outcome/s as defined in your MERI plan that this service was delivered to achieve.",
            "validate": "required",
            "constraints": {
              "textProperty": "label",
              "valueProperty": "value",
              "type": "pre-populated",
              "config": {
                "source": {
                  "context-path": "outcomes"
                }
              }
            }
          },
          {
            "name": "investmentPriorities2",
            "dataType": "stringList",
            "validate": "required",
            "constraints": {
              "type": "pre-populated",
              "config": {
                "source": {
                  "params": [
                    {
                      "expression": "owner.projectId",
                      "name": "id",
                      "type": "computed"
                    }
                  ],
                  "url": "/project/listProjectInvestmentPriorities/"
                }
              }
            }
          },
          {
            "dataType": "text",
            "name": "otherInvestmentPriority",
            "behaviour": [
              {
                "type": "enable",
                "condition": "\"Other\" in investmentPriorities2"
              }
            ]
          },
          {
            "name": "landMgmtSurveyCountHeader",
            "type": "number",
            "decimalPlaces": 0,
            "computed": {
              "expression": "count(landManagementControlledArea, \"relatedOutcomes\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalAreaPracticeChangeInitial",
            "validate": "required,min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(landManagementDetails, \"areaImplementedHa\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalAreaPracticeChangeInitialInvoiced",
            "validate": [
              {
                "param": {
                  "expression": "totalAreaPracticeChangeInitial",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": 1
          },
          {
            "dataType": "number",
            "name": "totalAreaPracticeChangeFollowup",
            "validate": "required,min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(landManagementDetails, \"areaImplementedHa\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalAreaPracticeChangeInvoicedFollowup",
            "validate": [
              {
                "param": {
                  "expression": "totalAreaPracticeChangeFollowup",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": 1
          }
        ],
        "modelName": "NHT - Improving land management practices",
        "title": "Improving Land Management Practices",
        "viewModel": [
          {
            "columns": [
              {
                "width": "10%",
                "source": "participationIndividualsOrGroups",
                "title": "Are individuals or groups delivering this service?",
                "type": "selectOne"
              },
              {
                "width": "20%",
                "type": "col",
                "title": "Total number of people delivering this service <br>(including First Nations people)",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "participationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "participationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "type": "col",
                "width": "20%",
                "title": "Total number of First Nations people delivering this service ",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "firstNationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "firstNationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "source": "participationDetails",
                "rows": 4,
                "title": "If no First Nations people participated in the delivery of this service, <br>what are the reasons? If there was participation, please provide details.",
                "helpText": "If there were no First Nations people participating in the delivery of this service, please explain the reasons. If there were First Nations people involved, please outline how they were involved.",
                "type": "textarea"
              }
            ],
            "userAddedRows": false,
            "disableTableUpload": false,
            "source": "",
            "type": "table"
          },
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<h3>Totals Summary</h3>"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(i) Total  area (ha) covered by practice change during this reporting period (Initial)",
                        "source": "totalAreaPracticeChangeInitial",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(ii) Total area (ha) covered by practice change <u><i>invoiced</i></u> for during this reporting period (Initial)",
                        "source": "totalAreaPracticeChangeInitialInvoiced",
                        "type": "number"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(iii) Total area (ha) covered by practice change during this reporting period (follow up)",
                        "source": "totalAreaPracticeChangeFollowup",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(iv) Total area (ha) covered by practice change <u><i>invoiced</i></u> for during this reporting period (follow up)",
                        "source": "totalAreaPracticeChangeInvoicedFollowup",
                        "type": "number"
                      }
                    ]
                  }
                ]
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "css": "span3",
                "type": "col",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "source": "relatedOutcomes",
                        "type": "selectOne",
                        "preLabel": "Which outcome statement/s does this activity relate to?"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "col",
                "css": "span3 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "source": "investmentPriorities2",
                        "preLabel": "Which investment priority does this activity relate to?",
                        "type": "select2Many"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "source": "otherInvestmentPriority",
                        "type": "text"
                      }
                    ]
                  }
                ]
              }
            ]
          },
          {
            "type": "section",
            "items": [
              {
                "type": "row",
                "css": "border-bottom",
                "items": [
                  {
                    "preLabel": "Initial or Follow-up?",
                    "css": "span3",
                    "source": "initialOrFollowup",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "columns": [
                  {
                    "width": "10%",
                    "type": "col",
                    "title": "Site/s covered by practice change",
                    "items": [
                      {
                        "source": "implementationSite",
                        "type": "feature"
                      },
                      {
                        "readonly": "readonly",
                        "source": "calculatedAreaImplementedHa",
                        "type": "number",
                        "displayOptions": {
                          "displayUnits": true
                        }
                      },
                      {
                        "readonly": "readonly",
                        "source": "calculatedLengthImplementedKm",
                        "type": "number",
                        "displayOptions": {
                          "displayUnits": true
                        }
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Please attach mapping details",
                            "source": "extraMappingDetails",
                            "type": "document"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "helpText": "Enter the amount you will invoice for during this reporting period.",
                    "width": "10%",
                    "type": "col",
                    "title": "Actual area (ha) / length (km) covered by practice change",
                    "items": [
                      {
                        "source": "areaImplementedHa",
                        "type": "number",
                        "displayOptions": {
                          "displayUnits": true
                        }
                      },
                      {
                        "source": "lengthImplementedKm",
                        "type": "number",
                        "displayOptions": {
                          "displayUnits": true
                        }
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Reason for actual being different to mapped amount",
                            "source": "mappingNotAlignedReason",
                            "type": "selectOne"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "placeholder": "Please enter the reason/s the mapping didn't align with the invoiced amount",
                            "source": "mappingNotAlignedComments",
                            "type": "textarea",
                            "rows": 5
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "helpText": "Enter the amount you will invoice for during this reporting period.",
                    "width": "10%",
                    "type": "col",
                    "title": "Invoiced area (ha) covered by practice change",
                    "items": [
                      {
                        "source": "areaImplementedInvoicedHa",
                        "type": "number",
                        "displayOptions": {
                          "displayUnits": true
                        }
                      },
                      {
                        "source": "areaImplementedInvoicedKm",
                        "type": "number",
                        "displayOptions": {
                          "displayUnits": true
                        }
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Reason for invoiced amount being different to actual amount",
                            "source": "invoicedNotActualReason",
                            "type": "selectOne"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "placeholder": "Please enter the reason/s the mapping didn't align with the invoiced amount",
                            "source": "invoicedNotActualComments",
                            "type": "textarea",
                            "rows": 5
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "width": "15%",
                    "title": "Type of action",
                    "type": "col",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "practiceChangeType",
                            "type": "select2"
                          }
                        ]
                      },
                      {
                        "source": "otherPracticeChangeType",
                        "title": "Type of action (if Other)",
                        "type": "text"
                      }
                    ]
                  },
                  {
                    "width": "20%",
                    "source": "industryType",
                    "title": "Industry type",
                    "type": "selectOne"
                  },
                  {
                    "width": "25%",
                    "source": "practiceChangeObjective",
                    "title": "Purpose of improving land management practice",
                    "type": "textarea"
                  },
                  {
                    "width": "10%",
                    "title": "Please map any off-site area/s if they benefitted from this practice change",
                    "type": "col",
                    "items": [
                      {
                        "source": "offSiteBenefitSites",
                        "type": "feature"
                      },
                      {
                        "source": "offSiteBenefitAreaHa",
                        "type": "number",
                        "displayOptions": {
                          "displayUnits": true
                        }
                      },
                      {
                        "source": "evidenceOfBenefit",
                        "placeholder": "Please provide a description on the evidence available to reflect this benefit",
                        "type": "textarea"
                      }
                    ]
                  }
                ],
                "userAddedRows": true,
                "source": "landManagementDetails",
                "type": "table"
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Optionally attach photos",
                    "source": "photographicEvidence",
                    "type": "image"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Clarification, if needed",
                    "type": "textarea",
                    "rows": 4,
                    "css": "span8",
                    "source": "comments",
                    "placeholder": "Clarification comments include information for your project manager about the service like:\n • any reported items that are not being invoiced (eg, over-achievement) \n • any extraneous circumstances that affected delivery of the service \n"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<p><b>Available Evidence</b></p>This field is mandatory for all projects as part of the invoicing process. Please list evidence you have retained for this service and provide information to where the evidence is stored (links/file location data). Refer to the Project Service Evidence Guide and the Project Service Summaries for information on the evidence requirements.<b style=\"color:red\">*</b>"
                  },
                  {
                    "preLabel": "Data have been uploaded",
                    "source": "dataUploaded",
                    "type": "boolean"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "",
                    "source": "projectAssuranceDetails",
                    "type": "textarea",
                    "rows": 4,
                    "placeholder": "List the documentary evidence you have available for this project service. Include specifically, the document titles and location (e.g. internal IT network pathway, URLs) to assist with locating this material for future audits/assurance purposes."
                  }
                ]
              },
              {
                "type": "table",
                "source": "assuranceDocuments",
                "userAddedRows": true,
                "disableTableUpload": true,
                "columns": [
                  {
                    "title": "Attached documents",
                    "source": "attachments",
                    "type": "document"
                  }
                ]
              }
            ]
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtLandManagementPractices",
      "optional": true,
      "optionalQuestionText": null,
      "title": "Improving land management practices",
      "collapsibleHeading": null,
      "name": "NHT - Improving land management practices",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "dataModel": [
          {
            "dataType": "text",
            "name": "participationIndividualsOrGroups",
            "description": "Once Individuals or groups is selected, the related number field in the next two columns will become editable to report.",
            "constraints": [
              "Individuals",
              "Groups"
            ],
            "validate": "required"
          },
          {
            "dataType": "number",
            "name": "participationIndividualNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Individuals\"",
                "type": "enable"
              }
            ],
            "validate": "required,min[0]"
          },
          {
            "dataType": "text",
            "name": "participationGroupNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Groups\"",
                "type": "enable"
              }
            ],
            "constraints": [
              "0",
              "1-10",
              "11-20",
              "21-30",
              "31-40",
              "41-50"
            ],
            "validate": "required"
          },
          {
            "dataType": "number",
            "name": "firstNationIndividualNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Individuals\"",
                "type": "enable"
              }
            ],
            "validate": "required,min[0]"
          },
          {
            "dataType": "text",
            "name": "firstNationGroupNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Groups\"",
                "type": "enable"
              }
            ],
            "constraints": [
              "0",
              "1-10",
              "11-20",
              "21-30",
              "31-40",
              "41-50"
            ],
            "validate": "required"
          },
          {
            "dataType": "text",
            "name": "participationDetails",
            "validate": "maxSize[3000]"
          },
          {
            "columns": [
              {
                "dataType": "text",
                "name": "initialOrFollowup",
                "constraints": [
                  "Initial",
                  "Follow-up"
                ],
                "validate": "required"
              },
              {
                "columns": [
                  {
                    "dataType": "feature",
                    "name": "siteTreated"
                  },
                  {
                    "defaultValue": {
                      "expression": "$geom.areaHa(siteTreated)",
                      "type": "computed"
                    },
                    "dataType": "number",
                    "name": "calculatedAreaTreatedHa",
                    "units": "ha",
                    "decimalPlaces": 3,
                    "behaviour": [
                      {
                        "condition": "areaTreatedInvoicedHa > 0",
                        "type": "conditional_validation",
                        "value": {
                          "message": "The managed area must be mapped",
                          "validate": "required,min[0.0001]"
                        }
                      }
                    ]
                  },
                  {
                    "computed": {
                      "expression": "$geom.lengthKm(siteTreated)"
                    },
                    "dataType": "number",
                    "name": "calculatedLengthTreatedKm",
                    "units": "km",
                    "decimalPlaces": 3,
                    "behaviour": [
                      {
                        "condition": "lengthTreatedKm > 0",
                        "type": "conditional_validation",
                        "value": {
                          "message": "The managed length must be mapped",
                          "validate": "required,min[0.0001]"
                        }
                      }
                    ]
                  },
                  {
                    "defaultValue": {
                      "expression": "calculatedAreaTreatedHa",
                      "type": "computed"
                    },
                    "dataType": "number",
                    "name": "areaTreatedHa",
                    "units": "ha",
                    "decimalPlaces": 3,
                    "validate": "required,min[0]"
                  },
                  {
                    "defaultValue": {
                      "expression": "calculatedLengthTreatedKm",
                      "type": "computed"
                    },
                    "dataType": "number",
                    "name": "lengthTreatedKm",
                    "units": "km",
                    "decimalPlaces": 3,
                    "validate": "required,min[0]"
                  },
                  {
                    "dataType": "text",
                    "name": "mappingNotAlignedReason",
                    "behaviour": [
                      {
                        "condition": "not (within(calculatedAreaTreatedHa, areaTreatedHa, 0.1))",
                        "type": "visible"
                      }
                    ],
                    "constraints": [
                      "Mapped area simplifies more complex area/s where work was undertaken during this period",
                      "Other"
                    ],
                    "validate": "required"
                  },
                  {
                    "dataType": "text",
                    "name": "mappingNotAlignedComments",
                    "behaviour": [
                      {
                        "condition": "\"Other\" == mappingNotAlignedReason",
                        "type": "visible"
                      }
                    ],
                    "validate": "required,maxSize[300]"
                  },
                  {
                    "dataType": "document",
                    "name": "extraMappingDetails",
                    "description": "Please fill in the Mapped/Actual/Invoice fields before attaching a document here. If those fields match this field will be void. <br/>If any of these fields differ please attach your organisation's detailed map for the area, covered by this project service - during reporting period (include the scale measure for each map).",
                    "behaviour": [
                      {
                        "condition": "not (within(calculatedAreaTreatedHa, areaTreatedHa, 0.1)) or roundTo(areaTreatedHa, 2) != roundTo(areaTreatedInvoicedHa, 2)",
                        "type": "visible"
                      }
                    ],
                    "validate": "required"
                  },
                  {
                    "dataType": "number",
                    "name": "areaTreatedInvoicedHa",
                    "units": "ha",
                    "decimalPlaces": 3,
                    "validate": [
                      {
                        "rule": "min[0]"
                      },
                      {
                        "param": {
                          "expression": "areaTreatedHa",
                          "type": "computed"
                        },
                        "rule": "max"
                      }
                    ]
                  },
                  {
                    "dataType": "number",
                    "name": "areaTreatedInvoicedKm",
                    "units": "km",
                    "decimalPlaces": 3,
                    "validate": [
                      {
                        "rule": "required"
                      },
                      {
                        "rule": "min[0]"
                      },
                      {
                        "param": {
                          "expression": "lengthTreatedKm",
                          "type": "computed"
                        },
                        "rule": "max"
                      }
                    ]
                  },
                  {
                    "dataType": "text",
                    "name": "invoicedNotActualReason",
                    "behaviour": [
                      {
                        "condition": "roundTo(areaTreatedHa, 2) != roundTo(areaTreatedInvoicedHa, 2) or roundTo(lengthTreatedKm, 2) != roundTo(areaTreatedInvoicedKm, 2)",
                        "type": "visible"
                      }
                    ],
                    "constraints": [
                      "Work was undertaken over a greater area than will be invoiced for",
                      "Other"
                    ],
                    "validate": "required"
                  },
                  {
                    "dataType": "text",
                    "name": "invoicedNotActualComments",
                    "behaviour": [
                      {
                        "condition": "\"Other\" == invoicedNotActualReason",
                        "type": "visible"
                      }
                    ],
                    "validate": "required,maxSize[300]"
                  },
                  {
                    "dataType": "text",
                    "name": "targetDisease",
                    "description": "",
                    "validate": "required,maxSize[100]"
                  },
                  {
                    "dataType": "text",
                    "name": "managementMethod",
                    "dwcAttribute": "treatmentMethod",
                    "constraints": [
                      "Biological control agents",
                      "Fumigation",
                      "Host destruction",
                      "Plant disease management - quarantine",
                      "Plant disease management - treatment",
                      "Plant disease management - hygiene",
                      "Positive competition",
                      "Other"
                    ],
                    "validate": "required"
                  },
                  {
                    "dataType": "text",
                    "name": "otherManagementMethod",
                    "description": "Please specify the management method used if Other (specify in notes) was selected in the Management Method column.",
                    "behaviour": [
                      {
                        "condition": "managementMethod == \"Other\"",
                        "type": "enable"
                      }
                    ],
                    "validate": "required,maxSize[100]"
                  },
                  {
                    "dataType": "text",
                    "name": "treatmentObjective",
                    "description": "Please start with either part of the field heading [dash]. If reporting on both separate the information with a ';'. (eg. 'Management method -' and a brief description of method being used to fix the area; 'Treatment objective -' and a brief description of how the work will contribute to the area.",
                    "validate": "required,maxSize[300]"
                  },
                  {
                    "dataType": "feature",
                    "name": "offSiteBenefitSites"
                  },
                  {
                    "defaultValue": {
                      "expression": "$geom.areaHa(offSiteBenefitSites)",
                      "type": "computed"
                    },
                    "dataType": "number",
                    "name": "offSiteBenefitAreaHa",
                    "units": "ha",
                    "decimalPlaces": 3,
                    "validate": "min[0]"
                  },
                  {
                    "defaultValue": {
                      "expression": "$geom.lengthKm(offSiteBenefitSites)",
                      "type": "computed"
                    },
                    "dataType": "number",
                    "name": "offSiteBenefitLengthKm",
                    "units": "km",
                    "decimalPlaces": 3,
                    "validate": "min[0]"
                  },
                  {
                    "dataType": "text",
                    "name": "evidenceOfBenefit",
                    "validate": "maxSize[300]"
                  }
                ],
                "dataType": "list",
                "name": "diseaseManagementDetails"
              },
              {
                "name": "relatedOutcomes",
                "dataType": "text",
                "description": "Select the outcome/s as defined in your MERI plan that this service was delivered to achieve.",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "value",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "context-path": "outcomes"
                    }
                  }
                }
              },
              {
                "name": "investmentPriorities2",
                "dataType": "stringList",
                "validate": "required",
                "constraints": {
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "params": [
                        {
                          "expression": "owner.projectId",
                          "name": "id",
                          "type": "computed"
                        }
                      ],
                      "url": "/project/listProjectInvestmentPriorities/"
                    }
                  }
                }
              },
              {
                "dataType": "text",
                "name": "otherInvestmentPriority",
                "behaviour": [
                  {
                    "type": "enable",
                    "condition": "\"Other\" in investmentPriorities2"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "invoicingThisActivity",
                "constraints": [
                  "Yes",
                  "No"
                ],
                "validate": "required"
              }
            ],
            "dataType": "list",
            "name": "diseaseManagementAreasControlled"
          },
          {
            "name": "diseaseSurveyCountHeader",
            "type": "number",
            "decimalPlaces": 0,
            "computed": {
              "expression": "count(diseaseManagementAreasControlled, \"relatedOutcomes\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalAreaDiseaseManagementInitial",
            "validate": "required,min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(debrisRemovalDetails, \"debrisRemovedHa\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalAreaDiseaseManagementInitialInvoiced",
            "validate": [
              {
                "param": {
                  "expression": "totalAreaDiseaseManagementInitial",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": 1
          },
          {
            "dataType": "number",
            "name": "totalAreaDiseaseManagementFollowup",
            "validate": "required,min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(debrisRemovalDetails, \"debrisRemovedKm\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalAreaDiseaseManagementInvoicedFollowup",
            "validate": [
              {
                "param": {
                  "expression": "totalAreaDiseaseManagementFollowup",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": 1
          },
          {
            "dataType": "number",
            "name": "totalLengthDiseaseManagementInitial",
            "validate": "required,min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(debrisRemovalDetails, \"debrisRemovedHa\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalLengthDiseaseManagementInvoicedInitial",
            "validate": [
              {
                "param": {
                  "expression": "totalLengthDiseaseManagementInitial",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": 1
          },
          {
            "dataType": "number",
            "name": "totalLengthDiseaseManagementFollowup",
            "validate": "required,min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(debrisRemovalDetails, \"debrisRemovedKm\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalLengthDiseaseManagementInvoicedFollowup",
            "validate": [
              {
                "param": {
                  "expression": "totalLengthDiseaseManagementFollowup",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": 1
          },
          {
            "dataType": "text",
            "name": "comments",
            "validate": "maxSize[1500]"
          },
          {
            "dataType": "image",
            "name": "photographicEvidence"
          },
          {
            "dataType": "boolean",
            "name": "dataUploaded",
            "description": "<ul><li>Tick box to confirm data has been uploaded</li><li>URL Link (mandatory if below is ticked) in available evidence</li></ul>"
          },
          {
            "name": "projectAssuranceDetails",
            "dataType": "text",
            "validate": "required,maxSize[5000]",
            "behaviour": [
              {
                "condition": "dataUploaded == true",
                "type": "enable"
              }
            ]
          },
          {
            "dataType": "list",
            "name": "assuranceDocuments",
            "columns": [
              {
                "dataType": "document",
                "name": "attachments",
                "description": "Please attach any Evidence of Service Delivery here."
              }
            ]
          }
        ],
        "modelName": "NHT - Disease management",
        "title": "Managing Disease",
        "viewModel": [
          {
            "columns": [
              {
                "width": "10%",
                "source": "participationIndividualsOrGroups",
                "title": "Are individuals or groups delivering this service?",
                "type": "selectOne"
              },
              {
                "width": "20%",
                "type": "col",
                "title": "Total number of people delivering this service <br>(including First Nations people)",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "participationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "participationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "type": "col",
                "width": "20%",
                "title": "Total number of First Nations people delivering this service ",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "firstNationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "firstNationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "source": "participationDetails",
                "rows": 4,
                "title": "If no First Nations people participated in the delivery of this service, <br>what are the reasons? If there was participation, please provide details.",
                "helpText": "If there were no First Nations people participating in the delivery of this service, please explain the reasons. If there were First Nations people involved, please outline how they were involved.",
                "type": "textarea"
              }
            ],
            "userAddedRows": false,
            "disableTableUpload": false,
            "source": "",
            "type": "table"
          },
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<h3>Totals Summary</h3>"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(i) Total area (ha) for disease treatment/prevention for this reporting period (Initial)",
                        "source": "totalAreaDiseaseManagementInitial",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(ii) Total area (ha) for disease treatment/prevention <u><i>invoiced</i></u> for this reporting period (Initial)",
                        "source": "totalAreaDiseaseManagementInitialInvoiced",
                        "type": "number"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(iii) Total area (ha) for disease treatment/prevention for this reporting period (follow up)",
                        "source": "totalAreaDiseaseManagementFollowup",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(iv) Total Area (ha) for disease treatment/prevention <u><i>invoiced</i></u> for this reporting period (follow up)",
                        "source": "totalAreaDiseaseManagementInvoicedFollowup",
                        "type": "number"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(v) Total length (km) for disease treatment/prevention for this reporting period (Initial)",
                        "source": "totalLengthDiseaseManagementInitial",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(vi) Total length (km) for disease treatment/prevention <u><i>invoiced</i></u> for this reporting period (Initial)",
                        "source": "totalLengthDiseaseManagementInvoicedInitial",
                        "type": "number"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "col",
                "css": "span4 col-border-right",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(vii) Total length (km) for disease treatment/prevention for this reporting period (follow up)",
                        "source": "totalLengthDiseaseManagementFollowup",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "(viii) Total length (km) for disease treatment/prevention <u><i>invoiced</i></u> for this reporting period (follow up)",
                        "source": "totalLengthDiseaseManagementInvoicedFollowup",
                        "type": "number"
                      }
                    ]
                  }
                ]
              }
            ]
          },
          {
            "addRowText": "Add a new controlled area",
            "userAddedRows": true,
            "source": "diseaseManagementAreasControlled",
            "type": "repeat",
            "items": [
              {
                "type": "row",
                "items": [
                  {
                    "css": "span3",
                    "type": "col",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "relatedOutcomes",
                            "type": "selectOne",
                            "preLabel": "Which outcome statement/s does this activity relate to?"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "investmentPriorities2",
                            "preLabel": "Which investment priority does this activity relate to?",
                            "type": "select2Many"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "otherInvestmentPriority",
                            "type": "text"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "css": "span3",
                    "type": "col",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "invoicingThisActivity",
                            "preLabel": "Are you invoicing for this activity in this reporting period?",
                            "type": "selectOne"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "row",
                "css": "border-bottom",
                "items": [
                  {
                    "preLabel": "Initial or Follow-up?",
                    "css": "span3",
                    "source": "initialOrFollowup",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "columns": [
                  {
                    "width": "15%",
                    "type": "col",
                    "title": "Site/s where disease managed",
                    "items": [
                      {
                        "source": "siteTreated",
                        "type": "feature"
                      },
                      {
                        "readonly": "readonly",
                        "source": "calculatedAreaTreatedHa",
                        "type": "number",
                        "displayOptions": {
                          "displayUnits": true
                        }
                      },
                      {
                        "readonly": "readonly",
                        "source": "calculatedLengthTreatedKm",
                        "type": "number",
                        "displayOptions": {
                          "displayUnits": true
                        }
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Please attach mapping details",
                            "source": "extraMappingDetails",
                            "type": "document"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "helpText": "Enter the amount you will invoice for during this reporting period.",
                    "width": "15%",
                    "type": "col",
                    "title": "Actual area (ha) / length (km) where disease has been managed",
                    "items": [
                      {
                        "source": "areaTreatedHa",
                        "type": "number",
                        "displayOptions": {
                          "displayUnits": true
                        }
                      },
                      {
                        "source": "lengthTreatedKm",
                        "type": "number",
                        "displayOptions": {
                          "displayUnits": true
                        }
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Reason for actual being different to mapped amount",
                            "source": "mappingNotAlignedReason",
                            "type": "selectOne"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "placeholder": "Please enter the reason/s the mapping didn't align with the invoiced amount",
                            "source": "mappingNotAlignedComments",
                            "type": "textarea",
                            "rows": 5
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "helpText": "Enter the amount you will invoice for during this reporting period.",
                    "width": "15%",
                    "type": "col",
                    "title": "Invoiced area (ha) / length (km) where disease has been managed",
                    "items": [
                      {
                        "source": "areaTreatedInvoicedHa",
                        "type": "number",
                        "displayOptions": {
                          "displayUnits": true
                        }
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "areaTreatedInvoicedKm",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Reason for invoiced amount being different to actual amount",
                            "source": "invoicedNotActualReason",
                            "type": "selectOne"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "placeholder": "Please enter the reason/s the mapping didn't align with the invoiced amount",
                            "source": "invoicedNotActualComments",
                            "type": "textarea",
                            "rows": 5
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "width": "10%",
                    "source": "targetDisease",
                    "title": "Disease treated",
                    "type": "text"
                  },
                  {
                    "width": "10%",
                    "type": "col",
                    "title": "Type of management method / treatment",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "managementMethod",
                            "type": "select2"
                          }
                        ]
                      },
                      {
                        "source": "otherManagementMethod",
                        "placeholder": "Type of management method / treatment (if other)",
                        "type": "text"
                      }
                    ]
                  },
                  {
                    "width": "20%",
                    "source": "treatmentObjective",
                    "title": "Management method / treatment objective",
                    "type": "textarea"
                  },
                  {
                    "width": "15%",
                    "type": "col",
                    "title": "Please map any off-site area/s if they have also benefitted from this disease management",
                    "items": [
                      {
                        "source": "offSiteBenefitSites",
                        "type": "feature"
                      },
                      {
                        "source": "offSiteBenefitAreaHa",
                        "type": "number",
                        "displayOptions": {
                          "displayUnits": true
                        }
                      },
                      {
                        "source": "offSiteBenefitLengthKm",
                        "type": "number",
                        "displayOptions": {
                          "displayUnits": true
                        }
                      },
                      {
                        "source": "evidenceOfBenefit",
                        "placeholder": "Please provide a description on the evidence available to reflect this benefit",
                        "type": "textarea"
                      }
                    ]
                  }
                ],
                "userAddedRows": true,
                "source": "diseaseManagementDetails",
                "type": "table"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "Optionally attach photos",
                "source": "photographicEvidence",
                "type": "image"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "Clarification, if needed",
                "type": "textarea",
                "rows": 4,
                "css": "span8",
                "source": "comments",
                "placeholder": "Clarification comments include information for your project manager about the service like:\n • any reported items that are not being invoiced (eg, over-achievement) \n • any extraneous circumstances that affected delivery of the service \n"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<p><b>Available Evidence</b></p>This field is mandatory for all projects as part of the invoicing process. Please list evidence you have retained for this service and provide information to where the evidence is stored (links/file location data). Refer to the Project Service Evidence Guide and the Project Service Summaries for information on the evidence requirements.<b style=\"color:red\">*</b>"
              },
              {
                "preLabel": "Data have been uploaded",
                "source": "dataUploaded",
                "type": "boolean"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "",
                "source": "projectAssuranceDetails",
                "type": "textarea",
                "rows": 4,
                "placeholder": "List the documentary evidence you have available for this project service. Include specifically, the document titles and location (e.g. internal IT network pathway, URLs) to assist with locating this material for future audits/assurance purposes."
              }
            ]
          },
          {
            "type": "table",
            "source": "assuranceDocuments",
            "userAddedRows": true,
            "disableTableUpload": true,
            "columns": [
              {
                "title": "Attached documents",
                "source": "attachments",
                "type": "document"
              }
            ]
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtDiseaseManagement",
      "optional": true,
      "optionalQuestionText": null,
      "title": "Managing disease",
      "collapsibleHeading": null,
      "name": "NHT - Disease management",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "dataModel": [
          {
            "name": "pestAnimalSurveys",
            "dataType": "list",
            "minSize": 1,
            "columns": [
              {
                "name": "relatedOutcomes",
                "dataType": "text",
                "description": "Select the outcome/s as defined in your MERI plan that this service was delivered to achieve.",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "value",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "context-path": "outcomes"
                    }
                  }
                }
              },
              {
                "dataType": "text",
                "name": "baselineOrIndicatorSurvey",
                "description": "",
                "constraints": [
                  "Baseline",
                  "Indicator"
                ],
                "validate": "required"
              },
              {
                "dataType": "text",
                "name": "surveyObjective",
                "description": "What the survey aim to capture? How will the information obtained from the survey be used?",
                "validate": "required,maxSize[3000]"
              },
              {
                "dataType": "number",
                "name": "numberOfSurveys",
                "validate": "required,min[1],max[1]",
                "defaultValue": 1,
                "readonly": true
              },
              {
                "dataType": "number",
                "name": "numberOfSurveysInvoiced",
                "validate": "required,min[0],max[1]",
                "defaultValue": 1
              },
              {
                "dataType": "list",
                "name": "pestAnimalDataSets",
                "columns": [
                  {
                    "name": "dataSetId",
                    "dataType": "text",
                    "description": "This section will require the Data Set Name so the Metadata fields in the Data Set Summary tab should be filled out before the Outcome Report is due. More than one dataset if relevant for this Project Baseline could be selected.",
                    "validate": "required",
                    "constraints": {
                      "textProperty": "name",
                      "valueProperty": "dataSetId",
                      "excludePath": "pestAnimalSurveys.pestAnimalDataSets.dataSetId",
                      "type": "pre-populated",
                      "config": {
                        "source": {
                          "context-path": "owner.custom.dataSets"
                        },
                        "filter": {
                          "namespace": "dataSet",
                          "expression": "dataSet.serviceId == 23 and dataSet.progress == 'finished' and baselineOrIndicatorSurvey == baselineIndicatorMapping.lookupValue(dataSet.type) and deepEquals(relatedOutcomes,dataSet.outcomesLabel)"
                        }
                      }
                    },
                    "behaviour": [
                      {
                        "type": "pre_populate",
                        "config": {
                          "waitForInitialisation": true,
                          "source": {
                            "url": "/site/geojson",
                            "params": [
                              {
                                "expression": "x=find(owner.custom.dataSets, \"dataSetId\", dataSetId); x.siteId",
                                "name": "id",
                                "type": "computed",
                                "required": true
                              }
                            ]
                          },
                          "target":  {
                            "type": "singleValue",
                            "name": "sitesCoveredForPestAnimal"
                          }
                        }
                      }
                    ]
                  },
                  {
                    "columns": [
                      {
                        "dataType": "species",
                        "name": "species",
                        "validate": "required"
                      },
                      {
                        "dataType": "text",
                        "name": "individualsOrGroups",
                        "constraints": [
                          "Individuals",
                          "Groups"
                        ],
                        "validate": "required"
                      },
                      {
                        "dataType": "number",
                        "name": "numberOfIndividualsOrGroups",
                        "validate": "required,min[0]"
                      }
                    ],
                    "dataType": "list",
                    "name": "pestAnimalSurveySpeciesTable"
                  },
                  {
                    "dataType": "text",
                    "name": "baselineOrIndicatorSurvey",
                    "description": "",
                    "constraints": [
                      "Baseline",
                      "Indicator"
                    ],
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); baselineIndicatorMapping.lookupValue(x.type)"
                    }
                  },
                  {
                    "name": "projectBaselines",
                    "dataType": "stringList",
                    "description": "Select the relevant Project Baseline as listed in the Monitoring Methodology section of the MERI Plan.",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.baselines"
                    },
                    "constraints": {
                      "textProperty": "baseline",
                      "valueProperty": "code",
                      "type": "pre-populated",
                      "excludePath": "projectBaselines",
                      "config": {
                        "source": {
                          "context-path": "owner.custom.details.baseline.rows"
                        }
                      }
                    }
                  },
                  {
                    "name": "investmentPriorities2",
                    "dataType": "stringList",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.investmentPriorities"
                    },
                    "constraints": {
                      "type": "pre-populated",
                      "config": {
                        "source": {
                          "params": [
                            {
                              "expression": "owner.projectId",
                              "name": "id",
                              "type": "computed"
                            }
                          ],
                          "url": "/project/listProjectInvestmentPriorities/"
                        }
                      }
                    }
                  },
                  {
                    "dataType": "text",
                    "name": "otherInvestmentPriority",
                    "behaviour": [
                      {
                        "type": "enable",
                        "condition": "\"Other\" in investmentPriorities2"
                      }
                    ]
                  },
                  {
                    "dataType": "date",
                    "name": "activitiesStartDate",
                    "description": "Specific the dates these events were held on.",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.startDate"
                    }
                  },
                  {
                    "dataType": "date",
                    "name": "activitiesEndDate",
                    "description": "Specific the dates these events were held on.",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.endDate"
                    }
                  },
                  {
                    "dataType": "feature",
                    "name": "sitesCoveredForPestAnimal",
                    "description": "Mapping field to be done and Area (ha)/length (km) field be auto-calculated from mapping."

                  },
                  {
                    "computed": {
                      "expression": "$geom.areaHa(sitesCoveredForPestAnimal)"
                    },
                    "dataType": "number",
                    "name": "calculatedAreaTreatedHa",
                    "units": "ha",
                    "decimalPlaces": 3
                  },
                  {
                    "computed": {
                      "expression": "$geom.lengthKm(sitesCoveredForPestAnimal)"
                    },
                    "dataType": "number",
                    "name": "calculatedLengthTreatedKm",
                    "units": "km",
                    "decimalPlaces": 3,
                    "behaviour": [
                      {
                        "condition": "lengthTreatedKm > 0",
                        "type": "conditional_validation",
                        "value": {
                          "message": "The managed length must be mapped",
                          "validate": "required,min[0.0001]"
                        }
                      }
                    ]
                  },
                  {
                    "defaultValue": {
                      "type": "computed",
                      "expression": "calculatedAreaTreatedHa"
                    },
                    "dataType": "number",
                    "name": "areaTreatedHa",
                    "description": "Manually enter correct figure for this reporting period if different to mapped value.",
                    "units": "ha",
                    "decimalPlaces": 3,
                    "validate": "required,min[0]"
                  },
                  {
                    "dataType": "text",
                    "name": "mappingNotAlignedReason",
                    "constraints": [
                      "Mapped area simplifies more complex area/s where work was undertaken during this period",
                      "Other"
                    ],
                    "validate": "required",
                    "behaviour": [
                      {
                        "condition": "not (within(calculatedAreaTreatedHa, areaTreatedHa, 0.1))",
                        "type": "visible"
                      }
                    ]
                  },
                  {
                    "dataType": "text",
                    "name": "mappingNotAlignedComments",
                    "validate": "required,maxSize[100]",
                    "behaviour": [
                      {
                        "type": "visible",
                        "condition": "\"Other\" == mappingNotAlignedReason"
                      }
                    ]
                  },
                  {
                    "dataType": "document",
                    "name": "extraMappingDetails",
                    "validate": "required",
                    "description": "Please fill in the Mapped/Actual/Invoice fields before attaching a document here. If those fields match this field will be void. <br/>If any of these fields differ please attach your organisation's detailed map for the area, covered by this project service - during reporting period (include the scale measure for each map).",
                    "behaviour": [
                      {
                        "condition": "not (within(calculatedAreaTreatedHa, areaTreatedHa, 0.1))",
                        "type": "visible"
                      }
                    ]
                  },
                  {
                    "defaultValue": {
                      "type": "computed",
                      "expression": "$geom.lengthKm(sitesCoveredForPestAnimal)"
                    },
                    "dataType": "number",
                    "name": "lengthTreatedKm",
                    "units": "km",
                    "decimalPlaces": 3,
                    "validate": [
                      {
                        "rule": "min",
                        "param": {
                          "type": "computed",
                          "expression": "$geom.lengthKm(sitesCoveredForPestAnimal)*0.9"
                        }
                      },
                      {
                        "rule": "max",
                        "param": {
                          "type": "computed",
                          "expression": "$geom.lengthKm(sitesCoveredForPestAnimal)*1.1"
                        }
                      }
                    ]
                  },
                  {
                    "dataType": "text",
                    "description": "Select the technique used to conduct the survey. If the EMSA Application tool was not used, you should select 'Other'.",
                    "name": "emsaProtocol",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.protocol"
                    },
                    "constraints": {
                      "textProperty": "label",
                      "valueProperty": "value",
                      "type": "pre-populated",
                      "config": {
                        "source": {
                          "context-path": "owner.protocols"
                        }
                      }
                    }
                  },
                  {
                    "dataType": "stringList",
                    "description": "Describe the technique (if Other) was selected.",
                    "name": "otherEmsaProtocol",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.methods"
                    },
                    "validate": "required"
                  },
                  {
                    "dataType": "text",
                    "name": "surveyMethodology",
                    "description": "Provide more details on what is being done.",
                    "validate": "required,maxSize[3000]",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.methodDescription"
                    }
                  },
                  {
                    "dataType": "text",
                    "name": "invoicingThisActivity",
                    "constraints": [
                      "Yes",
                      "No"
                    ],
                    "validate": "required"
                  }
                ],
                "minSize": 1
              }
            ]
          },
          {
            "dataType": "lookupTable",
            "name": "baselineIndicatorMapping",
            "config": {
              "source": {
                "literal": {
                  "Baseline dataset associated with a project outcome": "Baseline",
                  "Project progress dataset that is tracking change against an established project baseline dataset": "Indicator"
                }
              }
            }
          },
          {
            "columns": [
              {
                "dataType": "text",
                "name": "participationIndividualsOrGroups",
                "description": "Once Individuals or groups is selected, the related number field in the next two columns will become editable to report.",
                "constraints": [
                  "Individuals",
                  "Groups"
                ],
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "participationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "participationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ]
              },
              {
                "dataType": "number",
                "name": "firstNationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "param": {
                      "expression": "participationIndividualNumber",
                      "type": "computed"
                    },
                    "rule": "max"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "firstNationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ]
              },
              {
                "dataType": "text",
                "name": "participationDetails",
                "validate": "required, maxSize[3000]"
              }
            ],
            "dataType": "list",
            "name": "participationInformationTable"
          },
          {
            "dataType": "number",
            "name": "totalSurveyBaseline",
            "validate": "required,min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(pestAnimalSurveys, \"baselineOrIndicatorSurvey == 'Baseline' ? 1 : 0\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalSurveyBaselineInvoiced",
            "validate": [
              {
                "param": {
                  "expression": "totalSurveyBaseline",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": 0
          },
          {
            "dataType": "number",
            "name": "totalSurveyIndicator",
            "validate": "required,min[0],max[1]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(pestAnimalSurveys, \"baselineOrIndicatorSurvey == 'Indicator' ? 1 : 0\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalSurveyIndicatorInvoiced",
            "defaultValue": 0,
            "validate": [
              {
                "param": {
                  "expression": "totalSurveyIndicator",
                  "type": "computed"
                },
                "rule": "max"
              }
            ]
          },
          {
            "dataType": "text",
            "name": "comments",
            "validate": "maxSize[1500]"
          },
          {
            "dataType": "image",
            "name": "photographicEvidence"
          },
          {
            "dataType": "boolean",
            "name": "dataUploaded",
            "description": ""
          },
          {
            "dataType": "text",
            "name": "projectAssuranceDetails",
            "description": ""
          },
          {
            "dataType": "list",
            "name": "assuranceDocuments",
            "columns": [
              {
                "dataType": "document",
                "name": "attachments",
                "description": "Please attach any Evidence of Service Delivery here."
              }
            ]
          }
        ],
        "modelName": "NHT - Pest animal survey",
        "title": "Pest Animal Survey",
        "viewModel": [
          {
            "type": "section",
            "items": [
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<h3>Participation information</h3>"
                  }
                ]
              },
              {
                "columns": [
                  {
                    "width": "10%",
                    "source": "participationIndividualsOrGroups",
                    "title": "Are individuals or groups delivering this service?",
                    "type": "selectOne"
                  },
                  {
                    "width": "20%",
                    "type": "col",
                    "title": "Total number of people delivering this service <br>(including First Nations people)<b style=\"color:red\">*</b>",
                    "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                    "items": [
                      {
                        "source": "participationIndividualNumber",
                        "type": "number"
                      },
                      {
                        "source": "participationGroupNumber",
                        "type": "selectOne"
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "width": "20%",
                    "title": "Total number of First Nations people delivering this service<b style=\"color:red\">*</b>",
                    "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                    "items": [
                      {
                        "source": "firstNationIndividualNumber",
                        "type": "number"
                      },
                      {
                        "source": "firstNationGroupNumber",
                        "type": "selectOne"
                      }
                    ]
                  },
                  {
                    "source": "participationDetails",
                    "rows": 4,
                    "title": "If no First Nations people participated in the delivery of this service, <br>what are the reasons? If there was participation, please provide details.",
                    "helpText": "If there were no First Nations people participating in the delivery of this service, please explain the reasons. If there were First Nations people involved, please outline how they were involved.",
                    "type": "textarea"
                  }
                ],
                "userAddedRows": false,
                "disableTableUpload": false,
                "source": "participationInformationTable",
                "type": "table"
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<h3>Survey information</h3><p><b>Before completing this section, please ensure you have created a Data Set Summary information for every data set produced by the surveys you intend to report</b></p><ul><li>Each survey reported must relate to a combination of outcomes as described in your MERI plan</li><li>Each Data Set Summary recorded for a survey must be addressing the same outcomes as selected for the survey</li><li>If a survey produced more than one data set, use the New Data Set button to add each Data Set Summary under your survey</li><li>A single survey can be made up of multiple dataset</li></ul>"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<h3>Totals Summary</h3>"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "col",
                    "css": "span4 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(i) Total Number of baseline pest animal surveys completed for this reporting period",
                            "source": "totalSurveyBaseline",
                            "type": "number"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(ii) Total Number of baseline pest animal surveys <u><i>invoiced</i></u> for this reporting period",
                            "source": "totalSurveyBaselineInvoiced",
                            "type": "number"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span4 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(iii)  Total Number of  indicator pest animal surveys completed for this reporting period",
                            "source": "totalSurveyIndicator",
                            "type": "number"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(iv) Total Number of indicator pest animal surveys <u><i>invoiced</i></u> for this reporting period",
                            "source": "totalSurveyIndicatorInvoiced",
                            "type": "number"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "addRowText": "Add survey",
                "removeRowText": "Delete this survey",
                "userAddedRows": true,
                "source": "pestAnimalSurveys",
                "type": "repeat",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "type": "col",
                        "items": [
                          {
                            "source": "relatedOutcomes",
                            "type": "selectOne",
                            "preLabel": "Which outcome statement/s relates to this survey?"
                          }
                        ]
                      },
                      {
                        "type": "col",
                        "items": [
                          {
                            "source": "baselineOrIndicatorSurvey",
                            "type": "selectOne",
                            "preLabel": "Baseline survey or indicator (follow-up) survey?"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "source": "surveyObjective",
                        "preLabel": "Survey objective",
                        "type": "text"
                      }
                    ]
                  },
                  {
                    "type": "repeat",
                    "source": "pestAnimalDataSets",
                    "userAddedRows": true,
                    "addRowText": "New data set",
                    "removeRowText": "Delete this data set",
                    "items": [
                      {
                        "type": "row",
                        "css": "border-bottom",
                        "items": [
                          {
                            "type": "col",
                            "items": [
                              {
                                "source": "dataSetId",
                                "type": "selectOne",
                                "preLabel": "Please select the data set produced by this survey.  Note it must have already been entered on the Data Set Summary tab."
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "projectBaselines",
                                    "type": "selectMany",
                                    "preLabel": "Which project baseline/s relate to this survey?",
                                    "readonly": "readonly"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "investmentPriorities2",
                                    "preLabel": "Which investment priority does this activity relate to?",
                                    "type": "select2Many"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "otherInvestmentPriority",
                                    "type": "text"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Activity start date",
                                    "source": "activitiesStartDate",
                                    "type": "date"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Activity end date",
                                    "source": "activitiesEndDate",
                                    "type": "date"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Sites covered by pest animal survey",
                                    "source": "sitesCoveredForPestAnimal",
                                    "type": "feature"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "calculatedAreaTreatedHa",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    },
                                    "readonly": "readonly"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "calculatedLengthTreatedKm",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    },
                                    "readonly": "readonly"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Please attach mapping details",
                                    "source": "extraMappingDetails",
                                    "type": "document"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Actual area (ha) / length (km) covered by pest animal survey",
                                    "source": "areaTreatedHa",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    }
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "lengthTreatedKm",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    }
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Reason for actual being different to mapped amount",
                                    "source": "mappingNotAlignedReason",
                                    "type": "selectOne"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "placeholder": "Please enter the reason/s the mapping didn't align with the invoiced amount",
                                    "source": "mappingNotAlignedComments",
                                    "type": "textarea",
                                    "rows": 5
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Survey technique",
                                    "source": "emsaProtocol",
                                    "type": "selectOne",
                                    "readonly": "readonly"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Survey technique (if Other)",
                                    "source": "otherEmsaProtocol",
                                    "type": "select2Many"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "surveyMethodology",
                                    "preLabel": "Survey methodology",
                                    "type": "text"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "invoicingThisActivity",
                                    "preLabel": "Are you invoicing for this activity in this reporting period?",
                                    "type": "selectOne"
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "columns": [
                          {
                            "width": "55%",
                            "source": "species",
                            "title": "Target species recorded",
                            "type": "speciesSelect"
                          },
                          {
                            "width": "25%",
                            "source": "individualsOrGroups",
                            "title": "Individuals or groups?",
                            "type": "selectOne"
                          },
                          {
                            "width": "20%",
                            "source": "numberOfIndividualsOrGroups",
                            "title": "Number of individuals / groups in pest animal survey",
                            "type": "number"
                          }
                        ],
                        "userAddedRows": true,
                        "disableTableUpload": false,
                        "source": "pestAnimalSurveySpeciesTable",
                        "type": "table"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Optionally attach photos",
                    "source": "photographicEvidence",
                    "type": "image"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Clarification, if needed",
                    "type": "textarea",
                    "rows": 4,
                    "css": "span8",
                    "source": "comments",
                    "placeholder": "Clarification comments include information for your project manager about the service like:\n • any reported items that are not being invoiced (eg, over-achievement) \n • any extraneous circumstances that affected delivery of the service \n"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<p><b>Available Evidence</b></p>This field is mandatory for all projects as part of the invoicing process. Please list evidence you have retained for this service and provide information to where the evidence is stored (links/file location data). Refer to the Project Service Evidence Guide and the Project Service Summaries for information on the evidence requirements."
                  },
                  {
                    "preLabel": "Data have been uploaded",
                    "source": "dataUploaded",
                    "type": "boolean"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "",
                    "source": "projectAssuranceDetails",
                    "type": "textarea",
                    "rows": 4,
                    "placeholder": "List the documentary evidence you have available for this project service. Include specifically, the document titles and location (e.g. internal IT network pathway, URLs) to assist with locating this material for future audits/assurance purposes."
                  }
                ]
              },
              {
                "type": "table",
                "source": "assuranceDocuments",
                "userAddedRows": true,
                "disableTableUpload": true,
                "columns": [
                  {
                    "title": "Attached documents",
                    "source": "attachments",
                    "type": "document"
                  }
                ]
              }
            ]
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtPestAnimalSurvey",
      "optional": true,
      "optionalQuestionText": null,
      "title": "Pest animal survey",
      "collapsibleHeading": null,
      "name": "NHT - Pest animal survey",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "dataModel": [
          {
            "name": "plantSurvivalSurveys",
            "dataType": "list",
            "minSize": 1,
            "columns": [
              {
                "name": "relatedOutcomes",
                "dataType": "text",
                "description": "Select the outcome/s as defined in your MERI plan that this service was delivered to achieve.",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "value",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "context-path": "outcomes"
                    }
                  }
                }
              },
              {
                "dataType": "text",
                "name": "surveyObjective",
                "description": "What the survey aim to capture? How will the information obtained from the survey be used?",
                "validate": "required,maxSize[3000]"
              },
              {
                "dataType": "number",
                "name": "numberOfSurveys",
                "validate": "required,min[1],max[1]",
                "defaultValue": 1,
                "readonly": true
              },
              {
                "dataType": "list",
                "name": "plantSurvivalDataSets",
                "columns": [
                  {
                    "name": "dataSetId",
                    "dataType": "text",
                    "description": "This section will require the Data Set Name so the Metadata fields in the Data Set Summary tab should be filled out before the Outcome Report is due. More than one dataset if relevant for this Project Baseline could be selected.",
                    "validate": "required",
                    "constraints": {
                      "textProperty": "name",
                      "valueProperty": "dataSetId",
                      "excludePath": "plantSurvivalSurveys.plantSurvivalDataSets.dataSetId",
                      "type": "pre-populated",
                      "config": {
                        "source": {
                          "context-path": "owner.custom.dataSets"
                        },
                        "filter": {
                          "namespace": "dataSet",
                          "expression": "dataSet.serviceId == 24 and dataSet.progress == 'finished' and deepEquals(relatedOutcomes,dataSet.outcomesLabel)"
                        }
                      }
                    },
                    "behaviour": [
                      {
                        "type": "pre_populate",
                        "config": {
                          "waitForInitialisation": true,
                          "source": {
                            "url": "/site/geojson",
                            "params": [
                              {
                                "expression": "x=find(owner.custom.dataSets, \"dataSetId\", dataSetId); x.siteId",
                                "name": "id",
                                "type": "computed",
                                "required": true
                              }
                            ]
                          },
                          "target":  {
                            "type": "singleValue",
                            "name": "sitesCoveredForPlantSurvival"
                          }
                        }
                      }
                    ]
                  },
                  {
                    "columns": [
                      {
                        "dataType": "species",
                        "name": "species",
                        "validate": "required"
                      },
                      {
                        "dataType": "text",
                        "name": "plantingMethod",
                        "constraints": [
                          "Direct seeding",
                          "Tubestock/Seedling planting"
                        ],
                        "validate": "required"
                      },
                      {
                        "dataType": "number",
                        "name": "hectaresPlanted",
                        "validate": "required,min[0]"
                      },
                      {
                        "dataType": "number",
                        "name": "kilosOfDirectSeeding",
                        "validate": "required,min[0]"
                      },
                      {
                        "dataType": "number",
                        "name": "numberPlanted",
                        "validate": "required,min[0]"
                      },
                      {
                        "dataType": "text",
                        "name": "individualsOrGroups",
                        "constraints": [
                          "Individuals",
                          "Groups"
                        ],
                        "validate": "required"
                      },
                      {
                        "dataType": "number",
                        "name": "numberOfIndividualsGroupsSurvived",
                        "validate": "required,min[0]"
                      },
                      {
                        "dataType": "number",
                        "name": "survivalRate",
                        "validate": "required,min[0]"
                      }
                    ],
                    "dataType": "list",
                    "name": "plantSurvivalSurveySpeciesTable"
                  },
                  {
                    "dataType": "text",
                    "name": "baselineOrIndicatorSurvey",
                    "description": "",
                    "constraints": [
                      "Baseline",
                      "Indicator"
                    ],
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); baselineIndicatorMapping.lookupValue(x.type)"
                    }
                  },
                  {
                    "name": "projectBaselines",
                    "dataType": "stringList",
                    "description": "Select the relevant Project Baseline as listed in the Monitoring Methodology section of the MERI Plan.",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.baselines"
                    },
                    "constraints": {
                      "textProperty": "baseline",
                      "valueProperty": "code",
                      "type": "pre-populated",
                      "excludePath": "projectBaselines",
                      "config": {
                        "source": {
                          "context-path": "owner.custom.details.baseline.rows"
                        }
                      }
                    }
                  },
                  {
                    "name": "investmentPriorities2",
                    "dataType": "stringList",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.investmentPriorities"
                    },
                    "constraints": {
                      "type": "pre-populated",
                      "config": {
                        "source": {
                          "params": [
                            {
                              "expression": "owner.projectId",
                              "name": "id",
                              "type": "computed"
                            }
                          ],
                          "url": "/project/listProjectInvestmentPriorities/"
                        }
                      }
                    }
                  },
                  {
                    "dataType": "text",
                    "name": "otherInvestmentPriority",
                    "behaviour": [
                      {
                        "type": "enable",
                        "condition": "\"Other\" in investmentPriorities2"
                      }
                    ]
                  },
                  {
                    "dataType": "date",
                    "name": "activitiesStartDate",
                    "description": "Specific the dates these events were held on.",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.startDate"
                    }
                  },
                  {
                    "dataType": "date",
                    "name": "activitiesEndDate",
                    "description": "Specific the dates these events were held on.",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.endDate"
                    }
                  },
                  {
                    "dataType": "feature",
                    "name": "sitesCoveredForPlantSurvival",
                    "description": "Mapping field to be done and Area field be auto-calculated from mapping."
                  },
                  {
                    "computed": {
                      "expression": "$geom.areaHa(sitesCoveredForPlantSurvival)"
                    },
                    "dataType": "number",
                    "name": "calculatedAreaTreatedHa",
                    "units": "ha",
                    "decimalPlaces": 3
                  },
                  {
                    "computed": {
                      "expression": "$geom.lengthKm(sitesCoveredForPlantSurvival)"
                    },
                    "dataType": "number",
                    "name": "calculatedLengthTreatedKm",
                    "units": "km",
                    "decimalPlaces": 3,
                    "behaviour": [
                      {
                        "condition": "lengthTreatedKm > 0",
                        "type": "conditional_validation",
                        "value": {
                          "message": "The managed length must be mapped",
                          "validate": "required,min[0.0001]"
                        }
                      }
                    ]
                  },
                  {
                    "defaultValue": {
                      "type": "computed",
                      "expression": "calculatedAreaTreatedHa"
                    },
                    "dataType": "number",
                    "name": "areaTreatedHa",
                    "description": "Manually enter correct figure for this reporting period if different to mapped value.",
                    "units": "ha",
                    "decimalPlaces": 3,
                    "validate": "required,min[0]"
                  },
                  {
                    "dataType": "text",
                    "name": "mappingNotAlignedReason",
                    "constraints": [
                      "Mapped area simplifies more complex area/s where work was undertaken during this period",
                      "Other"
                    ],
                    "validate": "required",
                    "behaviour": [
                      {
                        "condition": "not (within(calculatedAreaTreatedHa, areaTreatedHa, 0.1))",
                        "type": "visible"
                      }
                    ]
                  },
                  {
                    "dataType": "text",
                    "name": "mappingNotAlignedComments",
                    "validate": "required,maxSize[100]",
                    "behaviour": [
                      {
                        "type": "visible",
                        "condition": "\"Other\" == mappingNotAlignedReason"
                      }
                    ]
                  },
                  {
                    "dataType": "document",
                    "name": "extraMappingDetails",
                    "validate": "required",
                    "description": "Please fill in the Mapped/Actual/Invoice fields before attaching a document here. If those fields match this field will be void. <br/>If any of these fields differ please attach your organisation's detailed map for the area, covered by this project service - during reporting period (include the scale measure for each map).",
                    "behaviour": [
                      {
                        "condition": "not (within(calculatedAreaTreatedHa, areaTreatedHa, 0.1)) or roundTo(areaTreatedHa, 2) != roundTo(areaInvoicedTreatedHa, 2)",
                        "type": "visible"
                      }
                    ]
                  },
                  {
                    "dataType": "number",
                    "name": "areaInvoicedTreatedHa",
                    "units": "ha",
                    "decimalPlaces": 3,
                    "validate": [
                      {
                        "rule": "min[0]"
                      },
                      {
                        "rule": "max",
                        "param": {
                          "type": "computed",
                          "expression": "areaTreatedHa"
                        }
                      }
                    ]
                  },
                  {
                    "dataType": "text",
                    "name": "invoicedNotActualReason",
                    "constraints": [
                      "Work was undertaken over a greater area than will be invoiced for",
                      "Other"
                    ],
                    "validate": "required",
                    "behaviour": [
                      {
                        "condition": "roundTo(areaTreatedHa, 2) != roundTo(areaInvoicedTreatedHa, 2)",
                        "type": "visible"
                      }
                    ]
                  },
                  {
                    "dataType": "text",
                    "name": "invoicedNotActualComments",
                    "behaviour": [
                      {
                        "type": "visible",
                        "condition": "\"Other\" == invoicedNotActualReason"
                      }
                    ],
                    "validate": "required,maxSize[300]"
                  },
                  {
                    "defaultValue": {
                      "type": "computed",
                      "expression": "$geom.lengthKm(sitesCoveredForPlantSurvival)"
                    },
                    "dataType": "number",
                    "name": "lengthTreatedKm",
                    "units": "km",
                    "decimalPlaces": 3,
                    "validate": [
                      {
                        "rule": "min",
                        "param": {
                          "type": "computed",
                          "expression": "$geom.lengthKm(sitesCoveredForPlantSurvival)*0.9"
                        }
                      },
                      {
                        "rule": "max",
                        "param": {
                          "type": "computed",
                          "expression": "$geom.lengthKm(sitesCoveredForPlantSurvival)*1.1"
                        }
                      }
                    ]
                  },
                  {
                    "dataType": "text",
                    "description": "Select the technique used to conduct the survey. If the EMSA Application tool was not used, you should select 'Other'.",
                    "name": "emsaProtocol",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.protocol"
                    },
                    "constraints": {
                      "textProperty": "label",
                      "valueProperty": "value",
                      "type": "pre-populated",
                      "config": {
                        "source": {
                          "context-path": "owner.protocols"
                        }
                      }
                    }
                  },
                  {
                    "dataType": "stringList",
                    "description": "Describe the technique (if Other) was selected.",
                    "name": "otherEmsaProtocol",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.methods"
                    },
                    "validate": "required"
                  },
                  {
                    "dataType": "text",
                    "name": "surveyMethodology",
                    "description": "Provide more details on what is being done.",
                    "validate": "required,maxSize[3000]",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.methodDescription"
                    }
                  },
                  {
                    "dataType": "text",
                    "name": "invoicingThisActivity",
                    "constraints": [
                      "Yes",
                      "No"
                    ],
                    "validate": "required"
                  }
                ],
                "minSize": 1
              }
            ]
          },
          {
            "dataType": "lookupTable",
            "name": "baselineIndicatorMapping",
            "config": {
              "source": {
                "literal": {
                  "Baseline dataset associated with a project outcome": "Baseline",
                  "Project progress dataset that is tracking change against an established project baseline dataset": "Indicator"
                }
              }
            }
          },
          {
            "columns": [
              {
                "dataType": "text",
                "name": "participationIndividualsOrGroups",
                "description": "Once Individuals or groups is selected, the related number field in the next two columns will become editable to report.",
                "constraints": [
                  "Individuals",
                  "Groups"
                ],
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "participationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "participationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ]
              },
              {
                "dataType": "number",
                "name": "firstNationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "param": {
                      "expression": "participationIndividualNumber",
                      "type": "computed"
                    },
                    "rule": "max"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "firstNationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ]
              },
              {
                "dataType": "text",
                "name": "participationDetails",
                "validate": "required, maxSize[3000]"
              }
            ],
            "dataType": "list",
            "name": "participationInformationTable"
          },
          {
            "dataType": "number",
            "name": "totalSurveyIndicator",
            "validate": "required,min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(plantSurvivalSurveys, \"1\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalSurveyIndicatorInvoiced",
            "validate": [
              {
                "param": {
                  "expression": "totalSurveyIndicator",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": 0
          },
          {
            "dataType": "text",
            "name": "comments",
            "validate": "maxSize[1500]"
          },
          {
            "dataType": "image",
            "name": "photographicEvidence"
          },
          {
            "dataType": "boolean",
            "name": "dataUploaded",
            "description": ""
          },
          {
            "dataType": "text",
            "name": "projectAssuranceDetails",
            "description": ""
          },
          {
            "dataType": "list",
            "name": "assuranceDocuments",
            "columns": [
              {
                "dataType": "document",
                "name": "attachments",
                "description": "Please attach any Evidence of Service Delivery here."
              }
            ]
          }
        ],
        "modelName": "NHT - Plant survival survey",
        "title": "Seed Germination/Plant Survival Survey",
        "viewModel": [
          {
            "type": "section",
            "items": [
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<h3>Participation information</h3>"
                  }
                ]
              },
              {
                "columns": [
                  {
                    "width": "10%",
                    "source": "participationIndividualsOrGroups",
                    "title": "Are individuals or groups delivering this service?",
                    "type": "selectOne"
                  },
                  {
                    "width": "20%",
                    "type": "col",
                    "title": "Total number of people delivering this service <br>(including First Nations people)<b style=\"color:red\">*</b>",
                    "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                    "items": [
                      {
                        "source": "participationIndividualNumber",
                        "type": "number"
                      },
                      {
                        "source": "participationGroupNumber",
                        "type": "selectOne"
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "width": "20%",
                    "title": "Total number of First Nations people delivering this service<b style=\"color:red\">*</b>",
                    "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                    "items": [
                      {
                        "source": "firstNationIndividualNumber",
                        "type": "number"
                      },
                      {
                        "source": "firstNationGroupNumber",
                        "type": "selectOne"
                      }
                    ]
                  },
                  {
                    "source": "participationDetails",
                    "rows": 4,
                    "title": "If no First Nations people participated in the delivery of this service, <br>what are the reasons? If there was participation, please provide details.",
                    "helpText": "If there were no First Nations people participating in the delivery of this service, please explain the reasons. If there were First Nations people involved, please outline how they were involved.",
                    "type": "textarea"
                  }
                ],
                "userAddedRows": false,
                "disableTableUpload": false,
                "source": "participationInformationTable",
                "type": "table"
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<h3>Survey information</h3><p><b>Before completing this section, please ensure you have created a Data Set Summary information for every data set produced by the surveys you intend to report</b></p><ul><li>Each survey reported must relate to a combination of outcomes as described in your MERI plan</li><li>Each Data Set Summary recorded for a survey must be addressing the same outcomes as selected for the survey</li><li>If a survey produced more than one data set, use the New Data Set button to add each Data Set Summary under your survey</li><li>A single survey can be made up of multiple dataset</li></ul>"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<h3>Totals Summary</h3>"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "col",
                    "css": "span4 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(i)  Total Number of  indicator seed germination/plant survival surveys completed for this reporting period",
                            "source": "totalSurveyIndicator",
                            "type": "number"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span4 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(ii) Total Number of indicator seed germination/plant survival surveys <u><i>invoiced</i></u> for this reporting period",
                            "source": "totalSurveyIndicatorInvoiced",
                            "type": "number"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "addRowText": "Add survey",
                "removeRowText": "Delete this survey",
                "userAddedRows": true,
                "source": "plantSurvivalSurveys",
                "type": "repeat",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "type": "col",
                        "items": [
                          {
                            "source": "relatedOutcomes",
                            "type": "selectOne",
                            "preLabel": "Which outcome statement/s relates to this survey?"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "source": "surveyObjective",
                        "preLabel": "Survey objective",
                        "type": "text"
                      }
                    ]
                  },
                  {
                    "type": "repeat",
                    "source": "plantSurvivalDataSets",
                    "userAddedRows": true,
                    "addRowText": "New data set",
                    "removeRowText": "Delete this data set",
                    "items": [
                      {
                        "type": "row",
                        "css": "border-bottom",
                        "items": [
                          {
                            "type": "col",
                            "items": [
                              {
                                "source": "dataSetId",
                                "type": "selectOne",
                                "preLabel": "Please select the data set produced by this survey.  Note it must have already been entered on the Data Set Summary tab."
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "projectBaselines",
                                    "type": "selectMany",
                                    "preLabel": "Which project baseline/s relate to this survey?",
                                    "readonly": "readonly"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "investmentPriorities2",
                                    "preLabel": "Which investment priority does this activity relate to?",
                                    "type": "select2Many"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "otherInvestmentPriority",
                                    "type": "text"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Activity start date",
                                    "source": "activitiesStartDate",
                                    "type": "date"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Activity end date",
                                    "source": "activitiesEndDate",
                                    "type": "date"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Sites covered for plant survival survey",
                                    "source": "sitesCoveredForPlantSurvival",
                                    "type": "feature"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "calculatedAreaTreatedHa",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    },
                                    "readonly": "readonly"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Please attach mapping details",
                                    "source": "extraMappingDetails",
                                    "type": "document"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Actual area (ha) covered by plant survival survey",
                                    "helpText": "Manually enter correct figure for this reporting period if different to mapped value.",
                                    "source": "areaTreatedHa",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    }
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Reason for actual being different to mapped amount",
                                    "source": "mappingNotAlignedReason",
                                    "type": "selectOne"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "placeholder": "Please enter the reason/s the mapping didn't align with the invoiced amount",
                                    "source": "mappingNotAlignedComments",
                                    "type": "textarea",
                                    "rows": 5
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "css": "span3",
                            "type": "col",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Invoiced area (ha) of plant survival survey",
                                    "helpText": "Enter the amount you will invoice for during this reporting period.",
                                    "source": "areaInvoicedTreatedHa",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    }
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Reason for invoiced amount being different to actual amount",
                                    "source": "invoicedNotActualReason",
                                    "type": "selectOne"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "placeholder": "Please enter the reason/s the mapping didn't align with the invoiced amount",
                                    "source": "invoicedNotActualComments",
                                    "type": "textarea",
                                    "rows": 5
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Survey technique",
                                    "source": "emsaProtocol",
                                    "type": "selectOne",
                                    "readonly": "readonly"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Survey technique (if Other)",
                                    "source": "otherEmsaProtocol",
                                    "type": "select2Many"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "surveyMethodology",
                                    "preLabel": "Survey methodology",
                                    "type": "text"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "invoicingThisActivity",
                                    "preLabel": "Are you invoicing for this activity in this reporting period?",
                                    "type": "selectOne"
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "columns": [
                          {
                            "width": "30%",
                            "source": "species",
                            "title": "Target species recorded",
                            "type": "speciesSelect"
                          },
                          {
                            "width": "20%",
                            "title": "Planting method",
                            "source": "plantingMethod",
                            "type": "selectOne"
                          },
                          {
                            "width": "10%",
                            "source": "hectaresPlanted",
                            "title": "How many hectares planted?",
                            "type": "number"
                          },
                          {
                            "width": "10%",
                            "source": "kilosOfDirectSeeding",
                            "title": "Number of kilos for direct seeding",
                            "type": "number"
                          },
                          {
                            "width": "10%",
                            "source": "numberPlanted",
                            "title": "Number planted (Tubestock/Seedling planting)",
                            "type": "number"
                          },
                          {
                            "width": "10%",
                            "source": "individualsOrGroups",
                            "title": "Individuals / groups",
                            "type": "selectOne"
                          },
                          {
                            "width": "10%",
                            "source": "numberOfIndividualsGroupsSurvived",
                            "title": "Number of individuals / groups survived",
                            "type": "number"
                          },
                          {
                            "width": "10%",
                            "source": "survivalRate",
                            "title": "Survival Rate %",
                            "type": "number"
                          }
                        ],
                        "userAddedRows": true,
                        "disableTableUpload": false,
                        "source": "plantSurvivalSurveySpeciesTable",
                        "type": "table"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Optionally attach photos",
                    "source": "photographicEvidence",
                    "type": "image"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Clarification, if needed",
                    "type": "textarea",
                    "rows": 4,
                    "css": "span8",
                    "source": "comments",
                    "placeholder": "Clarification comments include information for your project manager about the service like:\n • any reported items that are not being invoiced (eg, over-achievement) \n • any extraneous circumstances that affected delivery of the service \n"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<p><b>Available Evidence</b></p>This field is mandatory for all projects as part of the invoicing process. Please list evidence you have retained for this service and provide information to where the evidence is stored (links/file location data). Refer to the Project Service Evidence Guide and the Project Service Summaries for information on the evidence requirements."
                  },
                  {
                    "preLabel": "Data have been uploaded",
                    "source": "dataUploaded",
                    "type": "boolean"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "",
                    "source": "projectAssuranceDetails",
                    "type": "textarea",
                    "rows": 4,
                    "placeholder": "List the documentary evidence you have available for this project service. Include specifically, the document titles and location (e.g. internal IT network pathway, URLs) to assist with locating this material for future audits/assurance purposes."
                  }
                ]
              },
              {
                "type": "table",
                "source": "assuranceDocuments",
                "userAddedRows": true,
                "disableTableUpload": true,
                "columns": [
                  {
                    "title": "Attached documents",
                    "source": "attachments",
                    "type": "document"
                  }
                ]
              }
            ]
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtPlantSurvivalSurvey",
      "optional": true,
      "optionalQuestionText": null,
      "title": "Plant survival survey",
      "collapsibleHeading": null,
      "name": "NHT - Plant survival survey",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "dataModel": [
          {
            "dataType": "text",
            "name": "participationIndividualsOrGroups",
            "description": "Once Individuals or groups is selected, the related number field in the next two columns will become editable to report.",
            "constraints": [
              "Individuals",
              "Groups"
            ],
            "validate": "required"
          },
          {
            "dataType": "number",
            "name": "participationIndividualNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Individuals\"",
                "type": "enable"
              }
            ],
            "validate": "required,min[0]"
          },
          {
            "dataType": "text",
            "name": "participationGroupNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Groups\"",
                "type": "enable"
              }
            ],
            "constraints": [
              "0",
              "1-10",
              "11-20",
              "21-30",
              "31-40",
              "41-50"
            ],
            "validate": "required"
          },
          {
            "dataType": "number",
            "name": "firstNationIndividualNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Individuals\"",
                "type": "enable"
              }
            ],
            "validate": "required,min[0]"
          },
          {
            "dataType": "text",
            "name": "firstNationGroupNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Groups\"",
                "type": "enable"
              }
            ],
            "constraints": [
              "0",
              "1-10",
              "11-20",
              "21-30",
              "31-40",
              "41-50"
            ],
            "validate": "required"
          },
          {
            "dataType": "text",
            "name": "participationDetails",
            "validate": "maxSize[3000]"
          },
          {
            "dataType": "text",
            "name": "initialOrFollowup",
            "constraints": [
              "Initial",
              "Follow-up"
            ],
            "validate": "required"
          },
          {
            "dataType": "feature",
            "name": "sitesRemediated"
          },
          {
            "computed": {
              "expression": "$geom.areaHa(sitesRemediated)"
            },
            "dataType": "number",
            "name": "calculatedAreaRemediatedHa",
            "units": "ha",
            "decimalPlaces": 3,
            "behaviour": [
              {
                "condition": "areaRemediatedInvoicedHa > 0",
                "type": "conditional_validation",
                "value": {
                  "message": "The remediated area must be mapped",
                  "validate": "required,min[0.0001]"
                }
              }
            ]
          },
          {
            "computed": {
              "expression": "$geom.lengthKm(sitesRemediated)"
            },
            "dataType": "number",
            "name": "calculatedLengthRemediatedKm",
            "units": "km",
            "decimalPlaces": 3,
            "behaviour": [
              {
                "condition": "lengthRemediatedInvoicedKm > 0",
                "type": "conditional_validation",
                "value": {
                  "message": "The remediated length must be mapped",
                  "validate": "required,min[0.0001]"
                }
              }
            ]
          },
          {
            "defaultValue": {
              "expression": "calculatedAreaRemediatedHa",
              "type": "computed"
            },
            "dataType": "number",
            "name": "areaRemediatedHa",
            "units": "ha",
            "decimalPlaces": 3,
            "validate": "required,min[0]"
          },
          {
            "defaultValue": {
              "expression": "calculatedLengthRemediatedKm",
              "type": "computed"
            },
            "dataType": "number",
            "name": "lengthRemediatedKm",
            "units": "km",
            "decimalPlaces": 3,
            "validate": "required,min[0]"
          },
          {
            "dataType": "text",
            "name": "mappingNotAlignedReason",
            "behaviour": [
              {
                "condition": "not (within(calculatedAreaRemediatedHa, areaRemediatedHa, 0.1) and within(calculatedLengthRemediatedKm, lengthRemediatedKm, 0.1))",
                "type": "visible"
              }
            ],
            "constraints": [
              "Mapped area simplifies more complex area/s where work was undertaken during this period",
              "Other"
            ],
            "validate": "required"
          },
          {
            "dataType": "text",
            "name": "mappingNotAlignedComments",
            "behaviour": [
              {
                "condition": "\"Other\" == mappingNotAlignedReason",
                "type": "visible"
              }
            ],
            "validate": "required,maxSize[300]"
          },
          {
            "dataType": "document",
            "name": "extraMappingDetails",
            "description": "Please fill in the Mapped/Actual/Invoice fields before attaching a document here. If those fields match this field will be void. <br/>If any of these fields differ please attach your organisation's detailed map for the area, covered by this project service - during reporting period (include the scale measure for each map).",
            "behaviour": [
              {
                "condition": "not (within(calculatedAreaRemediatedHa, areaRemediatedHa, 0.1) and within(calculatedLengthRemediatedKm, lengthRemediatedKm, 0.1)) or roundTo(areaRemediatedHa, 2) != roundTo(areaRemediatedInvoicedHa, 2) or roundTo(lengthRemediatedKm, 2) != roundTo(lengthRemediatedInvoicedKm, 2)",
                "type": "visible"
              }
            ],
            "validate": "required"
          },
          {
            "dataType": "number",
            "name": "areaRemediatedInvoicedHa",
            "units": "ha",
            "decimalPlaces": 3,
            "validate": [
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "areaRemediatedHa",
                  "type": "computed"
                },
                "rule": "max"
              }
            ]
          },
          {
            "dataType": "number",
            "name": "lengthRemediatedInvoicedKm",
            "units": "km",
            "decimalPlaces": 3,
            "validate": [
              {
                "rule": "min[0]"
              },
              {
                "param": {
                  "expression": "lengthRemediatedKm",
                  "type": "computed"
                },
                "rule": "max"
              }
            ]
          },
          {
            "dataType": "text",
            "name": "invoicedNotActualReason",
            "behaviour": [
              {
                "condition": "roundTo(areaRemediatedHa, 2) != roundTo(areaRemediatedInvoicedHa, 2) or roundTo(lengthRemediatedKm, 2) != roundTo(lengthRemediatedInvoicedKm, 2)",
                "type": "visible"
              }
            ],
            "constraints": [
              "Work was undertaken over a greater area than will be invoiced for",
              "Other"
            ],
            "validate": "required"
          },
          {
            "dataType": "text",
            "name": "invoicedNotActualComments",
            "behaviour": [
              {
                "condition": "\"Other\" == invoicedNotActualReason",
                "type": "visible"
              }
            ],
            "validate": "required,maxSize[300]"
          },
          {
            "columns": [
              {
                "name": "relatedOutcomes",
                "dataType": "text",
                "description": "Select the outcome/s as defined in your MERI plan that this service was delivered to achieve.",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "label",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "url": "/project/outcomesByScores",
                      "params": [
                        {
                          "expression": "owner.projectId",
                          "name": "id",
                          "type": "computed"
                        },
                        {
                          "expression": "scores",
                          "name": "scoreIds",
                          "type": "computed"
                        }
                      ]
                    }
                  }
                }
              },
              {
                "name": "investmentPriorities2",
                "dataType": "stringList",
                "validate": "required",
                "constraints": {
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "params": [
                        {
                          "expression": "owner.projectId",
                          "name": "id",
                          "type": "computed"
                        }
                      ],
                      "url": "/project/listProjectInvestmentPriorities/"
                    }
                  }
                }
              },
              {
                "dataType": "text",
                "name": "otherInvestmentPriority",
                "behaviour": [
                  {
                    "type": "enable",
                    "condition": "\"Other\" in investmentPriorities2"
                  }
                ]
              },
              {
                "dataType": "date",
                "name": "activitiesStartDate",
                "description": "Specific the dates these events were held on.",
                "validate": "required"
              },
              {
                "dataType": "date",
                "name": "activitiesEndDate",
                "description": "Specific the dates these events were held on.",
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "numberOfStructuresInstalled",
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "typesOfStructuresInstalled",
                "description": "",
                "constraints": [
                  "Access control",
                  "Bank grooming",
                  "Flow gauging stations",
                  "Fords",
                  "Culverts",
                  "Revegetation",
                  "Weirs",
                  "Other"
                ],
                "validate": "required"
              },
              {
                "dataType": "text",
                "name": "otherStructuresType",
                "behaviour": [
                  {
                    "condition": "typesOfStructuresInstalled == \"Other\"",
                    "type": "enable"
                  }
                ],
                "validate": "required,maxSize[100]"
              },
              {
                "dataType": "text",
                "name": "remediationType",
                "description": "",
                "constraints": [
                  "Access control",
                  "Bank grooming",
                  "Flow gauging stations",
                  "Fords",
                  "Culverts",
                  "Revegetation",
                  "Weirs",
                  "Other"
                ],
                "validate": "required"
              },
              {
                "dataType": "text",
                "name": "otherRemediationType",
                "behaviour": [
                  {
                    "condition": "remediationType == \"Other\"",
                    "type": "enable"
                  }
                ],
                "validate": "required,maxSize[100]"
              },
              {
                "dataType": "feature",
                "name": "offSiteBenefitSites"
              },
              {
                "defaultValue": {
                  "expression": "$geom.areaHa(offSiteBenefitSites)",
                  "type": "computed"
                },
                "dataType": "number",
                "name": "offSiteBenefitAreaHa",
                "units": "ha",
                "decimalPlaces": 3,
                "validate": "min[0]"
              },
              {
                "dataType": "text",
                "name": "evidenceOfBenefit",
                "validate": "maxSize[300]"
              }
            ],
            "dataType": "list",
            "name": "remediationDetails"
          },
          {
            "dataType": "text",
            "name": "comments",
            "validate": "maxSize[1500]"
          },
          {
            "dataType": "image",
            "name": "photographicEvidence"
          },
          {
            "dataType": "boolean",
            "name": "dataUploaded",
            "description": "<ul><li>Tick box to confirm data has been uploaded</li><li>URL Link (mandatory if below is ticked) in available evidence</li></ul>"
          },
          {
            "name": "projectAssuranceDetails",
            "dataType": "text",
            "validate": "required,maxSize[5000]",
            "behaviour": [
              {
                "condition": "dataUploaded == true",
                "type": "enable"
              }
            ]
          },
          {
            "dataType": "list",
            "name": "assuranceDocuments",
            "columns": [
              {
                "dataType": "document",
                "name": "attachments",
                "description": "Please attach any Evidence of Service Delivery here."
              }
            ]
          }
        ],
        "modelName": "NHT - Remediating riparian and aquatic areas",
        "title": "Remediating Riparian and Aquatic Areas",
        "viewModel": [
          {
            "columns": [
              {
                "width": "10%",
                "source": "participationIndividualsOrGroups",
                "title": "Are individuals or groups delivering this service?",
                "type": "selectOne"
              },
              {
                "width": "20%",
                "type": "col",
                "title": "Total number of people delivering this service <br>(including First Nations people)",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "participationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "participationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "type": "col",
                "width": "20%",
                "title": "Total number of First Nations people delivering this service ",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "firstNationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "firstNationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "source": "participationDetails",
                "rows": 4,
                "title": "If no First Nations people participated in the delivery of this service, <br>what are the reasons? If there was participation, please provide details.",
                "helpText": "If there were no First Nations people participating in the delivery of this service, please explain the reasons. If there were First Nations people involved, please outline how they were involved.",
                "type": "textarea"
              }
            ],
            "userAddedRows": false,
            "disableTableUpload": false,
            "source": "",
            "type": "table"
          },
          {
            "type": "section",
            "items": [
              {
                "type": "row",
                "css": "border-bottom",
                "items": [
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "initialOrFollowup",
                            "type": "selectOne",
                            "preLabel": "Initial or follow-up?"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "sitesRemediated",
                            "type": "feature",
                            "preLabel": "Site/s covered by remediation"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "calculatedAreaRemediatedHa",
                            "type": "number",
                            "readonly": true,
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "calculatedLengthRemediatedKm",
                            "type": "number",
                            "readonly": true,
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Please attach mapping details",
                            "source": "extraMappingDetails",
                            "type": "document"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "helpText": "Enter the amount you will invoice for during this reporting period.",
                            "preLabel": "Actual area (ha) / length (km) being remediated",
                            "source": "areaRemediatedHa",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "lengthRemediatedKm",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Reason for actual being different to mapped amount",
                            "source": "mappingNotAlignedReason",
                            "type": "selectOne"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "helpText": "Enter the amount you will invoice for during this reporting period.",
                            "preLabel": "Invoiced area (ha) / length (km) being remediated",
                            "source": "areaRemediatedInvoicedHa",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "lengthRemediatedInvoicedKm",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Reason for invoiced amount being different to actual amount",
                            "source": "invoicedNotActualReason",
                            "type": "selectOne"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "placeholder": "Please enter the reason/s the mapping didn't align with the invoiced amount",
                            "source": "invoicedNotActualComments",
                            "type": "textarea"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "columns": [
                  {
                    "source": "relatedOutcomes",
                    "type": "selectOne",
                    "width": "10%",
                    "title": "Which outcome statement/s relates to this survey?"
                  },
                  {
                    "width": "15%",
                    "type": "col",
                    "title": "Which investment priority does this activity relate to?",
                    "items": [
                      {
                        "source": "investmentPriorities2",
                        "type": "select2Many"
                      },
                      {
                        "source": "otherInvestmentPriority",
                        "type": "text"
                      }
                    ]
                  },
                  {
                    "title": "Activity start date",
                    "source": "activitiesStartDate",
                    "type": "date",
                    "width": "10%"
                  },
                  {
                    "title": "Activity end date",
                    "source": "activitiesEndDate",
                    "type": "date",
                    "width": "10%"
                  },
                  {
                    "width": "10%",
                    "source": "numberOfStructuresInstalled",
                    "type": "number",
                    "title": "Number of structures installed"
                  },
                  {
                    "width": "15%",
                    "type": "col",
                    "title": "Type of structures installed",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "typesOfStructuresInstalled",
                            "type": "select2"
                          }
                        ]
                      },
                      {
                        "source": "otherStructuresType",
                        "placeholder": "Type of structures (if Other)",
                        "type": "text"
                      }
                    ]
                  },
                  {
                    "width": "15%",
                    "type": "col",
                    "title": "Type of remediation",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "remediationType",
                            "type": "select2"
                          }
                        ]
                      },
                      {
                        "source": "otherRemediationType",
                        "placeholder": "Type of remediation (if Other)",
                        "type": "text"
                      }
                    ]
                  },
                  {
                    "width": "15%",
                    "type": "col",
                    "title": "Please identify any area/s that have shown evidence of off-site benefits",
                    "items": [
                      {
                        "source": "offSiteBenefitSites",
                        "type": "feature"
                      },
                      {
                        "source": "offSiteBenefitAreaHa",
                        "title": "Area (ha) evident of improved remediation",
                        "type": "number",
                        "displayOptions": {
                          "displayUnits": true
                        }
                      },
                      {
                        "source": "evidenceOfBenefit",
                        "placeholder": "Please provide a description on the evidence available to reflect this benefit",
                        "type": "textarea"
                      }
                    ]
                  }
                ],
                "userAddedRows": true,
                "source": "remediationDetails",
                "type": "table"
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Optionally attach photos",
                    "source": "photographicEvidence",
                    "type": "image"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Clarification, if needed",
                    "type": "textarea",
                    "rows": 4,
                    "css": "span8",
                    "source": "comments",
                    "placeholder": "Clarification comments include information for your project manager about the service like:\n • any reported items that are not being invoiced (eg, over-achievement) \n • any extraneous circumstances that affected delivery of the service \n"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<p><b>Available Evidence</b></p>This field is mandatory for all projects as part of the invoicing process. Please list evidence you have retained for this service and provide information to where the evidence is stored (links/file location data). Refer to the Project Service Evidence Guide and the Project Service Summaries for information on the evidence requirements.<b style=\"color:red\">*</b>"
                  },
                  {
                    "preLabel": "Data have been uploaded",
                    "source": "dataUploaded",
                    "type": "boolean"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "",
                    "source": "projectAssuranceDetails",
                    "type": "textarea",
                    "rows": 4,
                    "placeholder": "List the documentary evidence you have available for this project service. Include specifically, the document titles and location (e.g. internal IT network pathway, URLs) to assist with locating this material for future audits/assurance purposes."
                  }
                ]
              },
              {
                "type": "table",
                "source": "assuranceDocuments",
                "userAddedRows": true,
                "disableTableUpload": true,
                "columns": [
                  {
                    "title": "Attached documents",
                    "source": "attachments",
                    "type": "document"
                  }
                ]
              }
            ]
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtRemediatingRiparianAndAquaticAreas",
      "optional": true,
      "optionalQuestionText": null,
      "title": "Remediating riparian and aquatic areas",
      "collapsibleHeading": null,
      "name": "NHT - Remediating riparian and aquatic areas",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "dataModel": [
          {
            "columns": [
              {
                "dataType": "text",
                "name": "initialOrFollowup",
                "constraints": [
                  "Initial",
                  "Follow-up"
                ],
                "validate": "required"
              },
              {
                "dataType": "feature",
                "name": "sitesTreated"
              },
              {
                "computed": {
                  "expression": "$geom.areaHa(sitesTreated)"
                },
                "dataType": "number",
                "name": "siteCalculatedAreaHa",
                "units": "ha",
                "decimalPlaces": 3,
                "behaviour": [
                  {
                    "condition": "areaInvoicedHa > 0",
                    "type": "conditional_validation",
                    "value": {
                      "message": "The treated area must be mapped",
                      "validate": "required,min[0.0001]"
                    }
                  }
                ]
              },
              {
                "computed": {
                  "expression": "$geom.lengthKm(sitesTreated)"
                },
                "dataType": "number",
                "name": "siteCalculatedLengthKm",
                "units": "km",
                "decimalPlaces": 3,
                "behaviour": [
                  {
                    "condition": "lengthInvoicedKm > 0",
                    "type": "conditional_validation",
                    "value": {
                      "message": "The treated length must be mapped",
                      "validate": "required,min[0.0001]"
                    }
                  }
                ]
              },
              {
                "defaultValue": {
                  "expression": "$geom.areaHa(sitesTreated)",
                  "type": "computed"
                },
                "dataType": "number",
                "name": "areaTreatedHa",
                "units": "ha",
                "decimalPlaces": 3,
                "validate": "required,min[0]"
              },
              {
                "defaultValue": {
                  "expression": "$geom.lengthKm(sitesTreated)",
                  "type": "computed"
                },
                "dataType": "number",
                "name": "lengthTreatedKm",
                "units": "km",
                "decimalPlaces": 3,
                "validate": "required,min[0]"
              },
              {
                "dataType": "number",
                "name": "areaInvoicedHa",
                "units": "ha",
                "decimalPlaces": 3,
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "param": {
                      "expression": "areaTreatedHa",
                      "type": "computed"
                    },
                    "rule": "max"
                  }
                ]
              },
              {
                "dataType": "number",
                "name": "lengthInvoicedKm",
                "units": "km",
                "decimalPlaces": 3,
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "param": {
                      "expression": "lengthTreatedKm",
                      "type": "computed"
                    },
                    "rule": "max"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedReason",
                "behaviour": [
                  {
                    "condition": "not (within(areaTreatedHa, siteCalculatedAreaHa, 0.1) and within(lengthTreatedKm, siteCalculatedLengthKm, 0.1))",
                    "type": "if"
                  }
                ],
                "constraints": [
                  "Mapped area simplifies more complex area/s where work was undertaken during this period",
                  "Other"
                ],
                "validate": "required"
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedComments",
                "behaviour": [
                  {
                    "condition": "\"Other\" == mappingNotAlignedReason",
                    "type": "if"
                  }
                ],
                "validate": "required,maxSize[300]"
              },
              {
                "dataType": "text",
                "name": "invoicedNotActualReason",
                "behaviour": [
                  {
                    "condition": "roundTo(areaTreatedHa, 2) != roundTo(areaInvoicedHa, 2) or roundTo(lengthTreatedKm, 2) != roundTo(lengthInvoicedKm, 2)",
                    "type": "visible"
                  }
                ],
                "constraints": [
                  "Work was undertaken over a greater area than will be invoiced for",
                  "Other"
                ],
                "validate": "required"
              },
              {
                "dataType": "text",
                "name": "invoicedNotActualComments",
                "behaviour": [
                  {
                    "condition": "\"Other\" == invoicedNotActualReason",
                    "type": "if"
                  }
                ],
                "validate": "required,maxSize[300]"
              },
              {
                "dataType": "document",
                "name": "extraMappingDetails",
                "description": "Please fill in the Mapped/Actual/Invoice fields before attaching a document here. If those fields match this field will be void. <br/>If any of these fields differ please attach your organisation's detailed map for the area, covered by this project service - during reporting period (include the scale measure for each map).",
                "behaviour": [
                  {
                    "condition": "not (within(areaTreatedHa, siteCalculatedAreaHa, 0.1) and within(lengthTreatedKm, siteCalculatedLengthKm, 0.1)) or roundTo(areaTreatedHa, 2) != roundTo(areaInvoicedHa, 2) or roundTo(lengthTreatedKm, 2) != roundTo(lengthInvoicedKm, 2)",
                    "type": "if"
                  }
                ],
                "validate": "required"
              },
              {
                "name": "relatedOutcomes",
                "dataType": "text",
                "description": "Select the outcome/s as defined in your MERI plan that this service was delivered to achieve.",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "label",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "url": "/project/outcomesByScores",
                      "params": [
                        {
                          "expression": "owner.projectId",
                          "name": "id",
                          "type": "computed"
                        },
                        {
                          "expression": "scores",
                          "name": "scoreIds",
                          "type": "computed"
                        }
                      ]
                    }
                  }
                }
              },
              {
                "name": "investmentPriorities2",
                "dataType": "stringList",
                "validate": "required",
                "constraints": {
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "params": [
                        {
                          "expression": "owner.projectId",
                          "name": "id",
                          "type": "computed"
                        }
                      ],
                      "url": "/project/listProjectInvestmentPriorities/"
                    }
                  }
                }
              },
              {
                "dataType": "text",
                "name": "otherInvestmentPriority",
                "behaviour": [
                  {
                    "type": "enable",
                    "condition": "\"Other\" in investmentPriorities2"
                  }
                ]
              },
              {
                "columns": [
                  {
                    "dataType": "species",
                    "name": "weedTargetSpecies",
                    "dwcAttribute": "scientificName",
                    "description": "Weed species targeted for treatment (start typing a  scientific or common name for a species).",
                    "validate": "required"
                  },
                  {
                    "dataType": "text",
                    "name": "threatenedEcologicalCommunity",
                    "validate": "maxSize[100]"
                  },
                  {
                    "dataType": "text",
                    "name": "treatmentMethod",
                    "description": "The primary method used to treat the patch of the target species.",
                    "constraints": [
                      "Basal bark spraying",
                      "Biological agents",
                      "Cut stump",
                      "Cut and swab",
                      "Dozing",
                      "Felling",
                      "Fire",
                      "Foliar spraying",
                      "Grubbing / chipping",
                      "Hand pulling",
                      "Moisture and nutrient control",
                      "Mowing",
                      "Overplanting",
                      "Pushing",
                      "Slashing",
                      "Spot spraying",
                      "Splatter gun",
                      "Stem injection",
                      "Stem scraper",
                      "Wick applicators",
                      "Other"
                    ],
                    "validate": "required"
                  },
                  {
                    "dataType": "text",
                    "name": "otherTreatmentMethod",
                    "description": "Please specify the method of treatment used if Other was selected in the Type of treatment column.",
                    "behaviour": [
                      {
                        "condition": "treatmentMethod == \"Other\"",
                        "type": "enable"
                      }
                    ],
                    "validate": "required,maxSize[100]"
                  },
                  {
                    "dataType": "text",
                    "name": "treatmentObjective",
                    "description": "How will the work contribute to protecting the area?",
                    "validate": "required,maxSize[300]"
                  }
                ],
                "dataType": "list",
                "name": "weedSpeciesTreated"
              }
            ],
            "dataType": "list",
            "name": "weedTreatmentSites"
          },
          {
            "dataType": "text",
            "name": "participationIndividualsOrGroups",
            "description": "Once Individuals or groups is selected, the related number field in the next two columns will become editable to report.",
            "constraints": [
              "Individuals",
              "Groups"
            ],
            "validate": "required"
          },
          {
            "dataType": "number",
            "name": "participationIndividualNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Individuals\"",
                "type": "enable"
              }
            ],
            "validate": "required,min[0]"
          },
          {
            "dataType": "text",
            "name": "participationGroupNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Groups\"",
                "type": "enable"
              }
            ],
            "constraints": [
              "0",
              "1-10",
              "11-20",
              "21-30",
              "31-40",
              "41-50"
            ],
            "validate": "required"
          },
          {
            "dataType": "number",
            "name": "firstNationIndividualNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Individuals\"",
                "type": "enable"
              }
            ],
            "validate": "required,min[0]"
          },
          {
            "dataType": "text",
            "name": "firstNationGroupNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Groups\"",
                "type": "enable"
              }
            ],
            "constraints": [
              "0",
              "1-10",
              "11-20",
              "21-30",
              "31-40",
              "41-50"
            ],
            "validate": "required"
          },
          {
            "dataType": "text",
            "name": "participationDetails",
            "validate": "maxSize[3000]"
          },
          {
            "name": "surveyCountHeader",
            "type": "number",
            "decimalPlaces": 0,
            "computed": {
              "expression": "count(weedTreatmentSites, \"treatmentObjective\")"
            }
          },
          {
            "dataType": "text",
            "name": "comments",
            "validate": "maxSize[1500]"
          },
          {
            "dataType": "image",
            "name": "photographicEvidence"
          },
          {
            "dataType": "boolean",
            "name": "dataUploaded",
            "description": "<ul><li>Tick box to confirm data has been uploaded</li><li>URL Link (mandatory if below is ticked) in available evidence</li></ul>"
          },
          {
            "name": "projectAssuranceDetails",
            "dataType": "text",
            "validate": "required,maxSize[5000]",
            "behaviour": [
              {
                "condition": "dataUploaded == true",
                "type": "enable"
              }
            ]
          },
          {
            "dataType": "list",
            "name": "assuranceDocuments",
            "columns": [
              {
                "dataType": "document",
                "name": "attachments",
                "description": "Please attach any Evidence of Service Delivery here."
              }
            ]
          }
        ],
        "modelName": "NHT - Weed treatment",
        "title": "Removing Weeds",
        "viewModel": [
          {
            "type": "section",
            "items": [
              {
                "columns": [
                  {
                    "width": "10%",
                    "source": "participationIndividualsOrGroups",
                    "title": "Are individuals or groups delivering this service?",
                    "type": "selectOne"
                  },
                  {
                    "width": "20%",
                    "type": "col",
                    "title": "Total number of people delivering this service <br>(including First Nations people)",
                    "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                    "items": [
                      {
                        "source": "participationIndividualNumber",
                        "type": "number"
                      },
                      {
                        "source": "participationGroupNumber",
                        "type": "selectOne"
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "width": "20%",
                    "title": "Total number of First Nations people delivering this service ",
                    "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                    "items": [
                      {
                        "source": "firstNationIndividualNumber",
                        "type": "number"
                      },
                      {
                        "source": "firstNationGroupNumber",
                        "type": "selectOne"
                      }
                    ]
                  },
                  {
                    "source": "participationDetails",
                    "rows": 4,
                    "title": "If no First Nations people participated in the delivery of this service, <br>what are the reasons? If there was participation, please provide details.",
                    "helpText": "If there were no First Nations people participating in the delivery of this service, please explain the reasons. If there were First Nations people involved, please outline how they were involved.",
                    "type": "textarea"
                  }
                ],
                "userAddedRows": false,
                "disableTableUpload": false,
                "source": "",
                "type": "table"
              },
              {
                "preLabel": "Number of Removing Weeds surveys conducted:",
                "noEdit": true,
                "type": "number",
                "source": "surveyCountHeader"
              },
              {
                "addRowText": "New weed removal site",
                "userAddedRows": true,
                "source": "weedTreatmentSites",
                "type": "repeat",
                "items": [
                  {
                    "css": "border-bottom",
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "Initial or follow-up treatment",
                        "css": "span3",
                        "source": "initialOrFollowup",
                        "type": "selectOne"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "css": "span3 col-border-right",
                        "type": "col",
                        "items": [
                          {
                            "type": "row",
                            "items": [
                              {
                                "preLabel": "Site/s where weed treatment was undertaken",
                                "source": "sitesTreated",
                                "type": "feature"
                              }
                            ]
                          },
                          {
                            "type": "row",
                            "items": [
                              {
                                "readonly": true,
                                "source": "siteCalculatedAreaHa",
                                "type": "number",
                                "displayOptions": {
                                  "displayUnits": true
                                }
                              }
                            ]
                          },
                          {
                            "type": "row",
                            "items": [
                              {
                                "readonly": true,
                                "source": "siteCalculatedLengthKm",
                                "type": "number",
                                "displayOptions": {
                                  "displayUnits": true
                                }
                              }
                            ]
                          },
                          {
                            "type": "row",
                            "items": [
                              {
                                "preLabel": "Please attach mapping details",
                                "source": "extraMappingDetails",
                                "type": "document"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "css": "span4 col-border-right",
                        "type": "col",
                        "items": [
                          {
                            "type": "row",
                            "items": [
                              {
                                "preLabel": "Actual area (ha) / length (km) treated for weed removal",
                                "helpText": "Manually enter correct figure for this reporting period if different to mapped value.",
                                "source": "areaTreatedHa",
                                "type": "number",
                                "displayOptions": {
                                  "displayUnits": true
                                }
                              }
                            ]
                          },
                          {
                            "type": "row",
                            "items": [
                              {
                                "source": "lengthTreatedKm",
                                "type": "number",
                                "validate": "required",
                                "displayOptions": {
                                  "displayUnits": true
                                }
                              }
                            ]
                          },
                          {
                            "type": "row",
                            "items": [
                              {
                                "preLabel": "Reason for actual being different to mapped amount",
                                "source": "mappingNotAlignedReason",
                                "type": "selectOne"
                              }
                            ]
                          },
                          {
                            "type": "row",
                            "items": [
                              {
                                "placeholder": "Please enter the reason/s the mapping didn't align with the invoiced amount",
                                "source": "mappingNotAlignedComments",
                                "type": "textarea",
                                "rows": 5
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "css": "span4",
                        "type": "col",
                        "items": [
                          {
                            "type": "row",
                            "items": [
                              {
                                "preLabel": "Invoiced area (ha) / length (km) treated for weed removal",
                                "helpText": "Enter the amount you will invoice for during this reporting period.",
                                "source": "areaInvoicedHa",
                                "type": "number",
                                "validate": "required",
                                "displayOptions": {
                                  "displayUnits": true
                                }
                              }
                            ]
                          },
                          {
                            "source": "lengthInvoicedKm",
                            "type": "number",
                            "validate": "required",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          },
                          {
                            "type": "row",
                            "items": [
                              {
                                "preLabel": "Reason for invoiced amount being different to actual amount",
                                "source": "invoicedNotActualReason",
                                "type": "selectOne"
                              }
                            ]
                          },
                          {
                            "type": "row",
                            "items": [
                              {
                                "placeholder": "Please enter the reason/s the mapping didn't align with the invoiced amount",
                                "source": "invoicedNotActualComments",
                                "type": "textarea",
                                "rows": 5
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "col",
                        "css": "span3 col-border-right",
                        "items": [
                          {
                            "type": "row",
                            "items": [
                              {
                                "source": "relatedOutcomes",
                                "type": "selectOne",
                                "preLabel": "Which outcome statement/s relates to this survey?"
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "col",
                        "css": "span3 col-border-right",
                        "items": [
                          {
                            "type": "row",
                            "items": [
                              {
                                "source": "investmentPriorities2",
                                "preLabel": "Which investment priority does this activity relate to?",
                                "type": "select2Many"
                              }
                            ]
                          },
                          {
                            "type": "row",
                            "items": [
                              {
                                "source": "otherInvestmentPriority",
                                "type": "text"
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "columns": [
                      {
                        "width": "20%",
                        "source": "weedTargetSpecies",
                        "title": "Target weed species",
                        "type": "speciesSelect"
                      },
                      {
                        "width": "22%",
                        "source": "threatenedEcologicalCommunity",
                        "title": "Threatened Ecological Community (if applicable)",
                        "type": "text"
                      },
                      {
                        "width": "15%",
                        "source": "treatmentMethod",
                        "title": "Type of treatment",
                        "type": "select2"
                      },
                      {
                        "width": "20%",
                        "source": "otherTreatmentMethod",
                        "title": "Type of treatment (if other)",
                        "type": "text"
                      },
                      {
                        "width": "23%",
                        "source": "treatmentObjective",
                        "title": "Treatment objective",
                        "type": "textarea"
                      }
                    ],
                    "userAddedRows": true,
                    "source": "weedSpeciesTreated",
                    "type": "table"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Optionally attach photos",
                    "source": "photographicEvidence",
                    "type": "image"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Clarification, if needed",
                    "type": "textarea",
                    "rows": 4,
                    "css": "span8",
                    "source": "comments",
                    "placeholder": "Clarification comments include information for your project manager about the service like:\n • any reported items that are not being invoiced (eg, over-achievement) \n • any extraneous circumstances that affected delivery of the service \n"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<p><b>Available Evidence</b></p>This field is mandatory for all projects as part of the invoicing process. Please list evidence you have retained for this service and provide information to where the evidence is stored (links/file location data). Refer to the Project Service Evidence Guide and the Project Service Summaries for information on the evidence requirements.<b style=\"color:red\">*</b>"
                  },
                  {
                    "preLabel": "Data have been uploaded",
                    "source": "dataUploaded",
                    "type": "boolean"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "",
                    "source": "projectAssuranceDetails",
                    "type": "textarea",
                    "rows": 4,
                    "placeholder": "List the documentary evidence you have available for this project service. Include specifically, the document titles and location (e.g. internal IT network pathway, URLs) to assist with locating this material for future audits/assurance purposes."
                  }
                ]
              },
              {
                "type": "table",
                "source": "assuranceDocuments",
                "userAddedRows": true,
                "disableTableUpload": true,
                "columns": [
                  {
                    "title": "Attached documents",
                    "source": "attachments",
                    "type": "document"
                  }
                ]
              }
            ]
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtWeedTreatment",
      "optional": true,
      "optionalQuestionText": null,
      "title": "Removing weeds",
      "collapsibleHeading": null,
      "name": "NHT - Weed treatment",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "dataModel": [
          {
            "dataType": "text",
            "name": "participationIndividualsOrGroups",
            "description": "Once Individuals or groups is selected, the related number field in the next two columns will become editable to report.",
            "constraints": [
              "Individuals",
              "Groups"
            ],
            "validate": "required"
          },
          {
            "dataType": "number",
            "name": "participationIndividualNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Individuals\"",
                "type": "enable"
              }
            ],
            "validate": "required,min[0]"
          },
          {
            "dataType": "text",
            "name": "participationGroupNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Groups\"",
                "type": "enable"
              }
            ],
            "constraints": [
              "0",
              "1-10",
              "11-20",
              "21-30",
              "31-40",
              "41-50"
            ],
            "validate": "required"
          },
          {
            "dataType": "number",
            "name": "firstNationIndividualNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Individuals\"",
                "type": "enable"
              }
            ],
            "validate": "required,min[0]"
          },
          {
            "dataType": "text",
            "name": "firstNationGroupNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Groups\"",
                "type": "enable"
              }
            ],
            "constraints": [
              "0",
              "1-10",
              "11-20",
              "21-30",
              "31-40",
              "41-50"
            ],
            "validate": "required"
          },
          {
            "dataType": "text",
            "name": "participationDetails",
            "validate": "maxSize[3000]"
          },
          {
            "columns": [
              {
                "dataType": "text",
                "name": "initialOrMaintenance",
                "constraints": [
                  "Initial",
                  "Maintenance"
                ],
                "validate": "required"
              },
              {
                "dataType": "feature",
                "name": "sitesRevegetated"
              },
              {
                "dataType": "number",
                "name": "siteCalculatedAreaHa",
                "computed": {
                  "expression": "$geom.areaHa(sitesRevegetated)"
                },
                "units": "ha",
                "decimalPlaces": 3,
                "behaviour": [
                  {
                    "condition": "areaInvoicedHa > 0",
                    "type": "conditional_validation",
                    "value": {
                      "message": "The revegetated area must be mapped",
                      "validate": "required,min[0.0001]"
                    }
                  }
                ]
              },
              {
                "dataType": "number",
                "name": "siteCalculatedLengthKm",
                "computed": {
                  "expression": "$geom.lengthKm(sitesRevegetated)"
                },
                "units": "km",
                "decimalPlaces": 3,
                "behaviour": [
                  {
                    "condition": "lengthRevegetatedKm > 0",
                    "type": "conditional_validation",
                    "value": {
                      "message": "The revegetated length must be mapped",
                      "validate": "required,min[0.0001]"
                    }
                  }
                ]
              },
              {
                "defaultValue": {
                  "type": "computed",
                  "expression": "siteCalculatedAreaHa"
                },
                "dataType": "number",
                "name": "areaRevegetatedHa",
                "validate": "required,min[0]",
                "decimalPlaces": 3,
                "units": "ha"
              },
              {
                "defaultValue": {
                  "type": "computed",
                  "expression": "siteCalculatedLengthKm"
                },
                "dataType": "number",
                "name": "lengthRevegetatedKm",
                "validate": "required,min[0]",
                "decimalPlaces": 3,
                "units": "km"
              },
              {
                "dataType": "number",
                "name": "areaInvoicedHa",
                "units": "ha",
                "decimalPlaces": 3,
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "rule": "max",
                    "param": {
                      "type": "computed",
                      "expression": "areaRevegetatedHa"
                    }
                  }
                ]
              },
              {
                "dataType": "number",
                "name": "areaInvoicedKm",
                "units": "km",
                "decimalPlaces": 3,
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "param": {
                      "expression": "lengthRevegetatedKm",
                      "type": "computed"
                    },
                    "rule": "max"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedReason",
                "constraints": [
                  "Mapped area simplifies more complex area/s where work was undertaken during this period",
                  "Other"
                ],
                "validate": "required",
                "behaviour": [
                  {
                    "condition": "not within(areaRevegetatedHa, siteCalculatedAreaHa, 0.1)",
                    "type": "if"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedComments",
                "validate": "required,maxSize[100]",
                "behaviour": [
                  {
                    "type": "if",
                    "condition": "\"Other\" == mappingNotAlignedReason"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "invoicedNotActualReason",
                "constraints": [
                  "Work was undertaken over a greater area than will be invoiced for",
                  "Other"
                ],
                "validate": "required",
                "behaviour": [
                  {
                    "condition": "roundTo(areaRevegetatedHa, 2) != roundTo(areaInvoicedHa, 2) or roundTo(lengthRevegetatedKm, 2) != roundTo(areaInvoicedKm, 2)",
                    "type": "visible"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "invoicedNotActualComments",
                "behaviour": [
                  {
                    "type": "if",
                    "condition": "\"Other\" == invoicedNotActualReason"
                  }
                ],
                "validate": "required,maxSize[300]"
              },
              {
                "dataType": "document",
                "name": "extraMappingDetails",
                "validate": "required",
                "description": "Please fill in the Mapped/Actual/Invoice fields before attaching a document here. If those fields match this field will be void. <br/>If any of these fields differ please attach your organisation's detailed map for the area, covered by this project service - during reporting period (include the scale measure for each map).",
                "behaviour": [
                  {
                    "condition": "not within(areaRevegetatedHa, siteCalculatedAreaHa, 0.1) or roundTo(areaRevegetatedHa, 2) != roundTo(areaInvoicedHa, 2)",
                    "type": "if"
                  }
                ]
              },
              {
                "dataType": "feature",
                "name": "offSiteBenefitSites"
              },
              {
                "defaultValue": {
                  "type": "computed",
                  "expression": "$geom.areaHa(offSiteBenefitSites)"
                },
                "dataType": "number",
                "name": "offSiteBenefitAreaHa",
                "validate": [
                  {
                    "rule": "min",
                    "param": {
                      "type": "computed",
                      "expression": "$geom.areaHa(offSiteBenefitSites)*0.9"
                    }
                  },
                  {
                    "rule": "max",
                    "param": {
                      "type": "computed",
                      "expression": "$geom.areaHa(offSiteBenefitSites)*1.1"
                    }
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "evidenceOfBenefit",
                "validate": "maxSize[300]"
              },
              {
                "name": "relatedOutcomes",
                "dataType": "text",
                "description": "Select the outcome/s as defined in your MERI plan that this service was delivered to achieve.",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "label",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "url": "/project/outcomesByScores",
                      "params": [
                        {
                          "expression": "owner.projectId",
                          "name": "id",
                          "type": "computed"
                        },
                        {
                          "expression": "scores",
                          "name": "scoreIds",
                          "type": "computed"
                        }
                      ]
                    }
                  }
                }
              },
              {
                "name": "investmentPriorities2",
                "dataType": "stringList",
                "validate": "required",
                "constraints": {
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "params": [
                        {
                          "expression": "owner.projectId",
                          "name": "id",
                          "type": "computed"
                        }
                      ],
                      "url": "/project/listProjectInvestmentPriorities/"
                    }
                  }
                }
              },
              {
                "dataType": "text",
                "name": "otherInvestmentPriority",
                "behaviour": [
                  {
                    "type": "enable",
                    "condition": "\"Other\" in investmentPriorities2"
                  }
                ]
              },
              {
                "dataType": "date",
                "name": "activitiesStartDate",
                "description": "Specific the dates these events were held on.",
                "validate": "required"
              },
              {
                "dataType": "date",
                "name": "activitiesEndDate",
                "description": "Specific the dates these events were held on.",
                "validate": "required"
              },
              {
                "columns": [
                  {
                    "dataType": "species",
                    "name": "species",
                    "dwcAttribute": "scientificName",
                    "description": "",
                    "validate": "required"
                  },
                  {
                    "dataType": "text",
                    "name": "typeOfRevegetationActivity",
                    "validate": "required,maxSize[100]"
                  },
                  {
                    "dataType": "text",
                    "name": "revegetationMethod",
                    "dwcAttribute": "establishmentMeans",
                    "description": "If 'Other', please identify in 'Type of revegetation activity' field.",
                    "constraints": [
                      "Direct seeding",
                      "Tubestock planting",
                      "Both",
                      "Other"
                    ],
                    "validate": "required"
                  },
                  {
                    "dataType": "text",
                    "name": "threatenedEcologicalCommunity",
                    "description": "This free text field allows multiple TECs to be entered. They should be written as listed in EPBC, and separated by ';'",
                    "validate": "maxSize[100]"
                  },
                  {
                    "dataType": "number",
                    "name": "numberPlanted",
                    "validate": "required,min[0]"
                  },
                  {
                    "dataType": "text",
                    "name": "revegetationObjective",
                    "validate": "required,maxSize[300]"
                  }
                ],
                "dataType": "list",
                "name": "revegetationDetails"
              }
            ],
            "dataType": "list",
            "name": "revegetationArea"
          },
          {
            "name": "revegetatingSurveyCountHeader",
            "type": "number",
            "decimalPlaces": 0,
            "computed": {
              "expression": "count(revegetationArea, \"revegetationObjective\")"
            }
          },
          {
            "dataType": "text",
            "name": "comments",
            "validate": "maxSize[1500]"
          },
          {
            "dataType": "image",
            "name": "photographicEvidence"
          },
          {
            "dataType": "boolean",
            "name": "dataUploaded",
            "description": "<ul><li>Tick box to confirm data has been uploaded</li><li>URL Link (mandatory if below is ticked) in available evidence</li></ul>"
          },
          {
            "name": "projectAssuranceDetails",
            "dataType": "text",
            "validate": "required,maxSize[5000]",
            "behaviour": [
              {
                "condition": "dataUploaded == true",
                "type": "enable"
              }
            ]
          },
          {
            "dataType": "list",
            "name": "assuranceDocuments",
            "columns": [
              {
                "dataType": "document",
                "name": "attachments",
                "description": "Please attach any Evidence of Service Delivery here."
              }
            ]
          }
        ],
        "modelName": "NHT - Revegetating habitat",
        "title": "Revegetating Habitat",
        "viewModel": [
          {
            "columns": [
              {
                "width": "10%",
                "source": "participationIndividualsOrGroups",
                "title": "Are individuals or groups delivering this service?",
                "type": "selectOne"
              },
              {
                "width": "20%",
                "type": "col",
                "title": "Total number of people delivering this service <br>(including First Nations people)",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "participationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "participationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "type": "col",
                "width": "20%",
                "title": "Total number of First Nations people delivering this service ",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "firstNationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "firstNationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "source": "participationDetails",
                "rows": 4,
                "title": "If no First Nations people participated in the delivery of this service, <br>what are the reasons? If there was participation, please provide details.",
                "helpText": "If there were no First Nations people participating in the delivery of this service, please explain the reasons. If there were First Nations people involved, please outline how they were involved.",
                "type": "textarea"
              }
            ],
            "userAddedRows": false,
            "disableTableUpload": false,
            "source": "",
            "type": "table"
          },
          {
            "preLabel": "Number of Revegetating Habitat surveys conducted:",
            "noEdit": true,
            "type": "number",
            "source": "revegetatingSurveyCountHeader"
          },
          {
            "addRowText": "New area of revegetation",
            "userAddedRows": true,
            "source": "revegetationArea",
            "type": "repeat",
            "items": [
              {
                "type": "row",
                "css": "border-bottom",
                "items": [
                  {
                    "preLabel": "Initial or maintenance activity?",
                    "css": "span3",
                    "source": "initialOrMaintenance",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "type": "row",
                "css": "border-bottom",
                "items": [
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Site/s being revegetated",
                            "source": "sitesRevegetated",
                            "type": "feature"
                          }
                        ]
                      },
                      {
                        "source": "siteCalculatedAreaHa",
                        "type": "number",
                        "readonly": true,
                        "displayOptions": {
                          "displayUnits": true
                        }
                      },
                      {
                        "source": "siteCalculatedLengthKm",
                        "type": "number",
                        "readonly": true,
                        "displayOptions": {
                          "displayUnits": true
                        }
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Please attach mapping details",
                            "source": "extraMappingDetails",
                            "type": "document"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Actual area (ha) / length (km) of habitat revegetated",
                            "helpText": "Manually enter correct figure for this reporting period if different to mapped value.",
                            "source": "areaRevegetatedHa",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "lengthRevegetatedKm",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Reason for actual being different to mapped amount",
                            "source": "mappingNotAlignedReason",
                            "type": "selectOne"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "placeholder": "Please enter the reason/s the mapping didn't align with the invoiced amount",
                            "source": "mappingNotAlignedComments",
                            "type": "textarea",
                            "rows": 5
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Invoiced area (ha) of habitat revegetated",
                            "helpText": "Enter the amount you will invoice for during this reporting period.",
                            "source": "areaInvoicedHa",
                            "type": "number",
                            "validate": "required",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "areaInvoicedKm",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Reason for invoiced amount being different to actual amount",
                            "source": "invoicedNotActualReason",
                            "type": "selectOne"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "placeholder": "Please enter the reason/s the mapping didn't align with the invoiced amount",
                            "source": "invoicedNotActualComments",
                            "type": "textarea",
                            "rows": 5
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "investmentPriorities2",
                            "preLabel": "Which investment priority does this activity relate to?",
                            "type": "select2Many"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "otherInvestmentPriority",
                            "type": "text"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Which outcome statement/s relates to this survey?",
                    "css": "span3",
                    "source": "relatedOutcomes",
                    "type": "selectOne"
                  },
                  {
                    "preLabel": "Activity start date",
                    "css": "span3",
                    "source": "activitiesStartDate",
                    "type": "date"
                  },
                  {
                    "preLabel": "Activity end date",
                    "css": "span3",
                    "source": "activitiesEndDate",
                    "type": "date"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Please map any off-site area/s if they benefitted from this  revegetation activity",
                    "css": "span3",
                    "source": "offSiteBenefitSites",
                    "type": "feature"
                  },
                  {
                    "preLabel": "Area (ha) benefitting from revegetation activity",
                    "css": "span2",
                    "source": "offSiteBenefitAreaHa",
                    "type": "number"
                  },
                  {
                    "preLabel": "If off-site area was mapped please provide a description on the evidence available to reflect this benefit.",
                    "css": "span6",
                    "source": "evidenceOfBenefit",
                    "type": "textarea"
                  }
                ]
              },
              {
                "addRowText": "Add a species",
                "columns": [
                  {
                    "width": "20%",
                    "source": "species",
                    "title": "Target Plant Species",
                    "type": "speciesSelect"
                  },
                  {
                    "width": "10%",
                    "source": "revegetationMethod",
                    "title": "Planting method",
                    "type": "selectOne"
                  },
                  {
                    "width": "20%",
                    "source": "typeOfRevegetationActivity",
                    "title": "Type of revegetation activity",
                    "type": "text"
                  },
                  {
                    "width": "20%",
                    "source": "threatenedEcologicalCommunity",
                    "title": "Threatened ecological community (if applicable)",
                    "type": "text"
                  },
                  {
                    "width": "10%",
                    "source": "numberPlanted",
                    "title": "Numbers planted",
                    "type": "number"
                  },
                  {
                    "width": "20%",
                    "source": "revegetationObjective",
                    "title": "Objective of revegetation activity",
                    "type": "textarea"
                  }
                ],
                "userAddedRows": true,
                "source": "revegetationDetails",
                "type": "table"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "Optionally attach photos",
                "source": "photographicEvidence",
                "type": "image"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "Clarification, if needed",
                "type": "textarea",
                "rows": 4,
                "css": "span8",
                "source": "comments",
                "placeholder": "Clarification comments include information for your project manager about the service like:\n • any reported items that are not being invoiced (eg, over-achievement) \n • any extraneous circumstances that affected delivery of the service \n"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<p><b>Available Evidence</b></p>This field is mandatory for all projects as part of the invoicing process. Please list evidence you have retained for this service and provide information to where the evidence is stored (links/file location data). Refer to the Project Service Evidence Guide and the Project Service Summaries for information on the evidence requirements.<b style=\"color:red\">*</b>"
              },
              {
                "preLabel": "Data have been uploaded",
                "source": "dataUploaded",
                "type": "boolean"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "",
                "source": "projectAssuranceDetails",
                "type": "textarea",
                "rows": 4,
                "placeholder": "List the documentary evidence you have available for this project service. Include specifically, the document titles and location (e.g. internal IT network pathway, URLs) to assist with locating this material for future audits/assurance purposes."
              }
            ]
          },
          {
            "type": "table",
            "source": "assuranceDocuments",
            "userAddedRows": true,
            "disableTableUpload": true,
            "columns": [
              {
                "title": "Attached documents",
                "source": "attachments",
                "type": "document"
              }
            ]
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtRevegetatingHabitat",
      "optional": true,
      "optionalQuestionText": null,
      "title": "Revegetating habitat",
      "collapsibleHeading": null,
      "name": "NHT - Revegetating habitat",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "dataModel": [
          {
            "dataType": "text",
            "name": "participationIndividualsOrGroups",
            "description": "Once Individuals or groups is selected, the related number field in the next two columns will become editable to report.",
            "constraints": [
              "Individuals",
              "Groups"
            ],
            "validate": "required"
          },
          {
            "dataType": "number",
            "name": "participationIndividualNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Individuals\"",
                "type": "enable"
              }
            ],
            "validate": "required,min[0]"
          },
          {
            "dataType": "text",
            "name": "participationGroupNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Groups\"",
                "type": "enable"
              }
            ],
            "constraints": [
              "0",
              "1-10",
              "11-20",
              "21-30",
              "31-40",
              "41-50"
            ],
            "validate": "required"
          },
          {
            "dataType": "number",
            "name": "firstNationIndividualNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Individuals\"",
                "type": "enable"
              }
            ],
            "validate": "required,min[0]"
          },
          {
            "dataType": "text",
            "name": "firstNationGroupNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Groups\"",
                "type": "enable"
              }
            ],
            "constraints": [
              "0",
              "1-10",
              "11-20",
              "21-30",
              "31-40",
              "41-50"
            ],
            "validate": "required"
          },
          {
            "dataType": "text",
            "name": "participationDetails",
            "validate": "maxSize[3000]"
          },
          {
            "columns": [
              {
                "dataType": "text",
                "name": "initialOrMaintenance",
                "constraints": [
                  "Initial",
                  "Maintenance"
                ],
                "validate": "required"
              },
              {
                "name": "relatedOutcomes",
                "dataType": "text",
                "description": "Select the outcome/s as defined in your MERI plan that this service was delivered to achieve.",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "label",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "url": "/project/outcomesByScores",
                      "params": [
                        {
                          "expression": "owner.projectId",
                          "name": "id",
                          "type": "computed"
                        },
                        {
                          "expression": "scores",
                          "name": "scoreIds",
                          "type": "computed"
                        }
                      ]
                    }
                  }
                }
              },
              {
                "dataType": "feature",
                "name": "siteSeedCollected",
                "validate": "required"
              },
              {
                "defaultValue": {
                  "expression": "$geom.areaHa(siteSeedCollected)",
                  "type": "computed"
                },
                "dataType": "number",
                "name": "calculatedAreaHabitatRevegetedHa",
                "units": "ha",
                "decimalPlaces": 3
              },
              {
                "computed": {
                  "expression": "$geom.lengthKm(siteSeedCollected)"
                },
                "dataType": "number",
                "name": "calculatedLengthHabitatRevegetedKm",
                "units": "km",
                "decimalPlaces": 3
              },
              {
                "defaultValue": {
                  "expression": "calculatedAreaHabitatRevegetedHa",
                  "type": "computed"
                },
                "dataType": "number",
                "name": "areaHabitatRevegetedHa",
                "units": "ha",
                "decimalPlaces": 3,
                "validate": "required,min[0]"
              },
              {
                "dataType": "date",
                "name": "activitiesStartDate",
                "description": "Specific the dates these events were held on.",
                "validate": "required"
              },
              {
                "dataType": "date",
                "name": "activitiesEndDate",
                "description": "Specific the dates these events were held on.",
                "validate": "required"
              },
              {
                "name": "investmentPriorities2",
                "dataType": "stringList",
                "validate": "required",
                "constraints": {
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "params": [
                        {
                          "expression": "owner.projectId",
                          "name": "id",
                          "type": "computed"
                        }
                      ],
                      "url": "/project/listProjectInvestmentPriorities/"
                    }
                  }
                }
              },
              {
                "dataType": "text",
                "name": "otherInvestmentPriority",
                "behaviour": [
                  {
                    "type": "enable",
                    "condition": "\"Other\" in investmentPriorities2"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "activityType",
                "constraints": [
                  "Collecting",
                  "Storing",
                  "Propagating"
                ],
                "validate": "required"
              },
              {
                "dataType": "text",
                "name": "activityPurpose",
                "validate": "required"
              },
              {
                "dataType": "text",
                "name": "materialType",
                "constraints": [
                  "Seeds",
                  "Plant cuttings"
                ],
                "validate": "required"
              },
              {
                "columns": [
                  {
                    "dataType": "text",
                    "name": "inKgSeedCollected",
                    "constraints": [
                      "Individuals",
                      "Kilograms"
                    ],
                    "validate": "required"
                  },
                  {
                    "dataType": "number",
                    "name": "amountSeedCollected",
                    "decimalPlaces": 5
                  },
                  {
                    "dataType": "text",
                    "name": "otherSeedSources"
                  },
                  {
                    "name": "noOfDaysPropagating",
                    "dataType": "number"
                  },
                  {
                    "dataType": "number",
                    "name": "numberOfSourcePlants"
                  },
                  {
                    "dataType": "text",
                    "name": "storingFacility"
                  },
                  {
                    "dataType": "number",
                    "name": "noOfPlantsPropogated"
                  },
                  {
                    "dataType": "feature",
                    "name": "siteSeedSourced"
                  },
                  {
                    "computed": {
                      "expression": "$geom.areaHa(siteSeedSourced)"
                    },
                    "dataType": "number",
                    "decimalPlaces": 3,
                    "name": "siteSeedSourcedCalculatedAreaHa",
                    "units": "ha",
                    "behaviour": [
                      {
                        "condition": "areaInvoicedHa > 0",
                        "type": "conditional_validation",
                        "value": {
                          "message": "The controlled area must be mapped",
                          "validate": "required,min[0.0001]"
                        }
                      }
                    ]
                  },
                  {
                    "computed": {
                      "expression": "$geom.lengthKm(siteSeedSourced)"
                    },
                    "dataType": "number",
                    "decimalPlaces": 3,
                    "name": "siteSeedSourcedCalculatedLengthKm",
                    "units": "km",
                    "behaviour": [
                      {
                        "condition": "lengthInvoicedKm > 0",
                        "type": "conditional_validation",
                        "value": {
                          "message": "The length controlled must be mapped",
                          "validate": "required,min[0.001]"
                        }
                      }
                    ]
                  },
                  {
                    "dataType": "document",
                    "name": "extraMappingDetails",
                    "description": "Please fill in the Mapped/Actual/Invoice fields before attaching a document here. If those fields match this field will be void. <br/>If any of these fields differ please attach your organisation's detailed map for the area, covered by this project service - during reporting period (include the scale measure for each map).",
                    "behaviour": [
                      {
                        "condition": "not (within(areaInstalledHa, siteSeedSourcedCalculatedAreaHa, 0.1) and within(lengthInstalledKm, siteSeedSourcedCalculatedLengthKm, 0.1)) or roundTo(areaInstalledHa, 2) != roundTo(areaInvoicedHa, 2) or roundTo(lengthInstalledKm, 2) != roundTo(lengthInvoicedKm, 2)",
                        "type": "visible"
                      }
                    ],
                    "validate": "required"
                  },
                  {
                    "dataType": "text",
                    "name": "threatEcoCommunity",
                    "validate": "maxSize[100]"
                  }
                ],
                "dataType": "list",
                "name": "seedCollectionDetails"
              }
            ],
            "dataType": "list",
            "name": "areasOfSeedCollection"
          },
          {
            "name": "siteSeedCountHeader",
            "type": "number",
            "decimalPlaces": 0,
            "computed": {
              "expression": "count(areasOfSeedCollection, \"threatEcoCommunity\")"
            }
          },
          {
            "computed": {
              "expression": "amountSeedCollected"
            },
            "dataType": "number",
            "name": "totalSeedCollected"
          },
          {
            "computed": {
              "expression": "numberOfSourcePlants"
            },
            "dataType": "number",
            "name": "totalPlantsPropogated"
          },
          {
            "dataType": "text",
            "name": "comments",
            "validate": "maxSize[1500]"
          },
          {
            "dataType": "image",
            "name": "photographicEvidence"
          },
          {
            "dataType": "boolean",
            "name": "dataUploaded",
            "description": "<ul><li>Tick box to confirm data has been uploaded</li><li>URL Link (mandatory if below is ticked) in available evidence</li></ul>"
          },
          {
            "name": "projectAssuranceDetails",
            "dataType": "text",
            "validate": "required,maxSize[5000]",
            "behaviour": [
              {
                "condition": "dataUploaded == true",
                "type": "enable"
              }
            ]
          },
          {
            "dataType": "list",
            "name": "assuranceDocuments",
            "columns": [
              {
                "dataType": "document",
                "name": "attachments",
                "description": "Please attach any Evidence of Service Delivery here."
              }
            ]
          }
        ],
        "modelName": "NHT - Seed Collection",
        "title": "Seed Collecting",
        "viewModel": [
          {
            "columns": [
              {
                "width": "10%",
                "source": "participationIndividualsOrGroups",
                "title": "Are individuals or groups delivering this service?",
                "type": "selectOne"
              },
              {
                "width": "20%",
                "type": "col",
                "title": "Total number of people delivering this service <br>(including First Nations people)",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "participationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "participationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "type": "col",
                "width": "20%",
                "title": "Total number of First Nations people delivering this service ",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "firstNationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "firstNationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "source": "participationDetails",
                "rows": 4,
                "title": "If no First Nations people participated in the delivery of this service, <br>what are the reasons? If there was participation, please provide details.",
                "helpText": "If there were no First Nations people participating in the delivery of this service, please explain the reasons. If there were First Nations people involved, please outline how they were involved.",
                "type": "textarea"
              }
            ],
            "userAddedRows": false,
            "disableTableUpload": false,
            "source": "",
            "type": "table"
          },
          {
            "preLabel": "Number of Seed Collection surveys conducted:",
            "noEdit": true,
            "type": "number",
            "source": "siteSeedCountHeader"
          },
          {
            "addRowText": "New area of seed collection",
            "userAddedRows": true,
            "source": "areasOfSeedCollection",
            "type": "repeat",
            "items": [
              {
                "type": "row",
                "css": "border-bottom",
                "items": [
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Initial or maintenance activity?",
                            "source": "initialOrMaintenance",
                            "type": "selectOne"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Which outcome statement/s relates to this survey?",
                            "source": "relatedOutcomes",
                            "type": "selectOne"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Site/s where collection/propagation was undertaken",
                            "source": "siteSeedCollected",
                            "type": "feature"
                          }
                        ]
                      },
                      {
                        "source": "calculatedAreaHabitatRevegetedHa",
                        "type": "number",
                        "readonly": true,
                        "displayOptions": {
                          "displayUnits": true
                        }
                      },
                      {
                        "source": "calculatedLengthHabitatRevegetedKm",
                        "type": "number",
                        "readonly": true,
                        "displayOptions": {
                          "displayUnits": true
                        }
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Which investment priority does this activity relate to?",
                            "source": "investmentPriorities2",
                            "type": "select2Many"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "otherInvestmentPriority",
                            "type": "text"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Activity start date",
                    "css": "span2",
                    "source": "activitiesStartDate",
                    "type": "date"
                  },
                  {
                    "preLabel": "Activity end date",
                    "css": "span2",
                    "source": "activitiesEndDate",
                    "type": "date"
                  },
                  {
                    "preLabel": "Type of activity",
                    "css": "span2",
                    "source": "activityType",
                    "type": "selectOne"
                  },
                  {
                    "preLabel": "Purpose of activity",
                    "css": "span2",
                    "source": "activityPurpose",
                    "type": "text"
                  },
                  {
                    "preLabel": "Type of material collected/stored or propagated",
                    "css": "span2",
                    "source": "materialType",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "columns": [
                  {
                    "width": "10%",
                    "source": "inKgSeedCollected",
                    "title": "Individuals / Kilograms collected",
                    "type": "selectOne"
                  },
                  {
                    "width": "7%",
                    "source": "amountSeedCollected",
                    "title": "Amount collected",
                    "type": "number"
                  },
                  {
                    "width": "15%",
                    "source": "otherSeedSources",
                    "title": "Other seed sources (if applicable)",
                    "type": "textarea"
                  },
                  {
                    "width": "7%",
                    "source": "numberOfSourcePlants",
                    "title": "Number of source plants",
                    "type": "number"
                  },
                  {
                    "width": "15%",
                    "source": "storingFacility",
                    "title": "Name of storing facility",
                    "type": "textarea"
                  },
                  {
                    "width": "9%",
                    "source": "noOfPlantsPropogated",
                    "title": "Number of plants propogated",
                    "type": "number"
                  },
                  {
                    "width": "7%",
                    "source": "noOfDaysPropagating",
                    "title": "Number of days propagating",
                    "type": "number"
                  },
                  {
                    "width": "15%",
                    "type": "col",
                    "title": "Site/s where the seeds/plant cuttings were sourced from",
                    "items": [
                      {
                        "source": "siteSeedSourced",
                        "type": "feature"
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "readonly": true,
                            "source": "siteSeedSourcedCalculatedAreaHa",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "readonly": true,
                            "source": "siteSeedSourcedCalculatedLengthKm",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Please attach mapping details",
                            "source": "extraMappingDetails",
                            "type": "document"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "width": "15%",
                    "source": "threatEcoCommunity",
                    "title": "Threatened ecological communities (if applicable)",
                    "type": "textarea"
                  }
                ],
                "userAddedRows": true,
                "source": "seedCollectionDetails",
                "type": "table"
              }
            ]
          },
          {
            "type": "section",
            "items": [
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Optionally attach photos",
                    "source": "photographicEvidence",
                    "type": "image"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Clarification, if needed",
                    "type": "textarea",
                    "rows": 4,
                    "css": "span8",
                    "source": "comments",
                    "placeholder": "Clarification comments include information for your project manager about the service like:\n • any reported items that are not being invoiced (eg, over-achievement) \n • any extraneous circumstances that affected delivery of the service \n"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<p><b>Available Evidence</b></p>This field is mandatory for all projects as part of the invoicing process. Please list evidence you have retained for this service and provide information to where the evidence is stored (links/file location data). Refer to the Project Service Evidence Guide and the Project Service Summaries for information on the evidence requirements.<b style=\"color:red\">*</b>"
                  },
                  {
                    "preLabel": "Data have been uploaded",
                    "source": "dataUploaded",
                    "type": "boolean"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "",
                    "source": "projectAssuranceDetails",
                    "type": "textarea",
                    "rows": 4,
                    "placeholder": "List the documentary evidence you have available for this project service. Include specifically, the document titles and location (e.g. internal IT network pathway, URLs) to assist with locating this material for future audits/assurance purposes."
                  }
                ]
              },
              {
                "type": "table",
                "source": "assuranceDocuments",
                "userAddedRows": true,
                "disableTableUpload": true,
                "columns": [
                  {
                    "title": "Attached documents",
                    "source": "attachments",
                    "type": "document"
                  }
                ]
              }
            ]
          }
        ]
      },
      "modelName": null,
      "templateName": "statesSeedCollecting",
      "optional": true,
      "optionalQuestionText": null,
      "title": null,
      "collapsibleHeading": null,
      "name": "NHT - Seed Collection",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "dataModel": [
          {
            "dataType": "text",
            "name": "participationIndividualsOrGroups",
            "description": "Once Individuals or groups is selected, the related number field in the next two columns will become editable to report.",
            "constraints": [
              "Individuals",
              "Groups"
            ],
            "validate": "required"
          },
          {
            "dataType": "number",
            "name": "participationIndividualNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Individuals\"",
                "type": "enable"
              }
            ],
            "validate": "required,min[0]"
          },
          {
            "dataType": "text",
            "name": "participationGroupNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Groups\"",
                "type": "enable"
              }
            ],
            "constraints": [
              "0",
              "1-10",
              "11-20",
              "21-30",
              "31-40",
              "41-50"
            ],
            "validate": "required"
          },
          {
            "dataType": "number",
            "name": "firstNationIndividualNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Individuals\"",
                "type": "enable"
              }
            ],
            "validate": "required,min[0]"
          },
          {
            "dataType": "text",
            "name": "firstNationGroupNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Groups\"",
                "type": "enable"
              }
            ],
            "constraints": [
              "0",
              "1-10",
              "11-20",
              "21-30",
              "31-40",
              "41-50"
            ],
            "validate": "required"
          },
          {
            "dataType": "text",
            "name": "participationDetails",
            "validate": "maxSize[3000]"
          },
          {
            "columns": [
              {
                "dataType": "feature",
                "name": "sitesPrepared"
              },
              {
                "computed": {
                  "expression": "$geom.areaHa(sitesPrepared)"
                },
                "dataType": "number",
                "name": "calculatedAreaPreparedHa",
                "units": "ha",
                "decimalPlaces": 3,
                "behaviour": [
                  {
                    "condition": "areaPreparedInvoicedHa > 0",
                    "type": "conditional_validation",
                    "value": {
                      "message": "The prepared area must be mapped",
                      "validate": "required,min[0.0001]"
                    }
                  }
                ]
              },
              {
                "computed": {
                  "expression": "$geom.lengthKm(sitesPrepared)"
                },
                "dataType": "number",
                "name": "calculatedLengthPreparedKm",
                "units": "km",
                "decimalPlaces": 3,
                "behaviour": [
                  {
                    "condition": "lengthPreparedKm > 0",
                    "type": "conditional_validation",
                    "value": {
                      "message": "The prepared length must be mapped",
                      "validate": "required,min[0.0001]"
                    }
                  }
                ]
              },
              {
                "defaultValue": {
                  "expression": "calculatedAreaPreparedHa",
                  "type": "computed"
                },
                "dataType": "number",
                "name": "areaPreparedHa",
                "decimalPlaces": 3,
                "units": "ha",
                "validate": "required,min[0]"
              },
              {
                "defaultValue": {
                  "expression": "calculatedLengthPreparedKm",
                  "type": "computed"
                },
                "dataType": "number",
                "name": "lengthPreparedKm",
                "units": "km",
                "decimalPlaces": 3,
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedReason",
                "behaviour": [
                  {
                    "condition": "not (within(calculatedAreaPreparedHa, areaPreparedHa, 0.1))",
                    "type": "visible"
                  }
                ],
                "constraints": [
                  "Mapped area simplifies more complex area/s where work was undertaken during this period",
                  "Other"
                ],
                "validate": "required"
              },
              {
                "dataType": "text",
                "name": "mappingNotAlignedComments",
                "behaviour": [
                  {
                    "condition": "\"Other\" == mappingNotAlignedReason",
                    "type": "visible"
                  }
                ],
                "validate": "required,maxSize[300]"
              },
              {
                "dataType": "document",
                "name": "extraMappingDetails",
                "description": "Please fill in the Mapped/Actual/Invoice fields before attaching a document here. If those fields match this field will be void. <br/>If any of these fields differ please attach your organisation's detailed map for the area, covered by this project service - during reporting period (include the scale measure for each map).",
                "behaviour": [
                  {
                    "condition": "not (within(calculatedAreaPreparedHa, areaPreparedHa, 0.1)) or roundTo(areaPreparedHa, 2) != roundTo(areaPreparedInvoicedHa, 2)",
                    "type": "visible"
                  }
                ],
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "areaPreparedInvoicedHa",
                "units": "ha",
                "decimalPlaces": 3,
                "validate": [
                  {
                    "rule": "min[0]"
                  },
                  {
                    "param": {
                      "expression": "areaPreparedHa",
                      "type": "computed"
                    },
                    "rule": "max"
                  }
                ]
              },
              {
                "dataType": "number",
                "name": "areaPreparedInvoicedKm",
                "units": "km",
                "decimalPlaces": 3,
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "param": {
                      "expression": "lengthPreparedKm",
                      "type": "computed"
                    },
                    "rule": "max"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "invoicedNotActualReason",
                "behaviour": [
                  {
                    "condition": "roundTo(areaPreparedHa, 2) != roundTo(areaPreparedInvoicedHa, 2) or roundTo(lengthPreparedKm, 2) != roundTo(areaPreparedInvoicedKm, 2)",
                    "type": "visible"
                  }
                ],
                "constraints": [
                  "Work was undertaken over a greater area than will be invoiced for",
                  "Other"
                ],
                "validate": "required"
              },
              {
                "dataType": "text",
                "name": "invoicedNotActualComments",
                "behaviour": [
                  {
                    "condition": "\"Other\" == invoicedNotActualReason",
                    "type": "visible"
                  }
                ],
                "validate": "required,maxSize[300]"
              },
              {
                "dataType": "date",
                "name": "activitiesStartDate",
                "description": "Specific the dates these events were held on.",
                "validate": "required"
              },
              {
                "dataType": "date",
                "name": "activitiesEndDate",
                "description": "Specific the dates these events were held on.",
                "validate": "required"
              },
              {
                "dataType": "date",
                "name": "activitiesEndDate",
                "description": "",
                "validate": "required"
              },
              {
                "columns": [
                  {
                    "dataType": "number",
                    "name": "numberOfDaysPreparingSite",
                    "description": "Number of days should be calculated as number of days by number of people (eg. 4.5 days by 3 people is 13.5 days).",
                    "validate": "required,min[0]"
                  },
                  {
                    "dataType": "stringList",
                    "name": "industryType",
                    "constraints": [
                      "Broad acre cropping",
                      "Dairy",
                      "Environmental",
                      "Horticulture",
                      "Grazing",
                      "Fisheries",
                      "Aquaculture",
                      "Other"
                    ]
                  },
                  {
                    "dataType": "text",
                    "name": "actionType",
                    "description": "",
                    "constraints": [
                      "Basal bark spraying",
                      "Biological agents",
                      "Cut stump",
                      "Cut and swab",
                      "Dozing",
                      "Felling",
                      "Fire",
                      "Foliar spraying",
                      "Grubbing/chipping",
                      "Hand pulling",
                      "Moisture and nutrient control",
                      "Mowing",
                      "Other earthworks",
                      "Overplanting",
                      "Pushing",
                      "Slashing",
                      "Spot spraying",
                      "Splatter gun",
                      "Stem injection",
                      "Stem scraper",
                      "Wick applicators",
                      "Other"
                    ],
                    "validate": "required"
                  },
                  {
                    "dataType": "text",
                    "name": "otherActionType",
                    "description": "This field may be used to list multiple preparation activities. This list of activities need to be separated with a ';'",
                    "behaviour": [
                      {
                        "condition": "actionType == \"Other\"",
                        "type": "enable"
                      }
                    ],
                    "validate": "required,maxSize[100]"
                  },
                  {
                    "dataType": "text",
                    "name": "purposeOfSitePreparation",
                    "description": "Please provide a brief description of how the work will benefit the area.",
                    "validate": "required"
                  },
                  {
                    "dataType": "text",
                    "name": "threatenedEcologicalCommunity",
                    "description": "This free text field allows multiple TECs to be entered. They should be written as listed in EPBC, and separated by commas.",
                    "validate": "maxSize[100]"
                  },
                  {
                    "name": "relatedOutcomes",
                    "dataType": "text",
                    "description": "Select the outcome/s as defined in your MERI plan that this service was delivered to achieve.",
                    "validate": "required",
                    "constraints": {
                      "textProperty": "label",
                      "valueProperty": "label",
                      "type": "pre-populated",
                      "config": {
                        "source": {
                          "url": "/project/outcomesByScores",
                          "params": [
                            {
                              "expression": "owner.projectId",
                              "name": "id",
                              "type": "computed"
                            },
                            {
                              "expression": "scores",
                              "name": "scoreIds",
                              "type": "computed"
                            }
                          ]
                        }
                      }
                    }
                  },
                  {
                    "name": "investmentPriorities2",
                    "dataType": "stringList",
                    "validate": "required",
                    "constraints": {
                      "type": "pre-populated",
                      "config": {
                        "source": {
                          "params": [
                            {
                              "expression": "owner.projectId",
                              "name": "id",
                              "type": "computed"
                            }
                          ],
                          "url": "/project/listProjectInvestmentPriorities/"
                        }
                      }
                    }
                  },
                  {
                    "dataType": "text",
                    "name": "otherInvestmentPriority",
                    "behaviour": [
                      {
                        "type": "enable",
                        "condition": "\"Other\" in investmentPriorities2"
                      }
                    ]
                  }
                ],
                "dataType": "list",
                "name": "sitePreparationDetails"
              }
            ],
            "dataType": "list",
            "name": "sitePreparationDetails"
          },
          {
            "name": "sitePrepCountHeader",
            "type": "number",
            "decimalPlaces": 0,
            "computed": {
              "expression": "count(sitePreparationDetails, \"threatenedEcologicalCommunity\")"
            }
          },
          {
            "dataType": "text",
            "name": "comments",
            "validate": "maxSize[1500]"
          },
          {
            "dataType": "image",
            "name": "photographicEvidence"
          },
          {
            "dataType": "boolean",
            "name": "dataUploaded",
            "description": "<ul><li>Tick box to confirm data has been uploaded</li><li>URL Link (mandatory if below is ticked) in available evidence</li></ul>"
          },
          {
            "name": "projectAssuranceDetails",
            "dataType": "text",
            "validate": "required,maxSize[5000]",
            "behaviour": [
              {
                "condition": "dataUploaded == true",
                "type": "enable"
              }
            ]
          },
          {
            "dataType": "list",
            "name": "assuranceDocuments",
            "columns": [
              {
                "dataType": "document",
                "name": "attachments",
                "description": "Please attach any Evidence of Service Delivery here."
              }
            ]
          }
        ],
        "modelName": "NHT - Site preparation",
        "title": "Site Preparation",
        "viewModel": [
          {
            "columns": [
              {
                "width": "10%",
                "source": "participationIndividualsOrGroups",
                "title": "Are individuals or groups delivering this service?",
                "type": "selectOne"
              },
              {
                "width": "20%",
                "type": "col",
                "title": "Total number of people delivering this service <br>(including First Nations people)",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "participationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "participationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "type": "col",
                "width": "20%",
                "title": "Total number of First Nations people delivering this service ",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "firstNationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "firstNationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "source": "participationDetails",
                "rows": 4,
                "title": "If no First Nations people participated in the delivery of this service, <br>what are the reasons? If there was participation, please provide details.",
                "helpText": "If there were no First Nations people participating in the delivery of this service, please explain the reasons. If there were First Nations people involved, please outline how they were involved.",
                "type": "textarea"
              }
            ],
            "userAddedRows": false,
            "disableTableUpload": false,
            "source": "",
            "type": "table"
          },
          {
            "preLabel": "Number of Site Preparation surveys conducted:",
            "noEdit": true,
            "type": "number",
            "source": "sitePrepCountHeader"
          },
          {
            "addRowText": "Add a new controlled area",
            "userAddedRows": true,
            "source": "sitePreparationDetails",
            "type": "repeat",
            "items": [
              {
                "type": "row",
                "css": "border-bottom",
                "items": [
                  {
                    "type": "col",
                    "css": "span2 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "sitesPrepared",
                            "type": "feature",
                            "preLabel": "Site/s where preparation was undertaken"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "calculatedAreaPreparedHa",
                            "type": "number",
                            "readonly": true,
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "calculatedLengthPreparedKm",
                            "type": "number",
                            "readonly": true,
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Please attach mapping details",
                            "source": "extraMappingDetails",
                            "type": "document"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Actual area (ha) / length (km) of site preparation",
                            "helpText": "Manually enter correct figure for this reporting period if different to mapped value.",
                            "source": "areaPreparedHa",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "lengthPreparedKm",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Reason for actual being different to mapped amount",
                            "source": "mappingNotAlignedReason",
                            "type": "selectOne"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "placeholder": "Please enter the reason/s the mapping didn't align with the invoiced amount",
                            "source": "mappingNotAlignedComments",
                            "type": "textarea"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span3 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Invoiced area (ha) of site preparation",
                            "helpText": "Enter the amount you will invoice for during this reporting period.",
                            "source": "areaPreparedInvoicedHa",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "areaPreparedInvoicedKm",
                            "type": "number",
                            "displayOptions": {
                              "displayUnits": true
                            }
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Reason for invoiced amount being different to actual amount",
                            "source": "invoicedNotActualReason",
                            "type": "selectOne"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "placeholder": "Please enter the reason/s the mapping didn't align with the invoiced amount",
                            "source": "invoicedNotActualComments",
                            "type": "textarea"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span2 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Activity start date",
                            "source": "activitiesStartDate",
                            "type": "date"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span2 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "Activity end date",
                            "source": "activitiesEndDate",
                            "type": "date"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "columns": [
                  {
                    "width": "10%",
                    "source": "numberOfDaysPreparingSite",
                    "title": "Number of days in preparing site",
                    "type": "number"
                  },
                  {
                    "width": "10%",
                    "source": "industryType",
                    "title": "Industry type",
                    "type": "select2"
                  },
                  {
                    "width": "15%",
                    "type": "col",
                    "title": "Type of action",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "source": "actionType",
                            "type": "select2"
                          }
                        ]
                      },
                      {
                        "source": "otherActionType",
                        "placeholder": "Type of action (if Other)",
                        "type": "text"
                      }
                    ]
                  },
                  {
                    "width": "15%",
                    "source": "purposeOfSitePreparation",
                    "title": "Aim of site preparation",
                    "type": "textarea"
                  },
                  {
                    "width": "20%",
                    "source": "threatenedEcologicalCommunity",
                    "title": "Threatened ecological community (if applicable)",
                    "type": "text"
                  },
                  {
                    "source": "relatedOutcomes",
                    "type": "selectOne",
                    "width": "15%",
                    "title": "Which outcome statement/s relates to this survey?"
                  },
                  {
                    "width": "15%",
                    "type": "col",
                    "title": "Which investment priority does this activity relate to?",
                    "items": [
                      {
                        "source": "investmentPriorities2",
                        "type": "select2Many"
                      },
                      {
                        "source": "otherInvestmentPriority",
                        "type": "text"
                      }
                    ]
                  }
                ],
                "userAddedRows": true,
                "source": "sitePreparationDetails",
                "type": "table"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "Optionally attach photos",
                "source": "photographicEvidence",
                "type": "image"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "Clarification, if needed",
                "type": "textarea",
                "rows": 4,
                "css": "span8",
                "source": "comments",
                "placeholder": "Clarification comments include information for your project manager about the service like:\n • any reported items that are not being invoiced (eg, over-achievement) \n • any extraneous circumstances that affected delivery of the service \n"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "type": "literal",
                "source": "<p><b>Available Evidence</b></p>This field is mandatory for all projects as part of the invoicing process. Please list evidence you have retained for this service and provide information to where the evidence is stored (links/file location data). Refer to the Project Service Evidence Guide and the Project Service Summaries for information on the evidence requirements.<b style=\"color:red\">*</b>"
              },
              {
                "preLabel": "Data have been uploaded",
                "source": "dataUploaded",
                "type": "boolean"
              }
            ]
          },
          {
            "type": "row",
            "items": [
              {
                "preLabel": "",
                "source": "projectAssuranceDetails",
                "type": "textarea",
                "rows": 4,
                "placeholder": "List the documentary evidence you have available for this project service. Include specifically, the document titles and location (e.g. internal IT network pathway, URLs) to assist with locating this material for future audits/assurance purposes."
              }
            ]
          },
          {
            "type": "table",
            "source": "assuranceDocuments",
            "userAddedRows": true,
            "disableTableUpload": true,
            "columns": [
              {
                "title": "Attached documents",
                "source": "attachments",
                "type": "document"
              }
            ]
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtSitePreparation",
      "optional": true,
      "optionalQuestionText": null,
      "title": "Site preparation",
      "collapsibleHeading": null,
      "name": "NHT - Site preparation",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "dataModel": [
          {
            "name": "skillsAndKnowledgeSurveys",
            "dataType": "list",
            "minSize": 1,
            "columns": [
              {
                "name": "relatedOutcomes",
                "dataType": "text",
                "description": "Select the outcome/s as defined in your MERI plan that this service was delivered to achieve.",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "value",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "context-path": "outcomes"
                    }
                  }
                }
              },
              {
                "dataType": "text",
                "name": "baselineOrIndicatorSurvey",
                "description": "",
                "constraints": [
                  "Baseline",
                  "Indicator"
                ],
                "validate": "required"
              },
              {
                "dataType": "text",
                "name": "surveyObjective",
                "description": "What the survey aim to capture? How will the information obtained from the survey be used?",
                "validate": "required,maxSize[3000]"
              },
              {
                "dataType": "number",
                "name": "numberOfSurveys",
                "validate": "required,min[1],max[1]",
                "defaultValue": 1,
                "readonly": true
              },
              {
                "dataType": "number",
                "name": "numberOfSurveysInvoiced",
                "validate": "required,min[0],max[1]",
                "defaultValue": 1
              },
              {
                "dataType": "list",
                "name": "skillsAndKnowledgeDataSets",
                "columns": [
                  {
                    "name": "dataSetId",
                    "dataType": "text",
                    "description": "This section will require the Data Set Name so the Metadata fields in the Data Set Summary tab should be filled out before the Outcome Report is due. More than one dataset if relevant for this Project Baseline could be selected.",
                    "validate": "required",
                    "constraints": {
                      "textProperty": "name",
                      "valueProperty": "dataSetId",
                      "excludePath": "skillsAndKnowledgeSurveys.skillsAndKnowledgeDataSets.dataSetId",
                      "type": "pre-populated",
                      "config": {
                        "source": {
                          "context-path": "owner.custom.dataSets"
                        },
                        "filter": {
                          "namespace": "dataSet",
                          "expression": "dataSet.serviceId == 29 and dataSet.progress == 'finished' and baselineOrIndicatorSurvey == baselineIndicatorMapping.lookupValue(dataSet.type) and deepEquals(relatedOutcomes,dataSet.outcomesLabel)"
                        }
                      }
                    },
                    "behaviour": [
                      {
                        "type": "pre_populate",
                        "config": {
                          "waitForInitialisation": true,
                          "source": {
                            "url": "/site/geojson",
                            "params": [
                              {
                                "expression": "x=find(owner.custom.dataSets, \"dataSetId\", dataSetId); x.siteId",
                                "name": "id",
                                "type": "computed",
                                "required": true
                              }
                            ]
                          },
                          "target":  {
                            "type": "singleValue",
                            "name": "sitesCoveredForSkillsAndKnowledge"
                          }
                        }
                      }
                    ]
                  },
                  {
                    "dataType": "text",
                    "name": "baselineOrIndicatorSurvey",
                    "description": "",
                    "constraints": [
                      "Baseline",
                      "Indicator"
                    ],
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); baselineIndicatorMapping.lookupValue(x.type)"
                    }
                  },
                  {
                    "name": "projectBaselines",
                    "dataType": "stringList",
                    "description": "Select the relevant Project Baseline as listed in the Monitoring Methodology section of the MERI Plan.",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.baselines"
                    },
                    "constraints": {
                      "textProperty": "baseline",
                      "valueProperty": "code",
                      "type": "pre-populated",
                      "excludePath": "projectBaselines",
                      "config": {
                        "source": {
                          "context-path": "owner.custom.details.baseline.rows"
                        }
                      }
                    }
                  },
                  {
                    "name": "investmentPriorities2",
                    "dataType": "stringList",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.investmentPriorities"
                    },
                    "constraints": {
                      "type": "pre-populated",
                      "config": {
                        "source": {
                          "params": [
                            {
                              "expression": "owner.projectId",
                              "name": "id",
                              "type": "computed"
                            }
                          ],
                          "url": "/project/listProjectInvestmentPriorities/"
                        }
                      }
                    }
                  },
                  {
                    "dataType": "text",
                    "name": "otherInvestmentPriority",
                    "behaviour": [
                      {
                        "type": "enable",
                        "condition": "\"Other\" in investmentPriorities2"
                      }
                    ]
                  },
                  {
                    "dataType": "date",
                    "name": "activitiesStartDate",
                    "description": "Specific the dates these events were held on.",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.startDate"
                    }
                  },
                  {
                    "dataType": "date",
                    "name": "activitiesEndDate",
                    "description": "Specific the dates these events were held on.",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.endDate"
                    }
                  },
                  {
                    "dataType": "feature",
                    "name": "sitesCoveredForSkillsAndKnowledge",
                    "description": "Mapping field to be done and Area (ha)/length (km) field be auto-calculated from mapping."
                  },
                  {
                    "computed": {
                      "expression": "$geom.areaHa(sitesCoveredForSkillsAndKnowledge)"
                    },
                    "dataType": "number",
                    "name": "calculatedAreaTreatedHa",
                    "units": "ha",
                    "decimalPlaces": 3
                  },
                  {
                    "computed": {
                      "expression": "$geom.lengthKm(sitesCoveredForSkillsAndKnowledge)"
                    },
                    "dataType": "number",
                    "name": "calculatedLengthTreatedKm",
                    "units": "km",
                    "decimalPlaces": 3,
                    "behaviour": [
                      {
                        "condition": "lengthTreatedKm > 0",
                        "type": "conditional_validation",
                        "value": {
                          "message": "The managed length must be mapped",
                          "validate": "required,min[0.0001]"
                        }
                      }
                    ]
                  },
                  {
                    "defaultValue": {
                      "type": "computed",
                      "expression": "calculatedAreaTreatedHa"
                    },
                    "dataType": "number",
                    "name": "areaTreatedHa",
                    "description": "Manually enter correct figure for this reporting period if different to mapped value.",
                    "units": "ha",
                    "decimalPlaces": 3,
                    "validate": "required,min[0]"
                  },
                  {
                    "dataType": "text",
                    "name": "mappingNotAlignedReason",
                    "constraints": [
                      "Mapped area simplifies more complex area/s where work was undertaken during this period",
                      "Other"
                    ],
                    "validate": "required",
                    "behaviour": [
                      {
                        "condition": "not (within(calculatedAreaTreatedHa, areaTreatedHa, 0.1))",
                        "type": "visible"
                      }
                    ]
                  },
                  {
                    "dataType": "text",
                    "name": "mappingNotAlignedComments",
                    "validate": "required,maxSize[100]",
                    "behaviour": [
                      {
                        "type": "visible",
                        "condition": "\"Other\" == mappingNotAlignedReason"
                      }
                    ]
                  },
                  {
                    "dataType": "document",
                    "name": "extraMappingDetails",
                    "validate": "required",
                    "description": "Please fill in the Mapped/Actual/Invoice fields before attaching a document here. If those fields match this field will be void. <br/>If any of these fields differ please attach your organisation's detailed map for the area, covered by this project service - during reporting period (include the scale measure for each map).",
                    "behaviour": [
                      {
                        "condition": "not (within(calculatedAreaTreatedHa, areaTreatedHa, 0.1))",
                        "type": "visible"
                      }
                    ]
                  },
                  {
                    "defaultValue": {
                      "type": "computed",
                      "expression": "$geom.lengthKm(sitesCoveredForSkillsAndKnowledge)"
                    },
                    "dataType": "number",
                    "name": "lengthTreatedKm",
                    "units": "km",
                    "decimalPlaces": 3,
                    "validate": [
                      {
                        "rule": "min",
                        "param": {
                          "type": "computed",
                          "expression": "$geom.lengthKm(sitesCoveredForSkillsAndKnowledge)*0.9"
                        }
                      },
                      {
                        "rule": "max",
                        "param": {
                          "type": "computed",
                          "expression": "$geom.lengthKm(sitesCoveredForSkillsAndKnowledge)*1.1"
                        }
                      }
                    ]
                  },
                  {
                    "dataType": "text",
                    "description": "Select the technique used to conduct the survey. If the EMSA Application tool was not used, you should select 'Other'.",
                    "name": "emsaProtocol",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.protocol"
                    },
                    "constraints": {
                      "textProperty": "label",
                      "valueProperty": "value",
                      "type": "pre-populated",
                      "config": {
                        "source": {
                          "context-path": "owner.protocols"
                        }
                      }
                    }
                  },
                  {
                    "dataType": "stringList",
                    "description": "Describe the technique (if Other) was selected.",
                    "name": "otherEmsaProtocol",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.methods"
                    },
                    "validate": "required"
                  },
                  {
                    "dataType": "text",
                    "name": "surveyMethodology",
                    "description": "Provide more details on what is being done.",
                    "validate": "required,maxSize[3000]",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.methodDescription"
                    }
                  },
                  {
                    "dataType": "text",
                    "name": "invoicingThisActivity",
                    "constraints": [
                      "Yes",
                      "No"
                    ],
                    "validate": "required"
                  },
                  {
                    "dataType": "number",
                    "name": "numberOfPeopleSurveying",
                    "validate": "required,min[0]"
                  }
                ],
                "minSize": 1
              }
            ]
          },
          {
            "dataType": "lookupTable",
            "name": "baselineIndicatorMapping",
            "config": {
              "source": {
                "literal": {
                  "Baseline dataset associated with a project outcome": "Baseline",
                  "Project progress dataset that is tracking change against an established project baseline dataset": "Indicator"
                }
              }
            }
          },
          {
            "columns": [
              {
                "dataType": "text",
                "name": "participationIndividualsOrGroups",
                "description": "Once Individuals or groups is selected, the related number field in the next two columns will become editable to report.",
                "constraints": [
                  "Individuals",
                  "Groups"
                ],
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "participationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "participationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ]
              },
              {
                "dataType": "number",
                "name": "firstNationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "param": {
                      "expression": "participationIndividualNumber",
                      "type": "computed"
                    },
                    "rule": "max"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "firstNationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ]
              },
              {
                "dataType": "text",
                "name": "participationDetails",
                "validate": "required, maxSize[3000]"
              }
            ],
            "dataType": "list",
            "name": "participationInformationTable"
          },
          {
            "dataType": "number",
            "name": "totalSurveyBaseline",
            "validate": "required,min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(skillsAndKnowledgeSurveys, \"baselineOrIndicatorSurvey == 'Baseline' ? 1 : 0\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalSurveyBaselineInvoiced",
            "validate": [
              {
                "param": {
                  "expression": "totalSurveyBaseline",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": 0
          },
          {
            "dataType": "number",
            "name": "totalSurveyIndicator",
            "validate": "required,min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(skillsAndKnowledgeSurveys, \"baselineOrIndicatorSurvey == 'Indicator' ? 1 : 0\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalSurveyIndicatorInvoiced",
            "validate": [
              {
                "param": {
                  "expression": "totalSurveyIndicator",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": 0
          },
          {
            "dataType": "number",
            "name": "numberOfSurveysInvoiced",
            "validate": "required,min[0],max[1]",
            "defaultValue": 1
          },
          {
            "dataType": "text",
            "name": "comments",
            "validate": "maxSize[1500]"
          },
          {
            "dataType": "image",
            "name": "photographicEvidence"
          },
          {
            "dataType": "boolean",
            "name": "dataUploaded",
            "description": ""
          },
          {
            "dataType": "text",
            "name": "projectAssuranceDetails",
            "description": ""
          },
          {
            "dataType": "list",
            "name": "assuranceDocuments",
            "columns": [
              {
                "dataType": "document",
                "name": "attachments",
                "description": "Please attach any Evidence of Service Delivery here."
              }
            ]
          }
        ],
        "modelName": "NHT - Skills and knowledge survey",
        "title": "Skills and Knowledge Survey",
        "viewModel": [
          {
            "type": "section",
            "items": [
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<h3>Participation information</h3>"
                  }
                ]
              },
              {
                "columns": [
                  {
                    "width": "10%",
                    "source": "participationIndividualsOrGroups",
                    "title": "Are individuals or groups delivering this service?",
                    "type": "selectOne"
                  },
                  {
                    "width": "20%",
                    "type": "col",
                    "title": "Total number of people delivering this service <br>(including First Nations people)<b style=\"color:red\">*</b>",
                    "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                    "items": [
                      {
                        "source": "participationIndividualNumber",
                        "type": "number"
                      },
                      {
                        "source": "participationGroupNumber",
                        "type": "selectOne"
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "width": "20%",
                    "title": "Total number of First Nations people delivering this service<b style=\"color:red\">*</b>",
                    "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                    "items": [
                      {
                        "source": "firstNationIndividualNumber",
                        "type": "number"
                      },
                      {
                        "source": "firstNationGroupNumber",
                        "type": "selectOne"
                      }
                    ]
                  },
                  {
                    "source": "participationDetails",
                    "rows": 4,
                    "title": "If no First Nations people participated in the delivery of this service, <br>what are the reasons? If there was participation, please provide details.",
                    "helpText": "If there were no First Nations people participating in the delivery of this service, please explain the reasons. If there were First Nations people involved, please outline how they were involved.",
                    "type": "textarea"
                  }
                ],
                "userAddedRows": false,
                "disableTableUpload": false,
                "source": "participationInformationTable",
                "type": "table"
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<h3>Survey information</h3><p><b>Before completing this section, please ensure you have created a Data Set Summary information for every data set produced by the surveys you intend to report</b></p><ul><li>Each survey reported must relate to a combination of outcomes as described in your MERI plan</li><li>Each Data Set Summary recorded for a survey must be addressing the same outcomes as selected for the survey</li><li>If a survey produced more than one data set, use the New Data Set button to add each Data Set Summary under your survey</li><li>A single survey can be made up of multiple dataset</li></ul>"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<h3>Totals Summary</h3>"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "col",
                    "css": "span4 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(i) Total Number of baseline skills and knowledge surveys completed for this reporting period",
                            "source": "totalSurveyBaseline",
                            "type": "number"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(ii) Total Number of baseline skills and knowledge surveys <u><i>invoiced</i></u> for this reporting period",
                            "source": "totalSurveyBaselineInvoiced",
                            "type": "number"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span4 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(iii)  Total Number of  indicator skills and knowledge surveys completed for this reporting period",
                            "source": "totalSurveyIndicator",
                            "type": "number"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(iv) Total Number of indicator skills and knowledge surveys <u><i>invoiced</i></u> for this reporting period",
                            "source": "totalSurveyIndicatorInvoiced",
                            "type": "number"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "addRowText": "Add survey",
                "removeRowText": "Delete this survey",
                "userAddedRows": true,
                "source": "skillsAndKnowledgeSurveys",
                "type": "repeat",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "type": "col",
                        "items": [
                          {
                            "source": "relatedOutcomes",
                            "type": "selectOne",
                            "preLabel": "Which outcome statement/s relates to this survey?"
                          }
                        ]
                      },
                      {
                        "type": "col",
                        "items": [
                          {
                            "source": "baselineOrIndicatorSurvey",
                            "type": "selectOne",
                            "preLabel": "Baseline survey or indicator (follow-up) survey?"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "source": "surveyObjective",
                        "preLabel": "Survey objective",
                        "type": "text"
                      }
                    ]
                  },
                  {
                    "type": "repeat",
                    "source": "skillsAndKnowledgeDataSets",
                    "userAddedRows": true,
                    "addRowText": "New data set",
                    "removeRowText": "Delete this data set",
                    "items": [
                      {
                        "type": "row",
                        "css": "border-bottom",
                        "items": [
                          {
                            "type": "col",
                            "items": [
                              {
                                "source": "dataSetId",
                                "type": "selectOne",
                                "preLabel": "Please select the data set produced by this survey.  Note it must have already been entered on the Data Set Summary tab."
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "projectBaselines",
                                    "type": "selectMany",
                                    "preLabel": "Which project baseline/s relate to this survey?",
                                    "readonly": "readonly"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "investmentPriorities2",
                                    "preLabel": "Which investment priority does this activity relate to?",
                                    "type": "select2Many"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "otherInvestmentPriority",
                                    "type": "text"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Activity start date",
                                    "source": "activitiesStartDate",
                                    "type": "date"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Activity end date",
                                    "source": "activitiesEndDate",
                                    "type": "date"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Sites covered by skills and knowledge survey",
                                    "source": "sitesCoveredForSkillsAndKnowledge",
                                    "type": "feature"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "calculatedAreaTreatedHa",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    },
                                    "readonly": "readonly"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "calculatedLengthTreatedKm",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    },
                                    "readonly": "readonly"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Please attach mapping details",
                                    "source": "extraMappingDetails",
                                    "type": "document"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Actual area (ha) / length (km) covered by skills and knowledge survey",
                                    "source": "areaTreatedHa",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    }
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "lengthTreatedKm",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    }
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Reason for actual being different to mapped amount",
                                    "source": "mappingNotAlignedReason",
                                    "type": "selectOne"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "placeholder": "Please enter the reason/s the mapping didn't align with the invoiced amount",
                                    "source": "mappingNotAlignedComments",
                                    "type": "textarea",
                                    "rows": 5
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Survey technique",
                                    "source": "emsaProtocol",
                                    "type": "selectOne",
                                    "readonly": "readonly"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Survey technique (if Other)",
                                    "source": "otherEmsaProtocol",
                                    "type": "select2Many"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "surveyMethodology",
                                    "preLabel": "Survey methodology",
                                    "type": "text"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "invoicingThisActivity",
                                    "preLabel": "Are you invoicing for this activity in this reporting period?",
                                    "type": "selectOne"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "numberOfPeopleSurveying",
                                    "preLabel": "Number of people completing survey",
                                    "type": "number"
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Optionally attach photos",
                    "source": "photographicEvidence",
                    "type": "image"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Clarification, if needed",
                    "type": "textarea",
                    "rows": 4,
                    "css": "span8",
                    "source": "comments",
                    "placeholder": "Clarification comments include information for your project manager about the service like:\n • any reported items that are not being invoiced (eg, over-achievement) \n • any extraneous circumstances that affected delivery of the service \n"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<p><b>Available Evidence</b></p>This field is mandatory for all projects as part of the invoicing process. Please list evidence you have retained for this service and provide information to where the evidence is stored (links/file location data). Refer to the Project Service Evidence Guide and the Project Service Summaries for information on the evidence requirements."
                  },
                  {
                    "preLabel": "Data have been uploaded",
                    "source": "dataUploaded",
                    "type": "boolean"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "",
                    "source": "projectAssuranceDetails",
                    "type": "textarea",
                    "rows": 4,
                    "placeholder": "List the documentary evidence you have available for this project service. Include specifically, the document titles and location (e.g. internal IT network pathway, URLs) to assist with locating this material for future audits/assurance purposes."
                  }
                ]
              },
              {
                "type": "table",
                "source": "assuranceDocuments",
                "userAddedRows": true,
                "disableTableUpload": true,
                "columns": [
                  {
                    "title": "Attached documents",
                    "source": "attachments",
                    "type": "document"
                  }
                ]
              }
            ]
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtSkillsAndKnowledgeSurvey",
      "optional": true,
      "optionalQuestionText": null,
      "title": "Skills and knowledge survey",
      "collapsibleHeading": null,
      "name": "NHT - Skills and knowledge survey",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "dataModel": [
          {
            "name": "soilTestingSurveys",
            "dataType": "list",
            "minSize": 1,
            "columns": [
              {
                "name": "relatedOutcomes",
                "dataType": "text",
                "description": "Select the outcome/s as defined in your MERI plan that this service was delivered to achieve.",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "value",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "context-path": "outcomes"
                    }
                  }
                }
              },
              {
                "dataType": "text",
                "name": "baselineOrIndicatorSurvey",
                "description": "",
                "constraints": [
                  "Baseline",
                  "Indicator"
                ],
                "validate": "required"
              },
              {
                "dataType": "text",
                "name": "surveyObjective",
                "description": "What the survey aim to capture? How will the information obtained from the survey be used?",
                "validate": "required,maxSize[3000]"
              },
              {
                "dataType": "list",
                "name": "soilTestingDataSets",
                "columns": [
                  {
                    "name": "dataSetId",
                    "dataType": "text",
                    "description": "This section will require the Data Set Name so the Metadata fields in the Data Set Summary tab should be filled out before the Outcome Report is due. More than one dataset if relevant for this Project Baseline could be selected.",
                    "validate": "required",
                    "constraints": {
                      "textProperty": "name",
                      "valueProperty": "dataSetId",
                      "excludePath": "soilTestingSurveys.soilTestingDataSets.dataSetId",
                      "type": "pre-populated",
                      "config": {
                        "source": {
                          "context-path": "owner.custom.dataSets"
                        },
                        "filter": {
                          "namespace": "dataSet",
                          "expression": "dataSet.serviceId == 30 and dataSet.progress == 'finished' and baselineOrIndicatorSurvey == baselineIndicatorMapping.lookupValue(dataSet.type) and deepEquals(relatedOutcomes,dataSet.outcomesLabel)"
                        }
                      }
                    },
                    "behaviour": [
                      {
                        "type": "pre_populate",
                        "config": {
                          "source": {
                            "context-path": "owner.custom.dataSets"
                          },
                          "find": {
                            "namespace": "dataSet",
                            "expression": "dataSet.dataSetId == dataSetId"
                          },
                          "target": "$data"
                        }
                      }
                    ]
                  },
                  {
                    "name": "projectBaselines",
                    "dataType": "stringList",
                    "description": "Select the relevant Project Baseline as listed in the Monitoring Methodology section of the MERI Plan.",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.baselines"
                    },
                    "constraints": {
                      "textProperty": "baseline",
                      "valueProperty": "code",
                      "type": "pre-populated",
                      "excludePath": "projectBaselines",
                      "config": {
                        "source": {
                          "context-path": "owner.custom.details.baseline.rows"
                        }
                      }
                    }
                  },
                  {
                    "name": "investmentPriorities2",
                    "dataType": "stringList",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.investmentPriorities"
                    },
                    "constraints": {
                      "type": "pre-populated",
                      "config": {
                        "source": {
                          "params": [
                            {
                              "expression": "owner.projectId",
                              "name": "id",
                              "type": "computed"
                            }
                          ],
                          "url": "/project/listProjectInvestmentPriorities/"
                        }
                      }
                    }
                  },
                  {
                    "dataType": "text",
                    "name": "otherInvestmentPriority",
                    "behaviour": [
                      {
                        "type": "enable",
                        "condition": "\"Other\" in investmentPriorities2"
                      }
                    ]
                  },
                  {
                    "dataType": "date",
                    "name": "activitiesStartDate",
                    "description": "Specific the dates these events were held on.",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.startDate"
                    }
                  },
                  {
                    "dataType": "date",
                    "name": "activitiesEndDate",
                    "description": "Specific the dates these events were held on.",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.endDate"
                    }
                  },
                  {
                    "dataType": "feature",
                    "name": "sitesTreated",
                    "computed": {
                      "defer": true,
                      "source": {
                        "url": "/site/geojson",
                        "params": [
                          {
                            "expression": "x=find(owner.custom.dataSets, \"dataSetId\", dataSetId); x.siteId",
                            "name": "id",
                            "type": "computed",
                            "required": true
                          }
                        ]
                      }
                    }
                  },
                  {
                    "computed": {
                      "expression": "$geom.areaHa(sitesTreated)"
                    },
                    "dataType": "number",
                    "name": "calculatedAreaTreatedHa",
                    "units": "ha",
                    "decimalPlaces": 3,
                    "behaviour": [
                      {
                        "condition": "areaInvoicedTreatedHa > 0",
                        "type": "conditional_validation",
                        "value": {
                          "message": "The managed area must be mapped",
                          "validate": "required,min[0.0001]"
                        }
                      }
                    ]
                  },
                  {
                    "computed": {
                      "expression": "$geom.lengthKm(sitesTreated)"
                    },
                    "dataType": "number",
                    "name": "calculatedLengthTreatedKm",
                    "units": "km",
                    "decimalPlaces": 3,
                    "behaviour": [
                      {
                        "condition": "lengthTreatedKm > 0",
                        "type": "conditional_validation",
                        "value": {
                          "message": "The managed length must be mapped",
                          "validate": "required,min[0.0001]"
                        }
                      }
                    ]
                  },
                  {
                    "defaultValue": {
                      "type": "computed",
                      "expression": "calculatedAreaTreatedHa"
                    },
                    "dataType": "number",
                    "name": "areaTreatedHa",
                    "units": "ha",
                    "decimalPlaces": 3,
                    "validate": "required,min[0]"
                  },
                  {
                    "dataType": "text",
                    "name": "mappingNotAlignedReason",
                    "constraints": [
                      "Mapped area simplifies more complex area/s where work was undertaken during this period",
                      "Other"
                    ],
                    "validate": "required",
                    "behaviour": [
                      {
                        "condition": "not (within(calculatedAreaTreatedHa, areaTreatedHa, 0.1))",
                        "type": "visible"
                      }
                    ]
                  },
                  {
                    "dataType": "text",
                    "name": "mappingNotAlignedComments",
                    "validate": "required,maxSize[100]",
                    "behaviour": [
                      {
                        "type": "visible",
                        "condition": "\"Other\" == mappingNotAlignedReason"
                      }
                    ]
                  },
                  {
                    "dataType": "document",
                    "name": "extraMappingDetails",
                    "validate": "required",
                    "description": "Please fill in the Mapped/Actual/Invoice fields before attaching a document here. If those fields match this field will be void. <br/>If any of these fields differ please attach your organisation's detailed map for the area, covered by this project service - during reporting period (include the scale measure for each map).",
                    "behaviour": [
                      {
                        "condition": "not (within(calculatedAreaTreatedHa, areaTreatedHa, 0.1)) or roundTo(areaTreatedHa, 2) != roundTo(areaInvoicedTreatedHa, 2)",
                        "type": "visible"
                      }
                    ]
                  },
                  {
                    "dataType": "number",
                    "name": "areaInvoicedTreatedHa",
                    "units": "ha",
                    "decimalPlaces": 3,
                    "validate": [
                      {
                        "rule": "min[0]"
                      },
                      {
                        "rule": "max",
                        "param": {
                          "type": "computed",
                          "expression": "areaTreatedHa"
                        }
                      }
                    ]
                  },
                  {
                    "dataType": "text",
                    "name": "invoicedNotActualReason",
                    "constraints": [
                      "Work was undertaken over a greater area than will be invoiced for",
                      "Other"
                    ],
                    "validate": "required",
                    "behaviour": [
                      {
                        "condition": "roundTo(areaTreatedHa, 2) != roundTo(areaInvoicedTreatedHa, 2)",
                        "type": "visible"
                      }
                    ]
                  },
                  {
                    "dataType": "text",
                    "name": "invoicedNotActualComments",
                    "behaviour": [
                      {
                        "type": "visible",
                        "condition": "\"Other\" == invoicedNotActualReason"
                      }
                    ],
                    "validate": "required,maxSize[300]"
                  },
                  {
                    "defaultValue": {
                      "type": "computed",
                      "expression": "$geom.lengthKm(sitesTreated)"
                    },
                    "dataType": "number",
                    "name": "lengthTreatedKm",
                    "units": "km",
                    "decimalPlaces": 3,
                    "validate": [
                      {
                        "rule": "min",
                        "param": {
                          "type": "computed",
                          "expression": "$geom.lengthKm(sitesTreated)*0.9"
                        }
                      },
                      {
                        "rule": "max",
                        "param": {
                          "type": "computed",
                          "expression": "$geom.lengthKm(sitesTreated)*1.1"
                        }
                      }
                    ]
                  },
                  {
                    "dataType": "text",
                    "description": "Select the technique used to conduct the survey. If the EMSA Application tool was not used, you should select 'Other'.",
                    "name": "emsaProtocol",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.protocol"
                    },
                    "constraints": {
                      "textProperty": "label",
                      "valueProperty": "value",
                      "type": "pre-populated",
                      "config": {
                        "source": {
                          "context-path": "owner.protocols"
                        }
                      }
                    }
                  },
                  {
                    "dataType": "stringList",
                    "description": "Describe the technique (if Other) was selected.",
                    "name": "otherEmsaProtocol",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.methods"
                    },
                    "validate": "required"
                  },
                  {
                    "dataType": "text",
                    "name": "surveyMethodology",
                    "description": "Provide more details on what is being done.",
                    "validate": "required,maxSize[3000]",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.methodDescription"
                    }
                  },
                  {
                    "dataType": "text",
                    "name": "invoicingThisActivity",
                    "constraints": [
                      "Yes",
                      "No"
                    ],
                    "validate": "required"
                  },
                  {
                    "dataType": "text",
                    "name": "testingTechnique",
                    "description": "What/How will these tests capture information?",
                    "validate": "required,maxSize[100]"
                  },
                  {
                    "dataType": "text",
                    "name": "testingObjective",
                    "description": "How will the information obtained from the tests be used?",
                    "validate": "required,maxSize[300]"
                  },
                  {
                    "dataType": "text",
                    "name": "testingDepth",
                    "description": "",
                    "validate": "required,maxSize[300]"
                  }
                ],
                "minSize": 1
              }
            ]
          },
          {
            "dataType": "lookupTable",
            "name": "baselineIndicatorMapping",
            "config": {
              "source": {
                "literal": {
                  "Baseline dataset associated with a project outcome": "Baseline",
                  "Project progress dataset that is tracking change against an established project baseline dataset": "Indicator"
                }
              }
            }
          },
          {
            "dataType": "text",
            "name": "participationIndividualsOrGroups",
            "description": "Once Individuals or groups is selected, the related number field in the next two columns will become editable to report.",
            "constraints": [
              "Individuals",
              "Groups"
            ],
            "validate": "required"
          },
          {
            "dataType": "number",
            "name": "participationIndividualNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Individuals\"",
                "type": "enable"
              }
            ],
            "validate": "required,min[0]"
          },
          {
            "dataType": "text",
            "name": "participationGroupNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Groups\"",
                "type": "enable"
              }
            ],
            "constraints": [
              "0",
              "1-10",
              "11-20",
              "21-30",
              "31-40",
              "41-50"
            ],
            "validate": "required"
          },
          {
            "dataType": "number",
            "name": "firstNationIndividualNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Individuals\"",
                "type": "enable"
              }
            ],
            "validate": "required,min[0]"
          },
          {
            "dataType": "text",
            "name": "firstNationGroupNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Groups\"",
                "type": "enable"
              }
            ],
            "constraints": [
              "0",
              "1-10",
              "11-20",
              "21-30",
              "31-40",
              "41-50"
            ],
            "validate": "required"
          },
          {
            "dataType": "text",
            "name": "participationDetails",
            "validate": "maxSize[3000]"
          },
          {
            "name": "numbersoilTestingSurveysConducted",
            "type": "number",
            "decimalPlaces": 0,
            "computed": {
              "expression": "count(soilTestingSurveys, \"baselineOrIndicatorSurvey\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalSurveyBaseline",
            "validate": "required,min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "count(soilTestingSurveys, \"baselineOrIndicatorSurvey\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalSurveyBaselineInvoiced",
            "validate": [
              {
                "param": {
                  "expression": "totalSurveyBaseline",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": 1
          },
          {
            "dataType": "number",
            "name": "totalSurveyIndicator",
            "validate": "required,min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "count(soilTestingSurveys, \"baselineOrIndicatorSurvey\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalSurveyIndicatorInvoiced",
            "validate": [
              {
                "param": {
                  "expression": "totalSurveyIndicator",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": 0
          },
          {
            "dataType": "text",
            "name": "comments",
            "validate": "maxSize[1500]"
          },
          {
            "dataType": "image",
            "name": "photographicEvidence"
          },
          {
            "dataType": "boolean",
            "name": "dataUploaded",
            "description": ""
          },
          {
            "dataType": "text",
            "name": "projectAssuranceDetails",
            "description": ""
          },
          {
            "dataType": "list",
            "name": "assuranceDocuments",
            "columns": [
              {
                "dataType": "document",
                "name": "attachments",
                "description": "Please attach any Evidence of Service Delivery here."
              }
            ]
          }
        ],
        "modelName": "NHT - Soil testing survey",
        "title": "Soil Testing Survey",
        "viewModel": [
          {
            "type": "section",
            "items": [
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<h3>Participation information</h3>"
                  }
                ]
              },
              {
                "columns": [
                  {
                    "width": "10%",
                    "source": "participationIndividualsOrGroups",
                    "title": "Are individuals or groups delivering this service?",
                    "type": "selectOne"
                  },
                  {
                    "width": "20%",
                    "type": "col",
                    "title": "Total number of people delivering this service <br>(including First Nations people)",
                    "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                    "items": [
                      {
                        "source": "participationIndividualNumber",
                        "type": "number"
                      },
                      {
                        "source": "participationGroupNumber",
                        "type": "selectOne"
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "width": "20%",
                    "title": "Total number of First Nations people delivering this service ",
                    "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                    "items": [
                      {
                        "source": "firstNationIndividualNumber",
                        "type": "number"
                      },
                      {
                        "source": "firstNationGroupNumber",
                        "type": "selectOne"
                      }
                    ]
                  },
                  {
                    "source": "participationDetails",
                    "rows": 4,
                    "title": "If no First Nations people participated in the delivery of this service, <br>what are the reasons? If there was participation, please provide details.",
                    "helpText": "If there were no First Nations people participating in the delivery of this service, please explain the reasons. If there were First Nations people involved, please outline how they were involved.",
                    "type": "textarea"
                  }
                ],
                "userAddedRows": false,
                "disableTableUpload": false,
                "source": "",
                "type": "table"
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<h3>Survey information</h3><p><b>Before completing this section, please ensure you have created a Data Set Summary information for every data set produced by the surveys you intend to report</b></p><ul><li>Each survey reported must relate to a combination of outcomes as described in your MERI plan</li><li>Each Data Set Summary recorded for a survey must be addressing the same outcomes as selected for the survey</li><li>If a survey produced more than one data set, use the New Data Set button to add each Data Set Summary under your survey</li><li>A single survey can be made up of multiple dataset</li></ul>"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<h3>Totals Summary</h3>"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "col",
                    "css": "span4 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(i) Total Number of baseline soil testing surveys completed for this reporting period",
                            "source": "totalSurveyBaseline",
                            "type": "number"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(ii) Total Number of baseline soil testing surveys <u><i>invoiced</i></u> for this reporting period",
                            "source": "totalSurveyBaselineInvoiced",
                            "type": "number"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span4 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(iii)  Total Number of  indicator soil testing surveys completed for this reporting period",
                            "source": "totalSurveyIndicator",
                            "type": "number"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(iv) Total Number of indicator soil testing surveys <u><i>invoiced</i></u> for this reporting period",
                            "source": "totalSurveyIndicatorInvoiced",
                            "type": "number"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "addRowText": "Add survey",
                "removeRowText": "Delete this survey",
                "userAddedRows": true,
                "source": "soilTestingSurveys",
                "type": "repeat",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "type": "col",
                        "items": [
                          {
                            "source": "relatedOutcomes",
                            "type": "selectOne",
                            "preLabel": "Which outcome statement/s relates to this survey?"
                          }
                        ]
                      },
                      {
                        "type": "col",
                        "items": [
                          {
                            "source": "baselineOrIndicatorSurvey",
                            "type": "selectOne",
                            "preLabel": "Baseline survey or indicator (follow-up) survey?"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "source": "surveyObjective",
                        "preLabel": "Survey objective",
                        "type": "text"
                      }
                    ]
                  },
                  {
                    "type": "repeat",
                    "source": "soilTestingDataSets",
                    "userAddedRows": true,
                    "addRowText": "New data set",
                    "removeRowText": "Delete this data set",
                    "items": [
                      {
                        "type": "row",
                        "css": "border-bottom",
                        "items": [
                          {
                            "type": "col",
                            "items": [
                              {
                                "source": "dataSetId",
                                "type": "selectOne",
                                "preLabel": "Please select the data set produced by this survey.  Note it must have already been entered on the Data Set Summary tab."
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "projectBaselines",
                                    "type": "selectMany",
                                    "preLabel": "Which project baseline/s relate to this survey?",
                                    "readonly": "readonly"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "investmentPriorities2",
                                    "preLabel": "Which investment priority does this activity relate to?",
                                    "type": "select2Many"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "otherInvestmentPriority",
                                    "type": "text"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Activity start date",
                                    "source": "activitiesStartDate",
                                    "type": "date"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Activity end date",
                                    "source": "activitiesEndDate",
                                    "type": "date"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Area (ha) / length (km) where soil tests were conducted",
                                    "source": "sitesTreated",
                                    "type": "feature"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "calculatedAreaTreatedHa",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    },
                                    "readonly": "readonly"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "calculatedLengthTreatedKm",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    },
                                    "readonly": "readonly"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Please attach mapping details",
                                    "source": "extraMappingDetails",
                                    "type": "document"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Actual area (ha) / length (km) where soil tests were conducted",
                                    "source": "areaTreatedHa",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    }
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "lengthTreatedKm",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    }
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Reason for actual being different to mapped amount",
                                    "source": "mappingNotAlignedReason",
                                    "type": "selectOne"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "placeholder": "Please enter the reason/s the mapping didn't align with the invoiced amount",
                                    "source": "mappingNotAlignedComments",
                                    "type": "textarea",
                                    "rows": 5
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Survey technique",
                                    "source": "emsaProtocol",
                                    "type": "selectOne",
                                    "readonly": "readonly"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Survey technique (if Other)",
                                    "source": "otherEmsaProtocol",
                                    "type": "select2Many"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "surveyMethodology",
                                    "preLabel": "Survey methodology",
                                    "type": "text"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "invoicingThisActivity",
                                    "preLabel": "Are you invoicing for this activity in this reporting period?",
                                    "type": "selectOne"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "testingTechnique",
                                    "preLabel": "Testing technique",
                                    "type": "textarea"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "testingObjective",
                                    "preLabel": "Testing objective",
                                    "type": "textarea"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "testingDepth",
                                    "preLabel": "Testing depth",
                                    "type": "textarea"
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Optionally attach photos",
                    "source": "photographicEvidence",
                    "type": "image"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Clarification, if needed",
                    "type": "textarea",
                    "rows": 4,
                    "css": "span8",
                    "source": "comments",
                    "placeholder": "Clarification comments include information for your project manager about the service like:\n • any reported items that are not being invoiced (eg, over-achievement) \n • any extraneous circumstances that affected delivery of the service \n"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<p><b>Available Evidence</b></p>This field is mandatory for all projects as part of the invoicing process. Please list evidence you have retained for this service and provide information to where the evidence is stored (links/file location data). Refer to the Project Service Evidence Guide and the Project Service Summaries for information on the evidence requirements."
                  },
                  {
                    "preLabel": "Data have been uploaded",
                    "source": "dataUploaded",
                    "type": "boolean"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "",
                    "source": "projectAssuranceDetails",
                    "type": "textarea",
                    "rows": 4,
                    "placeholder": "List the documentary evidence you have available for this project service. Include specifically, the document titles and location (e.g. internal IT network pathway, URLs) to assist with locating this material for future audits/assurance purposes."
                  }
                ]
              },
              {
                "type": "table",
                "source": "assuranceDocuments",
                "userAddedRows": true,
                "disableTableUpload": true,
                "columns": [
                  {
                    "title": "Attached documents",
                    "source": "attachments",
                    "type": "document"
                  }
                ]
              }
            ]
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtSoilTesting",
      "optional": true,
      "optionalQuestionText": null,
      "title": "Soil testing",
      "collapsibleHeading": null,
      "name": "NHT - Soil testing",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "dataModel": [
          {
            "dataType": "text",
            "name": "participationIndividualsOrGroups",
            "description": "Once Individuals or groups is selected, the related number field in the next two columns will become editable to report.",
            "constraints": [
              "Individuals",
              "Groups"
            ],
            "validate": "required"
          },
          {
            "dataType": "number",
            "name": "participationIndividualNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Individuals\"",
                "type": "enable"
              }
            ],
            "validate": "required,min[0]"
          },
          {
            "dataType": "text",
            "name": "participationGroupNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Groups\"",
                "type": "enable"
              }
            ],
            "constraints": [
              "0",
              "1-10",
              "11-20",
              "21-30",
              "31-40",
              "41-50"
            ],
            "validate": "required"
          },
          {
            "dataType": "number",
            "name": "firstNationIndividualNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Individuals\"",
                "type": "enable"
              }
            ],
            "validate": "required,min[0]"
          },
          {
            "dataType": "text",
            "name": "firstNationGroupNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Groups\"",
                "type": "enable"
              }
            ],
            "constraints": [
              "0",
              "1-10",
              "11-20",
              "21-30",
              "31-40",
              "41-50"
            ],
            "validate": "required"
          },
          {
            "dataType": "text",
            "name": "participationDetails",
            "validate": "maxSize[3000]"
          },
          {
            "columns": [
              {
                "dataType": "text",
                "name": "initialOrFollowup",
                "constraints": [
                  "Initial",
                  "Follow-up"
                ],
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "numberOfInterventions",
                "validate": "required,min[0]"
              },
              {
                "dataType": "feature",
                "name": "siteOfIntervention"
              },
              {
                "defaultValue": {
                  "type": "computed",
                  "expression": "$geom.areaHa(siteOfIntervention)"
                },
                "dataType": "number",
                "name": "areaOfInterventionHa",
                "validate": [
                  {
                    "rule": "min",
                    "param": {
                      "type": "computed",
                      "expression": "$geom.areaHa(siteOfIntervention)*0.9"
                    }
                  },
                  {
                    "rule": "max",
                    "param": {
                      "type": "computed",
                      "expression": "$geom.areaHa(siteOfIntervention)*1.1"
                    }
                  }
                ]
              },
              {
                "defaultValue": {
                  "type": "computed",
                  "expression": "$geom.lengthKm(siteOfIntervention)"
                },
                "dataType": "number",
                "name": "lengthOfInterventionKm",
                "validate": [
                  {
                    "rule": "min",
                    "param": {
                      "type": "computed",
                      "expression": "$geom.lengthKm(siteOfIntervention)*0.9"
                    }
                  },
                  {
                    "rule": "max",
                    "param": {
                      "type": "computed",
                      "expression": "$geom.lengthKm(siteOfIntervention)*1.1"
                    }
                  }
                ]
              },
              {
                "dataType": "feature",
                "name": "relocationSite",
                "description": "If translocation is required please map site."
              },
              {
                "defaultValue": {
                  "type": "computed",
                  "expression": "$geom.areaHa(relocationSite)"
                },
                "dataType": "number",
                "name": "areaOfRelocationSiteHa",
                "validate": [
                  {
                    "rule": "min",
                    "param": {
                      "type": "computed",
                      "expression": "$geom.areaHa(relocationSite)*0.9"
                    }
                  },
                  {
                    "rule": "max",
                    "param": {
                      "type": "computed",
                      "expression": "$geom.areaHa(relocationSite)*1.1"
                    }
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "purposeOfIntervention",
                "description": "This field may be used to list What type of intervention is required. A list of multiple interventions need to be separated with a ';'.",
                "validate": "required,maxSize[500]"
              },
              {
                "columns": [
                  {
                    "dataType": "date",
                    "name": "activitiesStartDate",
                    "description": "Specific the dates these events were held on.",
                    "validate": "required"
                  },
                  {
                    "dataType": "date",
                    "name": "activitiesEndDate",
                    "description": "Specific the dates these events were held on.",
                    "validate": "required"
                  },
                  {
                    "name": "relatedOutcomes",
                    "dataType": "text",
                    "description": "Select the outcome/s as defined in your MERI plan that this service was delivered to achieve.",
                    "validate": "required",
                    "constraints": {
                      "textProperty": "label",
                      "valueProperty": "label",
                      "type": "pre-populated",
                      "config": {
                        "source": {
                          "url": "/project/outcomesByScores",
                          "params": [
                            {
                              "expression": "owner.projectId",
                              "name": "id",
                              "type": "computed"
                            },
                            {
                              "expression": "scores",
                              "name": "scoreIds",
                              "type": "computed"
                            }
                          ]
                        }
                      }
                    }
                  },
                  {
                    "name": "investmentPriorities2",
                    "dataType": "stringList",
                    "validate": "required",
                    "constraints": {
                      "type": "pre-populated",
                      "config": {
                        "source": {
                          "params": [
                            {
                              "expression": "owner.projectId",
                              "name": "id",
                              "type": "computed"
                            }
                          ],
                          "url": "/project/listProjectInvestmentPriorities/"
                        }
                      }
                    }
                  },
                  {
                    "dataType": "text",
                    "name": "otherInvestmentPriority",
                    "behaviour": [
                      {
                        "type": "enable",
                        "condition": "\"Other\" in investmentPriorities2"
                      }
                    ]
                  },
                  {
                    "dataType": "species",
                    "name": "species",
                    "validate": "required"
                  },
                  {
                    "dataType": "text",
                    "name": "participationIndividualsOrGroups",
                    "description": "Once Individuals or groups is selected, the related number field in the next two columns will become editable to report.",
                    "constraints": [
                      "Individuals",
                      "Groups"
                    ],
                    "validate": "required"
                  },
                  {
                    "dataType": "number",
                    "name": "numberOfIndividualsInvolved",
                    "validate": "required,min[0]"
                  }
                ],
                "dataType": "list",
                "name": "interventionSpecies"
              }
            ],
            "dataType": "list",
            "name": "interventionDetails"
          },
          {
            "dataType": "text",
            "name": "comments",
            "validate": "maxSize[1500]"
          },
          {
            "dataType": "image",
            "name": "photographicEvidence"
          },
          {
            "dataType": "boolean",
            "name": "dataUploaded",
            "description": "<ul><li>Tick box to confirm data has been uploaded</li><li>URL Link (mandatory if below is ticked) in available evidence</li></ul>"
          },
          {
            "name": "projectAssuranceDetails",
            "dataType": "text",
            "validate": "required,maxSize[5000]",
            "behaviour": [
              {
                "condition": "dataUploaded == true",
                "type": "enable"
              }
            ]
          },
          {
            "dataType": "list",
            "name": "assuranceDocuments",
            "columns": [
              {
                "dataType": "document",
                "name": "attachments",
                "description": "Please attach any Evidence of Service Delivery here."
              }
            ]
          }
        ],
        "modelName": "NHT - Emergency Interventions",
        "title": "Undertaking Emergency Interventions to Prevent Extinctions",
        "viewModel": [
          {
            "columns": [
              {
                "width": "10%",
                "source": "participationIndividualsOrGroups",
                "title": "Are individuals or groups delivering this service?",
                "type": "selectOne"
              },
              {
                "width": "20%",
                "type": "col",
                "title": "Total number of people delivering this service <br>(including First Nations people)",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "participationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "participationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "type": "col",
                "width": "20%",
                "title": "Total number of First Nations people delivering this service ",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "firstNationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "firstNationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "source": "participationDetails",
                "rows": 4,
                "title": "If no First Nations people participated in the delivery of this service, <br>what are the reasons? If there was participation, please provide details.",
                "helpText": "If there were no First Nations people participating in the delivery of this service, please explain the reasons. If there were First Nations people involved, please outline how they were involved.",
                "type": "textarea"
              }
            ],
            "userAddedRows": false,
            "disableTableUpload": false,
            "source": "",
            "type": "table"
          },
          {
            "type": "section",
            "items": [
              {
                "addRowText": "Add intervention site",
                "userAddedRows": true,
                "source": "interventionDetails",
                "type": "repeat",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "Initial or follow-up activity?",
                        "css": "span2",
                        "source": "initialOrFollowup",
                        "type": "selectOne"
                      },
                      {
                        "preLabel": "Number of interventions",
                        "css": "span2",
                        "source": "numberOfInterventions",
                        "type": "number"
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "preLabel": "Site/s where interventions occurred (source site)",
                        "css": "span2",
                        "source": "siteOfIntervention",
                        "type": "feature"
                      },
                      {
                        "preLabel": "Actual area (ha) where interventions occurred",
                        "css": "span2",
                        "source": "areaOfInterventionHa",
                        "type": "number"
                      },
                      {
                        "preLabel": "Actual area (ha) where interventions were relocated to (release site)",
                        "css": "span2",
                        "source": "relocationSite",
                        "type": "feature"
                      },
                      {
                        "preLabel": "Actual area (ha) where interventions occurred",
                        "css": "span2",
                        "source": "areaOfRelocationSiteHa",
                        "type": "number"
                      },
                      {
                        "preLabel": "Type and goal of intervention",
                        "css": "span3",
                        "source": "purposeOfIntervention",
                        "type": "textarea",
                        "rows": 3
                      }
                    ]
                  },
                  {
                    "columns": [
                      {
                        "title": "Activity start date",
                        "source": "activitiesStartDate",
                        "type": "date",
                        "width": "10%"
                      },
                      {
                        "title": "Activity end date",
                        "source": "activitiesEndDate",
                        "type": "date",
                        "width": "10%"
                      },
                      {
                        "width": "15%",
                        "source": "relatedOutcomes",
                        "type": "selectOne",
                        "title": "Which outcome statement/s relates to this survey?"
                      },
                      {
                        "width": "20%",
                        "type": "col",
                        "title": "Which investment priority does this activity relate to?",
                        "items": [
                          {
                            "source": "investmentPriorities2",
                            "type": "select2Many"
                          },
                          {
                            "source": "otherInvestmentPriority",
                            "type": "text"
                          }
                        ]
                      },
                      {
                        "width": "25%",
                        "source": "species",
                        "title": "Targeted species",
                        "type": "speciesSelect"
                      },
                      {
                        "width": "10%",
                        "source": "participationIndividualsOrGroups",
                        "title": "Group or individual",
                        "type": "selectOne"
                      },
                      {
                        "width": "10%",
                        "source": "numberOfIndividualsInvolved",
                        "type": "number",
                        "title": "Number of groups / individuals"
                      }
                    ],
                    "userAddedRows": true,
                    "source": "interventionSpecies",
                    "type": "table"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Optionally attach photos",
                    "source": "photographicEvidence",
                    "type": "image"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Clarification, if needed",
                    "type": "textarea",
                    "rows": 4,
                    "css": "span8",
                    "source": "comments",
                    "placeholder": "Clarification comments include information for your project manager about the service like:\n • any reported items that are not being invoiced (eg, over-achievement) \n • any extraneous circumstances that affected delivery of the service \n"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<p><b>Available Evidence</b></p>This field is mandatory for all projects as part of the invoicing process. Please list evidence you have retained for this service and provide information to where the evidence is stored (links/file location data). Refer to the Project Service Evidence Guide and the Project Service Summaries for information on the evidence requirements.<b style=\"color:red\">*</b>"
                  },
                  {
                    "preLabel": "Data have been uploaded",
                    "source": "dataUploaded",
                    "type": "boolean"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "",
                    "source": "projectAssuranceDetails",
                    "type": "textarea",
                    "rows": 4,
                    "placeholder": "List the documentary evidence you have available for this project service. Include specifically, the document titles and location (e.g. internal IT network pathway, URLs) to assist with locating this material for future audits/assurance purposes."
                  }
                ]
              },
              {
                "type": "table",
                "source": "assuranceDocuments",
                "userAddedRows": true,
                "disableTableUpload": true,
                "columns": [
                  {
                    "title": "Attached documents",
                    "source": "attachments",
                    "type": "document"
                  }
                ]
              }
            ]
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtEmergencyInterventions",
      "optional": true,
      "optionalQuestionText": null,
      "title": "Undertaking emergency interventions to prevent extinctions",
      "collapsibleHeading": null,
      "name": "NHT - Emergency Interventions",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "dataModel": [
          {
            "name": "waterQualitySurveys",
            "dataType": "list",
            "minSize": 1,
            "columns": [
              {
                "name": "relatedOutcomes",
                "dataType": "text",
                "description": "Select the outcome/s as defined in your MERI plan that this service was delivered to achieve.",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "value",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "context-path": "outcomes"
                    }
                  }
                }
              },
              {
                "dataType": "text",
                "name": "baselineOrIndicatorSurvey",
                "description": "",
                "constraints": [
                  "Baseline",
                  "Indicator"
                ],
                "validate": "required"
              },
              {
                "dataType": "text",
                "name": "surveyObjective",
                "description": "What the survey aim to capture? How will the information obtained from the survey be used?",
                "validate": "required,maxSize[3000]"
              },
              {
                "dataType": "number",
                "name": "numberOfSurveys",
                "validate": "required,min[1],max[1]",
                "defaultValue": 1,
                "readonly": true
              },
              {
                "dataType": "number",
                "name": "numberOfSurveysInvoiced",
                "validate": "required,min[0],max[1]",
                "defaultValue": 1
              },
              {
                "dataType": "list",
                "name": "waterQualityDataSets",
                "columns": [
                  {
                    "name": "dataSetId",
                    "dataType": "text",
                    "description": "This section will require the Data Set Name so the Metadata fields in the Data Set Summary tab should be filled out before the Outcome Report is due. More than one dataset if relevant for this Project Baseline could be selected.",
                    "validate": "required",
                    "constraints": {
                      "textProperty": "name",
                      "valueProperty": "dataSetId",
                      "excludePath": "waterQualitySurveys.waterQualityDataSets.dataSetId",
                      "type": "pre-populated",
                      "config": {
                        "source": {
                          "context-path": "owner.custom.dataSets"
                        },
                        "filter": {
                          "namespace": "dataSet",
                          "expression": "dataSet.serviceId == 32 and dataSet.progress == 'finished' and baselineOrIndicatorSurvey == baselineIndicatorMapping.lookupValue(dataSet.type) and deepEquals(relatedOutcomes,dataSet.outcomesLabel)"
                        }
                      }
                    },
                    "behaviour": [
                      {
                        "type": "pre_populate",
                        "config": {
                          "waitForInitialisation": true,
                          "source": {
                            "url": "/site/geojson",
                            "params": [
                              {
                                "expression": "x=find(owner.custom.dataSets, \"dataSetId\", dataSetId); x.siteId",
                                "name": "id",
                                "type": "computed",
                                "required": true
                              }
                            ]
                          },
                          "target":  {
                            "type": "singleValue",
                            "name": "sitesCoveredForWaterQuality"
                          }
                        }
                      }
                    ]
                  },
                  {
                    "dataType": "text",
                    "name": "baselineOrIndicatorSurvey",
                    "description": "",
                    "constraints": [
                      "Baseline",
                      "Indicator"
                    ],
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); baselineIndicatorMapping.lookupValue(x.type)"
                    }
                  },
                  {
                    "name": "projectBaselines",
                    "dataType": "stringList",
                    "description": "Select the relevant Project Baseline as listed in the Monitoring Methodology section of the MERI Plan.",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.baselines"
                    },
                    "constraints": {
                      "textProperty": "baseline",
                      "valueProperty": "code",
                      "type": "pre-populated",
                      "excludePath": "projectBaselines",
                      "config": {
                        "source": {
                          "context-path": "owner.custom.details.baseline.rows"
                        }
                      }
                    }
                  },
                  {
                    "name": "investmentPriorities2",
                    "dataType": "stringList",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.investmentPriorities"
                    },
                    "constraints": {
                      "type": "pre-populated",
                      "config": {
                        "source": {
                          "params": [
                            {
                              "expression": "owner.projectId",
                              "name": "id",
                              "type": "computed"
                            }
                          ],
                          "url": "/project/listProjectInvestmentPriorities/"
                        }
                      }
                    }
                  },
                  {
                    "dataType": "text",
                    "name": "otherInvestmentPriority",
                    "behaviour": [
                      {
                        "type": "enable",
                        "condition": "\"Other\" in investmentPriorities2"
                      }
                    ]
                  },
                  {
                    "dataType": "date",
                    "name": "activitiesStartDate",
                    "description": "Specific the dates these events were held on.",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.startDate"
                    }
                  },
                  {
                    "dataType": "date",
                    "name": "activitiesEndDate",
                    "description": "Specific the dates these events were held on.",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.endDate"
                    }
                  },
                  {
                    "dataType": "feature",
                    "name": "sitesCoveredForWaterQuality",
                    "description": "Mapping field to be done and Area (ha)/length (km) field be auto-calculated from mapping."
                  },
                  {
                    "computed": {
                      "expression": "$geom.areaHa(sitesCoveredForWaterQuality)"
                    },
                    "dataType": "number",
                    "name": "calculatedAreaTreatedHa",
                    "units": "ha",
                    "decimalPlaces": 3
                  },
                  {
                    "computed": {
                      "expression": "$geom.lengthKm(sitesCoveredForWaterQuality)"
                    },
                    "dataType": "number",
                    "name": "calculatedLengthTreatedKm",
                    "units": "km",
                    "decimalPlaces": 3,
                    "behaviour": [
                      {
                        "condition": "lengthTreatedKm > 0",
                        "type": "conditional_validation",
                        "value": {
                          "message": "The managed length must be mapped",
                          "validate": "required,min[0.0001]"
                        }
                      }
                    ]
                  },
                  {
                    "defaultValue": {
                      "type": "computed",
                      "expression": "calculatedAreaTreatedHa"
                    },
                    "dataType": "number",
                    "name": "areaTreatedHa",
                    "description": "Manually enter correct figure for this reporting period if different to mapped value.",
                    "units": "ha",
                    "decimalPlaces": 3,
                    "validate": "required,min[0]"
                  },
                  {
                    "dataType": "text",
                    "name": "mappingNotAlignedReason",
                    "constraints": [
                      "Mapped area simplifies more complex area/s where work was undertaken during this period",
                      "Other"
                    ],
                    "validate": "required",
                    "behaviour": [
                      {
                        "condition": "not (within(calculatedAreaTreatedHa, areaTreatedHa, 0.1))",
                        "type": "visible"
                      }
                    ]
                  },
                  {
                    "dataType": "text",
                    "name": "mappingNotAlignedComments",
                    "validate": "required,maxSize[100]",
                    "behaviour": [
                      {
                        "type": "visible",
                        "condition": "\"Other\" == mappingNotAlignedReason"
                      }
                    ]
                  },
                  {
                    "dataType": "document",
                    "name": "extraMappingDetails",
                    "validate": "required",
                    "description": "Please fill in the Mapped/Actual/Invoice fields before attaching a document here. If those fields match this field will be void. <br/>If any of these fields differ please attach your organisation's detailed map for the area, covered by this project service - during reporting period (include the scale measure for each map).",
                    "behaviour": [
                      {
                        "condition": "not (within(calculatedAreaTreatedHa, areaTreatedHa, 0.1))",
                        "type": "visible"
                      }
                    ]
                  },
                  {
                    "defaultValue": {
                      "type": "computed",
                      "expression": "$geom.lengthKm(sitesCoveredForWaterQuality)"
                    },
                    "dataType": "number",
                    "name": "lengthTreatedKm",
                    "units": "km",
                    "decimalPlaces": 3,
                    "validate": [
                      {
                        "rule": "min",
                        "param": {
                          "type": "computed",
                          "expression": "$geom.lengthKm(sitesCoveredForWaterQuality)*0.9"
                        }
                      },
                      {
                        "rule": "max",
                        "param": {
                          "type": "computed",
                          "expression": "$geom.lengthKm(sitesCoveredForWaterQuality)*1.1"
                        }
                      }
                    ]
                  },
                  {
                    "dataType": "text",
                    "description": "Select the technique used to conduct the survey. If the EMSA Application tool was not used, you should select 'Other'.",
                    "name": "emsaProtocol",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.protocol"
                    },
                    "constraints": {
                      "textProperty": "label",
                      "valueProperty": "value",
                      "type": "pre-populated",
                      "config": {
                        "source": {
                          "context-path": "owner.protocols"
                        }
                      }
                    }
                  },
                  {
                    "dataType": "text",
                    "name": "surveyMethodology",
                    "description": "Provide more details on what is being done.",
                    "validate": "required,maxSize[3000]",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.methodDescription"
                    }
                  },
                  {
                    "dataType": "text",
                    "name": "invoicingThisActivity",
                    "constraints": [
                      "Yes",
                      "No"
                    ],
                    "validate": "required"
                  },
                  {
                    "dataType": "stringList",
                    "name": "waterBodyType",
                    "validate": "required",
                    "constraints": [
                      "Estuary",
                      "Freshwater stream",
                      "Freshwater lake",
                      "Ground water",
                      "Mound springs",
                      "Saline stream",
                      "Saline lake",
                      "Stream stretch",
                      "Other"
                    ]
                  },
                  {
                    "dataType": "text",
                    "name": "otherWaterBodyType",
                    "behaviour": [
                      {
                        "condition": "waterBodyType == \"Other\"",
                        "type": "enable_and_clear"
                      }
                    ],
                    "validate": "required"
                  }
                ],
                "minSize": 1
              }
            ]
          },
          {
            "dataType": "lookupTable",
            "name": "baselineIndicatorMapping",
            "config": {
              "source": {
                "literal": {
                  "Baseline dataset associated with a project outcome": "Baseline",
                  "Project progress dataset that is tracking change against an established project baseline dataset": "Indicator"
                }
              }
            }
          },
          {
            "columns": [
              {
                "dataType": "text",
                "name": "participationIndividualsOrGroups",
                "description": "Once Individuals or groups is selected, the related number field in the next two columns will become editable to report.",
                "constraints": [
                  "Individuals",
                  "Groups"
                ],
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "participationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "participationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ]
              },
              {
                "dataType": "number",
                "name": "firstNationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "param": {
                      "expression": "participationIndividualNumber",
                      "type": "computed"
                    },
                    "rule": "max"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "firstNationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ]
              },
              {
                "dataType": "text",
                "name": "participationDetails",
                "validate": "required, maxSize[3000]"
              }
            ],
            "dataType": "list",
            "name": "participationInformationTable"
          },
          {
            "dataType": "number",
            "name": "totalSurveyBaseline",
            "validate": "required,min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(waterQualitySurveys, \"baselineOrIndicatorSurvey == 'Baseline' ? 1 : 0\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalSurveyBaselineInvoiced",
            "validate": [
              {
                "param": {
                  "expression": "totalSurveyBaseline",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": 0
          },
          {
            "dataType": "number",
            "name": "totalSurveyIndicator",
            "validate": "required,min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(waterQualitySurveys, \"baselineOrIndicatorSurvey == 'Indicator' ? 1 : 0\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalSurveyIndicatorInvoiced",
            "validate": [
              {
                "param": {
                  "expression": "totalSurveyIndicator",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": 0
          },
          {
            "dataType": "text",
            "name": "comments",
            "validate": "maxSize[1500]"
          },
          {
            "dataType": "image",
            "name": "photographicEvidence"
          },
          {
            "dataType": "boolean",
            "name": "dataUploaded",
            "description": ""
          },
          {
            "dataType": "text",
            "name": "projectAssuranceDetails",
            "description": ""
          },
          {
            "dataType": "list",
            "name": "assuranceDocuments",
            "columns": [
              {
                "dataType": "document",
                "name": "attachments",
                "description": "Please attach any Evidence of Service Delivery here."
              }
            ]
          }
        ],
        "modelName": "NHT - Water quality survey",
        "title": "Water Quality Survey",
        "viewModel": [
          {
            "type": "section",
            "items": [
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<h3>Participation information</h3>"
                  }
                ]
              },
              {
                "columns": [
                  {
                    "width": "10%",
                    "source": "participationIndividualsOrGroups",
                    "title": "Are individuals or groups delivering this service?",
                    "type": "selectOne"
                  },
                  {
                    "width": "20%",
                    "type": "col",
                    "title": "Total number of people delivering this service <br>(including First Nations people)<b style=\"color:red\">*</b>",
                    "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                    "items": [
                      {
                        "source": "participationIndividualNumber",
                        "type": "number"
                      },
                      {
                        "source": "participationGroupNumber",
                        "type": "selectOne"
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "width": "20%",
                    "title": "Total number of First Nations people delivering this service<b style=\"color:red\">*</b>",
                    "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                    "items": [
                      {
                        "source": "firstNationIndividualNumber",
                        "type": "number"
                      },
                      {
                        "source": "firstNationGroupNumber",
                        "type": "selectOne"
                      }
                    ]
                  },
                  {
                    "source": "participationDetails",
                    "rows": 4,
                    "title": "If no First Nations people participated in the delivery of this service, <br>what are the reasons? If there was participation, please provide details.",
                    "helpText": "If there were no First Nations people participating in the delivery of this service, please explain the reasons. If there were First Nations people involved, please outline how they were involved.",
                    "type": "textarea"
                  }
                ],
                "userAddedRows": false,
                "disableTableUpload": false,
                "source": "participationInformationTable",
                "type": "table"
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<h3>Survey information</h3><p><b>Before completing this section, please ensure you have created a Data Set Summary information for every data set produced by the surveys you intend to report</b></p><ul><li>Each survey reported must relate to a combination of outcomes as described in your MERI plan</li><li>Each Data Set Summary recorded for a survey must be addressing the same outcomes as selected for the survey</li><li>If a survey produced more than one data set, use the New Data Set button to add each Data Set Summary under your survey</li><li>A single survey can be made up of multiple dataset</li></ul>"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<h3>Totals Summary</h3>"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "col",
                    "css": "span4 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(i) Total Number of baseline water quality surveys completed for this reporting period",
                            "source": "totalSurveyBaseline",
                            "type": "number"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(ii) Total Number of baseline water quality surveys <u><i>invoiced</i></u> for this reporting period",
                            "source": "totalSurveyBaselineInvoiced",
                            "type": "number"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span4 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(iii)  Total Number of  indicator water quality surveys completed for this reporting period",
                            "source": "totalSurveyIndicator",
                            "type": "number"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(iv) Total Number of indicator water quality surveys <u><i>invoiced</i></u> for this reporting period",
                            "source": "totalSurveyIndicatorInvoiced",
                            "type": "number"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "addRowText": "Add survey",
                "removeRowText": "Delete this survey",
                "userAddedRows": true,
                "source": "waterQualitySurveys",
                "type": "repeat",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "type": "col",
                        "items": [
                          {
                            "source": "relatedOutcomes",
                            "type": "selectOne",
                            "preLabel": "Which outcome statement/s relates to this survey?"
                          }
                        ]
                      },
                      {
                        "type": "col",
                        "items": [
                          {
                            "source": "baselineOrIndicatorSurvey",
                            "type": "selectOne",
                            "preLabel": "Baseline survey or indicator (follow-up) survey?"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "source": "surveyObjective",
                        "preLabel": "Survey objective",
                        "type": "text"
                      }
                    ]
                  },
                  {
                    "type": "repeat",
                    "source": "waterQualityDataSets",
                    "userAddedRows": true,
                    "addRowText": "New data set",
                    "removeRowText": "Delete this data set",
                    "items": [
                      {
                        "type": "row",
                        "css": "border-bottom",
                        "items": [
                          {
                            "type": "col",
                            "items": [
                              {
                                "source": "dataSetId",
                                "type": "selectOne",
                                "preLabel": "Please select the data set produced by this survey.  Note it must have already been entered on the Data Set Summary tab."
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "projectBaselines",
                                    "type": "selectMany",
                                    "preLabel": "Which project baseline/s relate to this survey?",
                                    "readonly": "readonly"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "investmentPriorities2",
                                    "preLabel": "Which investment priority does this activity relate to?",
                                    "type": "select2Many"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "otherInvestmentPriority",
                                    "type": "text"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Activity start date",
                                    "source": "activitiesStartDate",
                                    "type": "date"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Activity end date",
                                    "source": "activitiesEndDate",
                                    "type": "date"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Sites covered by water quality survey",
                                    "source": "sitesCoveredForWaterQuality",
                                    "type": "feature"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "calculatedAreaTreatedHa",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    },
                                    "readonly": "readonly"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "calculatedLengthTreatedKm",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    },
                                    "readonly": "readonly"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Please attach mapping details",
                                    "source": "extraMappingDetails",
                                    "type": "document"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Actual area (ha) / length (km) covered by water quality survey",
                                    "source": "areaTreatedHa",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    }
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "lengthTreatedKm",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    }
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Reason for actual being different to mapped amount",
                                    "source": "mappingNotAlignedReason",
                                    "type": "selectOne"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "placeholder": "Please enter the reason/s the mapping didn't align with the invoiced amount",
                                    "source": "mappingNotAlignedComments",
                                    "type": "textarea",
                                    "rows": 5
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Survey technique",
                                    "source": "emsaProtocol",
                                    "type": "selectOne",
                                    "readonly": "readonly"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "surveyMethodology",
                                    "preLabel": "Survey methodology",
                                    "type": "text"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "invoicingThisActivity",
                                    "preLabel": "Are you invoicing for this activity in this reporting period?",
                                    "type": "selectOne"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Type of Water Body",
                                    "source": "waterBodyType",
                                    "type": "selectOne"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Type of water body (if Other)",
                                    "source": "otherWaterBodyType",
                                    "type": "text"
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Optionally attach photos",
                    "source": "photographicEvidence",
                    "type": "image"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Clarification, if needed",
                    "type": "textarea",
                    "rows": 4,
                    "css": "span8",
                    "source": "comments",
                    "placeholder": "Clarification comments include information for your project manager about the service like:\n • any reported items that are not being invoiced (eg, over-achievement) \n • any extraneous circumstances that affected delivery of the service \n"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<p><b>Available Evidence</b></p>This field is mandatory for all projects as part of the invoicing process. Please list evidence you have retained for this service and provide information to where the evidence is stored (links/file location data). Refer to the Project Service Evidence Guide and the Project Service Summaries for information on the evidence requirements."
                  },
                  {
                    "preLabel": "Data have been uploaded",
                    "source": "dataUploaded",
                    "type": "boolean"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "",
                    "source": "projectAssuranceDetails",
                    "type": "textarea",
                    "rows": 4,
                    "placeholder": "List the documentary evidence you have available for this project service. Include specifically, the document titles and location (e.g. internal IT network pathway, URLs) to assist with locating this material for future audits/assurance purposes."
                  }
                ]
              },
              {
                "type": "table",
                "source": "assuranceDocuments",
                "userAddedRows": true,
                "disableTableUpload": true,
                "columns": [
                  {
                    "title": "Attached documents",
                    "source": "attachments",
                    "type": "document"
                  }
                ]
              }
            ]
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtWaterQualitySurvey",
      "optional": true,
      "optionalQuestionText": null,
      "title": "Water quality survey",
      "collapsibleHeading": null,
      "name": "NHT - Water quality survey",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "dataModel": [
          {
            "name": "weedSurveys",
            "dataType": "list",
            "minSize": 1,
            "columns": [
              {
                "name": "relatedOutcomes",
                "dataType": "text",
                "description": "Select the outcome/s as defined in your MERI plan that this service was delivered to achieve.",
                "validate": "required",
                "constraints": {
                  "textProperty": "label",
                  "valueProperty": "value",
                  "type": "pre-populated",
                  "config": {
                    "source": {
                      "context-path": "outcomes"
                    }
                  }
                }
              },
              {
                "dataType": "text",
                "name": "baselineOrIndicatorSurvey",
                "description": "",
                "constraints": [
                  "Baseline",
                  "Indicator"
                ],
                "validate": "required"
              },
              {
                "dataType": "text",
                "name": "surveyObjective",
                "description": "What the survey aim to capture? How will the information obtained from the survey be used?",
                "validate": "required,maxSize[3000]"
              },
              {
                "dataType": "number",
                "name": "numberOfSurveys",
                "validate": "required,min[1],max[1]",
                "defaultValue": 1,
                "readonly": true
              },
              {
                "dataType": "number",
                "name": "numberOfSurveysInvoiced",
                "validate": "required,min[0],max[1]",
                "defaultValue": 1
              },
              {
                "dataType": "list",
                "name": "weedDataSets",
                "columns": [
                  {
                    "name": "dataSetId",
                    "dataType": "text",
                    "description": "This section will require the Data Set Name so the Metadata fields in the Data Set Summary tab should be filled out before the Outcome Report is due. More than one dataset if relevant for this Project Baseline could be selected.",
                    "validate": "required",
                    "constraints": {
                      "textProperty": "name",
                      "valueProperty": "dataSetId",
                      "excludePath": "weedSurveys.weedDataSets.dataSetId",
                      "type": "pre-populated",
                      "config": {
                        "source": {
                          "context-path": "owner.custom.dataSets"
                        },
                        "filter": {
                          "namespace": "dataSet",
                          "expression": "dataSet.serviceId == 33 and dataSet.progress == 'finished' and baselineOrIndicatorSurvey == baselineIndicatorMapping.lookupValue(dataSet.type) and deepEquals(relatedOutcomes,dataSet.outcomesLabel)"
                        }
                      }
                    },
                    "behaviour": [
                      {
                        "type": "pre_populate",
                        "config": {
                          "waitForInitialisation": true,
                          "source": {
                            "url": "/site/geojson",
                            "params": [
                              {
                                "expression": "x=find(owner.custom.dataSets, \"dataSetId\", dataSetId); x.siteId",
                                "name": "id",
                                "type": "computed",
                                "required": true
                              }
                            ]
                          },
                          "target":  {
                            "type": "singleValue",
                            "name": "sitesCoveredForWeedDistribution"
                          }
                        }
                      }
                    ]
                  },
                  {
                    "columns": [
                      {
                        "dataType": "species",
                        "name": "species",
                        "validate": "required"
                      },
                      {
                        "dataType": "text",
                        "name": "threatenedEcologicalCommunity",
                        "validate": "maxSize[300]"
                      },
                      {
                        "dataType": "number",
                        "name": "estimatedCoverPercent",
                        "validate": "required,min[0],max[100]"
                      },
                      {
                        "dataType": "text",
                        "name": "individualsOrGroups",
                        "constraints": [
                          "Individuals",
                          "Groups"
                        ],
                        "validate": "required"
                      },
                      {
                        "dataType": "number",
                        "name": "numberOfIndividualsOrGroups",
                        "validate": "required,min[0]"
                      }
                    ],
                    "dataType": "list",
                    "name": "weedSurveySpeciesTable"
                  },
                  {
                    "dataType": "text",
                    "name": "baselineOrIndicatorSurvey",
                    "description": "",
                    "constraints": [
                      "Baseline",
                      "Indicator"
                    ],
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); baselineIndicatorMapping.lookupValue(x.type)"
                    }
                  },
                  {
                    "name": "projectBaselines",
                    "dataType": "stringList",
                    "description": "Select the relevant Project Baseline as listed in the Monitoring Methodology section of the MERI Plan.",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.baselines"
                    },
                    "constraints": {
                      "textProperty": "baseline",
                      "valueProperty": "code",
                      "type": "pre-populated",
                      "excludePath": "projectBaselines",
                      "config": {
                        "source": {
                          "context-path": "owner.custom.details.baseline.rows"
                        }
                      }
                    }
                  },
                  {
                    "name": "investmentPriorities2",
                    "dataType": "stringList",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.investmentPriorities"
                    },
                    "constraints": {
                      "type": "pre-populated",
                      "config": {
                        "source": {
                          "params": [
                            {
                              "expression": "owner.projectId",
                              "name": "id",
                              "type": "computed"
                            }
                          ],
                          "url": "/project/listProjectInvestmentPriorities/"
                        }
                      }
                    }
                  },
                  {
                    "dataType": "text",
                    "name": "otherInvestmentPriority",
                    "behaviour": [
                      {
                        "type": "enable",
                        "condition": "\"Other\" in investmentPriorities2"
                      }
                    ]
                  },
                  {
                    "dataType": "date",
                    "name": "activitiesStartDate",
                    "description": "Specific the dates these events were held on.",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.startDate"
                    }
                  },
                  {
                    "dataType": "date",
                    "name": "activitiesEndDate",
                    "description": "Specific the dates these events were held on.",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.endDate"
                    }
                  },
                  {
                    "dataType": "feature",
                    "name": "sitesCoveredForWeedDistribution",
                    "description": "Mapping field to be done and Area (ha)/length (km) field be auto-calculated from mapping."
                  },
                  {
                    "computed": {
                      "expression": "$geom.areaHa(sitesCoveredForWeedDistribution)"
                    },
                    "dataType": "number",
                    "name": "calculatedAreaTreatedHa",
                    "units": "ha",
                    "decimalPlaces": 3
                  },
                  {
                    "computed": {
                      "expression": "$geom.lengthKm(sitesCoveredForWeedDistribution)"
                    },
                    "dataType": "number",
                    "name": "calculatedLengthTreatedKm",
                    "units": "km",
                    "decimalPlaces": 3,
                    "behaviour": [
                      {
                        "condition": "lengthTreatedKm > 0",
                        "type": "conditional_validation",
                        "value": {
                          "message": "The managed length must be mapped",
                          "validate": "required,min[0.0001]"
                        }
                      }
                    ]
                  },
                  {
                    "defaultValue": {
                      "type": "computed",
                      "expression": "calculatedAreaTreatedHa"
                    },
                    "dataType": "number",
                    "name": "areaTreatedHa",
                    "description": "Manually enter correct figure for this reporting period if different to mapped value.",
                    "units": "ha",
                    "decimalPlaces": 3,
                    "validate": "required,min[0]"
                  },
                  {
                    "dataType": "text",
                    "name": "mappingNotAlignedReason",
                    "constraints": [
                      "Mapped area simplifies more complex area/s where work was undertaken during this period",
                      "Other"
                    ],
                    "validate": "required",
                    "behaviour": [
                      {
                        "condition": "not (within(calculatedAreaTreatedHa, areaTreatedHa, 0.1))",
                        "type": "visible"
                      }
                    ]
                  },
                  {
                    "dataType": "text",
                    "name": "mappingNotAlignedComments",
                    "validate": "required,maxSize[100]",
                    "behaviour": [
                      {
                        "type": "visible",
                        "condition": "\"Other\" == mappingNotAlignedReason"
                      }
                    ]
                  },
                  {
                    "dataType": "document",
                    "name": "extraMappingDetails",
                    "validate": "required",
                    "description": "Please fill in the Mapped/Actual/Invoice fields before attaching a document here. If those fields match this field will be void. <br/>If any of these fields differ please attach your organisation's detailed map for the area, covered by this project service - during reporting period (include the scale measure for each map).",
                    "behaviour": [
                      {
                        "condition": "not (within(calculatedAreaTreatedHa, areaTreatedHa, 0.1))",
                        "type": "visible"
                      }
                    ]
                  },
                  {
                    "defaultValue": {
                      "type": "computed",
                      "expression": "$geom.lengthKm(sitesCoveredForWeedDistribution)"
                    },
                    "dataType": "number",
                    "name": "lengthTreatedKm",
                    "units": "km",
                    "decimalPlaces": 3,
                    "validate": [
                      {
                        "rule": "min",
                        "param": {
                          "type": "computed",
                          "expression": "$geom.lengthKm(sitesCoveredForWeedDistribution)*0.9"
                        }
                      },
                      {
                        "rule": "max",
                        "param": {
                          "type": "computed",
                          "expression": "$geom.lengthKm(sitesCoveredForWeedDistribution)*1.1"
                        }
                      }
                    ]
                  },
                  {
                    "dataType": "text",
                    "description": "Select the technique used to conduct the survey. If the EMSA Application tool was not used, you should select 'Other'.",
                    "name": "emsaProtocol",
                    "validate": "required",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.protocol"
                    },
                    "constraints": {
                      "textProperty": "label",
                      "valueProperty": "value",
                      "type": "pre-populated",
                      "config": {
                        "source": {
                          "context-path": "owner.protocols"
                        }
                      }
                    }
                  },
                  {
                    "dataType": "stringList",
                    "description": "Describe the technique (if Other) was selected.",
                    "name": "otherEmsaProtocol",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.methods"
                    },
                    "validate": "required"
                  },
                  {
                    "dataType": "text",
                    "name": "surveyMethodology",
                    "description": "Provide more details on what is being done.",
                    "validate": "required,maxSize[3000]",
                    "computed": {
                      "expression": "x=find($context.owner.custom.dataSets, \"dataSetId\", dataSetId); x.methodDescription"
                    }
                  },
                  {
                    "dataType": "text",
                    "name": "invoicingThisActivity",
                    "constraints": [
                      "Yes",
                      "No"
                    ],
                    "validate": "required"
                  }
                ],
                "minSize": 1
              }
            ]
          },
          {
            "dataType": "lookupTable",
            "name": "baselineIndicatorMapping",
            "config": {
              "source": {
                "literal": {
                  "Baseline dataset associated with a project outcome": "Baseline",
                  "Project progress dataset that is tracking change against an established project baseline dataset": "Indicator"
                }
              }
            }
          },
          {
            "columns": [
              {
                "dataType": "text",
                "name": "participationIndividualsOrGroups",
                "description": "Once Individuals or groups is selected, the related number field in the next two columns will become editable to report.",
                "constraints": [
                  "Individuals",
                  "Groups"
                ],
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "participationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "participationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ]
              },
              {
                "dataType": "number",
                "name": "firstNationIndividualNumber",
                "defaultValue": 0,
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Individuals\"",
                    "type": "enable"
                  }
                ],
                "validate": [
                  {
                    "rule": "required"
                  },
                  {
                    "rule": "min[0]"
                  },
                  {
                    "param": {
                      "expression": "participationIndividualNumber",
                      "type": "computed"
                    },
                    "rule": "max"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "firstNationGroupNumber",
                "behaviour": [
                  {
                    "condition": "participationIndividualsOrGroups == \"Groups\"",
                    "type": "enable"
                  }
                ],
                "constraints": [
                  "0",
                  "1-10",
                  "11-20",
                  "21-30",
                  "31-40",
                  "41-50"
                ]
              },
              {
                "dataType": "text",
                "name": "participationDetails",
                "validate": "required, maxSize[3000]"
              }
            ],
            "dataType": "list",
            "name": "participationInformationTable"
          },
          {
            "dataType": "number",
            "name": "totalSurveyBaseline",
            "validate": "required,min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(weedSurveys, \"baselineOrIndicatorSurvey == 'Baseline' ? 1 : 0\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalSurveyBaselineInvoiced",
            "validate": [
              {
                "param": {
                  "expression": "totalSurveyBaseline",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": 0
          },
          {
            "dataType": "number",
            "name": "totalSurveyIndicator",
            "validate": "required,min[0]",
            "decimalPlaces": 0,
            "computed": {
              "expression": "sum(weedSurveys, \"baselineOrIndicatorSurvey == 'Indicator' ? 1 : 0\")"
            }
          },
          {
            "dataType": "number",
            "name": "totalSurveyIndicatorInvoiced",
            "validate": [
              {
                "param": {
                  "expression": "totalSurveyIndicator",
                  "type": "computed"
                },
                "rule": "max"
              }
            ],
            "defaultValue": 0
          },
          {
            "dataType": "text",
            "name": "comments",
            "validate": "maxSize[1500]"
          },
          {
            "dataType": "image",
            "name": "photographicEvidence"
          },
          {
            "dataType": "boolean",
            "name": "dataUploaded",
            "description": ""
          },
          {
            "dataType": "text",
            "name": "projectAssuranceDetails",
            "description": ""
          },
          {
            "dataType": "list",
            "name": "assuranceDocuments",
            "columns": [
              {
                "dataType": "document",
                "name": "attachments",
                "description": "Please attach any Evidence of Service Delivery here."
              }
            ]
          }
        ],
        "modelName": "NHT - Weed distribution survey",
        "title": "Weed Distribution Survey",
        "viewModel": [
          {
            "type": "section",
            "items": [
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<h3>Participation information</h3>"
                  }
                ]
              },
              {
                "columns": [
                  {
                    "width": "10%",
                    "source": "participationIndividualsOrGroups",
                    "title": "Are individuals or groups delivering this service?",
                    "type": "selectOne"
                  },
                  {
                    "width": "20%",
                    "type": "col",
                    "title": "Total number of people delivering this service <br>(including First Nations people)<b style=\"color:red\">*</b>",
                    "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                    "items": [
                      {
                        "source": "participationIndividualNumber",
                        "type": "number"
                      },
                      {
                        "source": "participationGroupNumber",
                        "type": "selectOne"
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "width": "20%",
                    "title": "Total number of First Nations people delivering this service<b style=\"color:red\">*</b>",
                    "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                    "items": [
                      {
                        "source": "firstNationIndividualNumber",
                        "type": "number"
                      },
                      {
                        "source": "firstNationGroupNumber",
                        "type": "selectOne"
                      }
                    ]
                  },
                  {
                    "source": "participationDetails",
                    "rows": 4,
                    "title": "If no First Nations people participated in the delivery of this service, <br>what are the reasons? If there was participation, please provide details.",
                    "helpText": "If there were no First Nations people participating in the delivery of this service, please explain the reasons. If there were First Nations people involved, please outline how they were involved.",
                    "type": "textarea"
                  }
                ],
                "userAddedRows": false,
                "disableTableUpload": false,
                "source": "participationInformationTable",
                "type": "table"
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<h3>Survey information</h3><p><b>Before completing this section, please ensure you have created a Data Set Summary information for every data set produced by the surveys you intend to report</b></p><ul><li>Each survey reported must relate to a combination of outcomes as described in your MERI plan</li><li>Each Data Set Summary recorded for a survey must be addressing the same outcomes as selected for the survey</li><li>If a survey produced more than one data set, use the New Data Set button to add each Data Set Summary under your survey</li><li>A single survey can be made up of multiple dataset</li></ul>"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<h3>Totals Summary</h3>"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "col",
                    "css": "span4 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(i) Total Number of baseline weed distribution surveys completed for this reporting period",
                            "source": "totalSurveyBaseline",
                            "type": "number"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(ii) Total Number of baseline weed distribution surveys <u><i>invoiced</i></u> for this reporting period",
                            "source": "totalSurveyBaselineInvoiced",
                            "type": "number"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "col",
                    "css": "span4 col-border-right",
                    "items": [
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(iii)  Total Number of  indicator weed distribution surveys completed for this reporting period",
                            "source": "totalSurveyIndicator",
                            "type": "number"
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "preLabel": "(iv) Total Number of indicator weed distribution surveys <u><i>invoiced</i></u> for this reporting period",
                            "source": "totalSurveyIndicatorInvoiced",
                            "type": "number"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "addRowText": "Add survey",
                "removeRowText": "Delete this survey",
                "userAddedRows": true,
                "source": "weedSurveys",
                "type": "repeat",
                "items": [
                  {
                    "type": "row",
                    "items": [
                      {
                        "type": "col",
                        "items": [
                          {
                            "source": "relatedOutcomes",
                            "type": "selectOne",
                            "preLabel": "Which outcome statement/s relates to this survey?"
                          }
                        ]
                      },
                      {
                        "type": "col",
                        "items": [
                          {
                            "source": "baselineOrIndicatorSurvey",
                            "type": "selectOne",
                            "preLabel": "Baseline survey or indicator (follow-up) survey?"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "type": "row",
                    "items": [
                      {
                        "source": "surveyObjective",
                        "preLabel": "Survey objective",
                        "type": "text"
                      }
                    ]
                  },
                  {
                    "type": "repeat",
                    "source": "weedDataSets",
                    "userAddedRows": true,
                    "addRowText": "New data set",
                    "removeRowText": "Delete this data set",
                    "items": [
                      {
                        "type": "row",
                        "css": "border-bottom",
                        "items": [
                          {
                            "type": "col",
                            "items": [
                              {
                                "source": "dataSetId",
                                "type": "selectOne",
                                "preLabel": "Please select the data set produced by this survey.  Note it must have already been entered on the Data Set Summary tab."
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "type": "row",
                        "items": [
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "projectBaselines",
                                    "type": "selectMany",
                                    "preLabel": "Which project baseline/s relate to this survey?",
                                    "readonly": "readonly"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "investmentPriorities2",
                                    "preLabel": "Which investment priority does this activity relate to?",
                                    "type": "select2Many"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "otherInvestmentPriority",
                                    "type": "text"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Activity start date",
                                    "source": "activitiesStartDate",
                                    "type": "date"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Activity end date",
                                    "source": "activitiesEndDate",
                                    "type": "date"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Sites covered by weed distribution survey",
                                    "source": "sitesCoveredForWeedDistribution",
                                    "type": "feature"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "calculatedAreaTreatedHa",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    },
                                    "readonly": "readonly"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "calculatedLengthTreatedKm",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    },
                                    "readonly": "readonly"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Please attach mapping details",
                                    "source": "extraMappingDetails",
                                    "type": "document"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Actual area (ha) / length (km) covered by weed distribution survey",
                                    "source": "areaTreatedHa",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    }
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "lengthTreatedKm",
                                    "type": "number",
                                    "displayOptions": {
                                      "displayUnits": true
                                    }
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Reason for actual being different to mapped amount",
                                    "source": "mappingNotAlignedReason",
                                    "type": "selectOne"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "placeholder": "Please enter the reason/s the mapping didn't align with the invoiced amount",
                                    "source": "mappingNotAlignedComments",
                                    "type": "textarea",
                                    "rows": 5
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Survey technique",
                                    "source": "emsaProtocol",
                                    "type": "selectOne",
                                    "readonly": "readonly"
                                  }
                                ]
                              },
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "preLabel": "Survey technique (if Other)",
                                    "source": "otherEmsaProtocol",
                                    "type": "select2Many"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "surveyMethodology",
                                    "preLabel": "Survey methodology",
                                    "type": "text"
                                  }
                                ]
                              }
                            ]
                          },
                          {
                            "type": "col",
                            "css": "span3 col-border-right",
                            "items": [
                              {
                                "type": "row",
                                "items": [
                                  {
                                    "source": "invoicingThisActivity",
                                    "preLabel": "Are you invoicing for this activity in this reporting period?",
                                    "type": "selectOne"
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "columns": [
                          {
                            "width": "40%",
                            "source": "species",
                            "title": "Target species recorded",
                            "type": "speciesSelect"
                          },
                          {
                            "width": "10%",
                            "source": "estimatedCoverPercent",
                            "title": "Estimated weed cover (%)",
                            "type": "number"
                          },
                          {
                            "width": "25%",
                            "source": "threatenedEcologicalCommunity",
                            "title": "Threatened ecological communities (if applicable)",
                            "type": "text"
                          },
                          {
                            "width": "15%",
                            "source": "individualsOrGroups",
                            "title": "Are individuals or groups delivering this service?",
                            "type": "selectOne"
                          },
                          {
                            "width": "10%",
                            "source": "numberOfIndividualsOrGroups",
                            "title": "Number of groups / individuals in weed survey",
                            "type": "number"
                          }
                        ],
                        "userAddedRows": true,
                        "disableTableUpload": false,
                        "source": "weedSurveySpeciesTable",
                        "type": "table"
                      }
                    ]
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Optionally attach photos",
                    "source": "photographicEvidence",
                    "type": "image"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Clarification, if needed",
                    "type": "textarea",
                    "rows": 4,
                    "css": "span8",
                    "source": "comments",
                    "placeholder": "Clarification comments include information for your project manager about the service like:\n • any reported items that are not being invoiced (eg, over-achievement) \n • any extraneous circumstances that affected delivery of the service \n"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<p><b>Available Evidence</b></p>This field is mandatory for all projects as part of the invoicing process. Please list evidence you have retained for this service and provide information to where the evidence is stored (links/file location data). Refer to the Project Service Evidence Guide and the Project Service Summaries for information on the evidence requirements."
                  },
                  {
                    "preLabel": "Data have been uploaded",
                    "source": "dataUploaded",
                    "type": "boolean"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "",
                    "source": "projectAssuranceDetails",
                    "type": "textarea",
                    "rows": 4,
                    "placeholder": "List the documentary evidence you have available for this project service. Include specifically, the document titles and location (e.g. internal IT network pathway, URLs) to assist with locating this material for future audits/assurance purposes."
                  }
                ]
              },
              {
                "type": "table",
                "source": "assuranceDocuments",
                "userAddedRows": true,
                "disableTableUpload": true,
                "columns": [
                  {
                    "title": "Attached documents",
                    "source": "attachments",
                    "type": "document"
                  }
                ]
              }
            ]
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtWeedDistributionSurvey",
      "optional": true,
      "optionalQuestionText": null,
      "title": "Weed distribution survey",
      "collapsibleHeading": null,
      "name": "NHT - Weed distribution survey",
      "description": null
    },
    {
      "collapsedByDefault": false,
      "template": {
        "dataModel": [
          {
            "dataType": "text",
            "name": "participationIndividualsOrGroups",
            "description": "Once Individuals or groups is selected, the related number field in the next two columns will become editable to report.",
            "constraints": [
              "Individuals",
              "Groups"
            ],
            "validate": "required"
          },
          {
            "dataType": "number",
            "name": "participationIndividualNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Individuals\"",
                "type": "enable"
              }
            ],
            "validate": "required,min[0]"
          },
          {
            "dataType": "text",
            "name": "participationGroupNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Groups\"",
                "type": "enable"
              }
            ],
            "constraints": [
              "0",
              "1-10",
              "11-20",
              "21-30",
              "31-40",
              "41-50"
            ],
            "validate": "required"
          },
          {
            "dataType": "number",
            "name": "firstNationIndividualNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Individuals\"",
                "type": "enable"
              }
            ],
            "validate": "required,min[0]"
          },
          {
            "dataType": "text",
            "name": "firstNationGroupNumber",
            "behaviour": [
              {
                "condition": "participationIndividualsOrGroups == \"Groups\"",
                "type": "enable"
              }
            ],
            "constraints": [
              "0",
              "1-10",
              "11-20",
              "21-30",
              "31-40",
              "41-50"
            ],
            "validate": "required"
          },
          {
            "dataType": "text",
            "name": "participationDetails",
            "validate": "maxSize[3000]"
          },
          {
            "columns": [
              {
                "dataType": "number",
                "name": "numberOfSaf",
                "description": "",
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "fullOrPartTime",
                "constraints": [
                  "Full-time",
                  "Part-time"
                ],
                "validate": "required"
              },
              {
                "dataType": "number",
                "name": "numberOfFteEachPos",
                "description": "Note: Full-time recorded as 1. Part-time recorded as 0.6, 0.5 or 0.25",
                "validate": "required,min[0]"
              },
              {
                "dataType": "number",
                "name": "numberOfFteInvoicedFor",
                "description": "",
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "wasPositionVacant",
                "constraints": [
                  "Yes",
                  "No"
                ],
                "validate": "required"
              },
              {
                "name": "yesPositionVacant",
                "dataType": "text",
                "constraints": [
                  "Yes",
                  "No"
                ],
                "behaviour": [
                  {
                    "condition": "wasPositionVacant == \"Yes\"",
                    "type": "enable"
                  }
                ]
              },
              {
                "dataType": "text",
                "name": "noRecruitmentProcess",
                "behaviour": [
                  {
                    "condition": "yesPositionVacant == \"No\"",
                    "type": "enable"
                  }
                ],
                "validate": "maxSize[300]"
              },
              {
                "dataType": "date",
                "name": "expectedDatePositionFill"
              },
              {
                "dataType": "text",
                "name": "coveredInterimPosition",
                "validate": "maxSize[100]"
              },
              {
                "dataType": "text",
                "name": "deliveryOrSubcontractorEmployed",
                "constraints": [
                  "Delivery partner",
                  "Subcontractor"
                ],
                "validate": "required"
              },
              {
                "name": "subcontractorEmployed",
                "dataType": "text",
                "behaviour": [
                  {
                    "condition": "deliveryOrSubcontractorEmployed == \"Subcontractor\"",
                    "type": "enable"
                  }
                ]
              },
              {
                "dataType": "number",
                "name": "totalPeopleDelivering",
                "description": "",
                "validate": "required,min[0]"
              },
              {
                "dataType": "number",
                "name": "totalFirstNationDelivering",
                "description": "",
                "validate": "required,min[0]"
              },
              {
                "dataType": "text",
                "name": "noFirstNationParticipant",
                "validate": "maxSize[300]"
              },
              {
                "dataType": "text",
                "name": "withFirstNationParticipant",
                "validate": "maxSize[300]"
              }
            ],
            "dataType": "list",
            "name": "sustainableAgricultureFacilitators"
          },
          {
            "dataType": "text",
            "name": "comments",
            "validate": "maxSize[1500]"
          },
          {
            "dataType": "image",
            "name": "photographicEvidence"
          },
          {
            "dataType": "boolean",
            "name": "dataUploaded",
            "description": "<ul><li>Tick box to confirm data has been uploaded</li><li>URL Link (mandatory if below is ticked) in available evidence</li></ul>"
          },
          {
            "name": "projectAssuranceDetails",
            "dataType": "text",
            "validate": "required,maxSize[5000]",
            "behaviour": [
              {
                "condition": "dataUploaded == true",
                "type": "enable"
              }
            ]
          },
          {
            "dataType": "list",
            "name": "assuranceDocuments",
            "columns": [
              {
                "dataType": "document",
                "name": "attachments",
                "description": "Please attach any Evidence of Service Delivery here."
              }
            ]
          }
        ],
        "modelName": "NHT - Sustainable agriculture facilitators",
        "title": "Sustainable Agriculture Facilitators",
        "viewModel": [
          {
            "columns": [
              {
                "width": "10%",
                "source": "participationIndividualsOrGroups",
                "title": "Are individuals or groups delivering this service?",
                "type": "selectOne"
              },
              {
                "width": "20%",
                "type": "col",
                "title": "Total number of people delivering this service <br>(including First Nations people)",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "participationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "participationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "type": "col",
                "width": "20%",
                "title": "Total number of First Nations people delivering this service ",
                "helpText": "Please record either the total number of individuals or the number of individuals in the group that delivered this service. If you have a mix of Individuals and groups, you should report them separately by adding a row.",
                "items": [
                  {
                    "source": "firstNationIndividualNumber",
                    "type": "number"
                  },
                  {
                    "source": "firstNationGroupNumber",
                    "type": "selectOne"
                  }
                ]
              },
              {
                "source": "participationDetails",
                "rows": 4,
                "title": "If no First Nations people participated in the delivery of this service, <br>what are the reasons? If there was participation, please provide details.",
                "helpText": "If there were no First Nations people participating in the delivery of this service, please explain the reasons. If there were First Nations people involved, please outline how they were involved.",
                "type": "textarea"
              }
            ],
            "userAddedRows": false,
            "disableTableUpload": false,
            "source": "",
            "type": "table"
          },
          {
            "type": "row",
            "items": [
              {
                "source": "<b>Please note to add a row for the different employment category and FTE.</b>",
                "type": "literal"
              }
            ]
          },
          {
            "type": "section",
            "items": [
              {
                "columns": [
                  {
                    "width": "5%",
                    "source": "numberOfSaf",
                    "title": "Number of Sustainable Agriculture Facilitators (SAFs)",
                    "type": "number"
                  },
                  {
                    "width": "5%",
                    "source": "fullOrPartTime",
                    "title": "Full time or part-time employment",
                    "type": "selectOne"
                  },
                  {
                    "width": "5%",
                    "source": "numberOfFteEachPos",
                    "title": "FTE of each position",
                    "type": "number"
                  },
                  {
                    "width": "5%",
                    "source": "numberOfFteInvoicedFor",
                    "title": "Number of FTEs invoiced for",
                    "type": "number"
                  },
                  {
                    "width": "5%",
                    "source": "wasPositionVacant",
                    "title": "Was the position(s) vacant for any amount of time during the reporting period (not including leave)",
                    "type": "selectOne"
                  },
                  {
                    "width": "5%",
                    "source": "yesPositionVacant",
                    "title": "If yes, is there a recruitment process being run?",
                    "type": "selectOne"
                  },
                  {
                    "width": "10%",
                    "source": "noRecruitmentProcess",
                    "title": "If no, what are the reasons?",
                    "type": "text"
                  },
                  {
                    "width": "10%",
                    "source": "expectedDatePositionFill",
                    "title": "Expected date to fill the position(s)",
                    "type": "date"
                  },
                  {
                    "width": "10%",
                    "source": "coveredInterimPosition",
                    "title": "How is the position(s) being covered in the interim?",
                    "type": "text"
                  },
                  {
                    "width": "5%",
                    "source": "deliveryOrSubcontractorEmployed",
                    "title": "Is the position employed by delivery partner or subcontractor?",
                    "type": "selectOne"
                  },
                  {
                    "width": "5%",
                    "source": "subcontractorEmployed",
                    "title": "If employed by subcontractor, please provide name of subcontractor",
                    "type": "text"
                  },
                  {
                    "width": "5%",
                    "source": "totalPeopleDelivering",
                    "title": "Total number of people delivering this service <br>(including First Nations people)",
                    "type": "number"
                  },
                  {
                    "width": "5%",
                    "source": "totalFirstNationDelivering",
                    "title": "Total number of First Nations people delivering this service",
                    "type": "number"
                  },
                  {
                    "width": "10%",
                    "source": "noFirstNationParticipant",
                    "title": "If no First Nations people participated in the delivery of this service, what are the reasons?",
                    "type": "text"
                  },
                  {
                    "width": "10%",
                    "source": "withFirstNationParticipant",
                    "title": "If there was First Nations people participation, please provide details",
                    "type": "text"
                  }
                ],
                "userAddedRows": true,
                "source": "sustainableAgricultureFacilitators",
                "type": "table"
              },
              {
                "type": "row",
                "items": [
                  {
                    "source": "<i>Note: to upload a communication material refer to the documents tab.</i>",
                    "type": "literal"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Optionally attach photos",
                    "source": "photographicEvidence",
                    "type": "image"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "preLabel": "Clarification, if needed",
                    "type": "textarea",
                    "rows": 4,
                    "css": "span8",
                    "source": "comments",
                    "placeholder": "Clarification comments include information for your project manager about the service like:\n • any reported items that are not being invoiced (eg, over-achievement) \n • any extraneous circumstances that affected delivery of the service \n"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "type": "literal",
                    "source": "<p><b>Available Evidence</b></p>This field is mandatory for all projects as part of the invoicing process. Please list evidence you have retained for this service and provide information to where the evidence is stored (links/file location data). Refer to the Project Service Evidence Guide and the Project Service Summaries for information on the evidence requirements.<b style=\"color:red\">*</b>"
                  },
                  {
                    "preLabel": "Data have been uploaded",
                    "source": "dataUploaded",
                    "type": "boolean"
                  }
                ]
              },
              {
                "type": "row",
                "items": [
                  {
                    "source": "projectAssuranceDetails",
                    "type": "textarea",
                    "rows": 4,
                    "placeholder": "List the documentary evidence you have available for this project service. Include specifically, the document titles and location (e.g. internal IT network pathway, URLs) to assist with locating this material for future audits/assurance purposes."
                  }
                ]
              },
              {
                "type": "table",
                "source": "assuranceDocuments",
                "userAddedRows": true,
                "disableTableUpload": true,
                "columns": [
                  {
                    "title": "Attached documents",
                    "source": "attachments",
                    "type": "document"
                  }
                ]
              }
            ]
          }
        ]
      },
      "modelName": null,
      "templateName": "nhtSustainableAgricultureFacilitators",
      "optional": true,
      "optionalQuestionText": null,
      "title": "Sustainable agriculture facilitators",
      "collapsibleHeading": null,
      "name": "NHT - Sustainable agriculture facilitators",
      "description": null
    }
  ],
  "type": "Report",
  "category": "NHT Reports",
  "status": "active",
  "lastUpdatedUserId": "56575",
  "description": null,
  "formVersion": 1
}